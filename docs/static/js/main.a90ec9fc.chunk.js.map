{"version":3,"sources":["components/responsive-masonry/index.js","pages/display/styles.module.scss","components/item-info/styles.module.scss","pages/gallery-detail/item-modal/styles.module.scss","constants.js","utils/sanitise.js","components/media-types/html/styles.module.scss","utils/html.js","components/header/styles.module.scss","pages/gallery-detail/styles.module.scss","components/preview/styles.module.scss","components/loading/styles.module.scss","components/feedback/styles.module.scss","components/owner-swaps/styles.module.scss","pages/gallery-detail/item/styles.module.scss","components/upload/index.js","components/footer/styles.module.scss","components/layout/container/styles.module.scss","pages/about/styles.module.scss","components/media-types/glb/styles.module.scss","components/media-types/styles.module.scss","pages/galleries/styles.module.scss","pages/gallery-detail/artist-icon/styles.module.scss","pages/tags/styles.module.scss","components/layout/page/styles.module.scss","components/media-types/image/styles.module.scss","components/media-types/video/styles.module.scss","components/media-types/audio/styles.module.scss","context/HicetnuncContext.js","components/media-types/vector/styles.module.scss","components/media-types/unknown/styles.module.scss","components/identicons/styles.module.scss","components/responsive-masonry/styles.module.scss","components/upload/styles.module.scss","components/tags/styles.module.scss","components/owner-list/styles.module.scss","pages/gallery-detail/artist/styles.module.scss","components/button/index.js","pages/objkt-display/tabs/burn.js","components/button-language/styles.module.scss","components/button-theme/styles.module.scss","components/visually-hidden/styles.module.scss","components/layout/padding/styles.module.scss","components/icons/styles.module.scss","components/media-types/glb/index.js","components/media-types/pdf/styles.module.scss","components/feed-item/styles.module.scss","components/input/styles.module.scss","components/menu/styles.module.scss","components/artist-socials/styles.module.scss","pages/config/index.js","components/loading/index.js","components/visually-hidden/index.js","components/layout/page/index.js","components/layout/container/index.js","components/layout/padding/index.js","components/input/index.js","utils/storage.js","components/button/styles.module.scss","pages/faq/styles.module.scss","components/media-types/audio/visualiser.js","data/api.js","components/button-theme/index.js","components/footer/index.js","components/icons/index.js","utils/string.js","components/header/index.js","utils/motion.js","components/feedback/index.js","pages/sync.js","pages/about/index.js","pages/faq/index.js","components/media-types/image/index.js","utils/os.js","components/media-types/video/index.js","components/media-types/audio/index.js","components/media-types/vector/index.js","components/media-types/html/index.js","components/media-types/unknown/index.js","components/media-types/pdf/index.js","components/media-types/container.js","components/media-types/index.js","components/identicons/index.js","components/select/index.js","components/select/SimpleSelect.js","pages/display/index.js","components/item-info/index.js","components/feed-item/index.js","pages/feeds/feeds.js","components/tags/index.js","components/media-types/html/warning.js","components/preview/index.js","data/ipfs.js","pages/mint/index.js","components/menu/index.js","components/owner-list/index.js","components/owner-swaps/index.js","pages/objkt-display/index.js","pages/objkt-display/tabs/info.js","pages/objkt-display/tabs/collectors.js","pages/objkt-display/tabs/swap.js","pages/galleries/index.js","pages/gallery-detail/item/index.js","components/artist-socials/index.js","pages/gallery-detail/artist-icon/index.js","pages/gallery-detail/item-modal/index.js","pages/gallery-detail/artist/index.js","pages/search/index.js","routes.js","pages/feeds/index.js","pages/gallery-detail/index.js","pages/tags/index.js","App.js","serviceWorker.js","index.js"],"names":["ResponsiveMasonry","children","getColumns","global","innerWidth","useState","colums","setColumns","useEffect","resize","addEventListener","removeEventListener","breakpointCols","className","styles","grid","columnClassName","column","module","exports","LANGUAGE","setLanguage","data","getLanguage","objktBlockList","setObjktBlockList","getObjktBlockList","walletBlockList","setWalletBlockList","getWalletBlockList","setBanBlockList","PATH","FEED","ISSUER","ABOUT","FAQ","SYNC","MINT","OBJKT","GALLERY","TAGS","MINT_FILESIZE","MIMETYPE","BMP","GIF","JPEG","PNG","SVG","TIFF","WEBP","MP4","OGV","QUICKTIME","WEBM","GLB","GLTF","MP3","OGA","WAV","FLAC","PDF","ZIP","ZIP1","ZIP2","IPFS_DIRECTORY_MIMETYPE","ALLOWED_MIMETYPES","Object","keys","map","k","filter","e","ALLOWED_FILETYPES_LABEL","entries","includes","join","ALLOWED_COVER_MIMETYPES","ALLOWED_COVER_FILETYPES_LABEL","MAX_EDITIONS","MIN_ROYALTIES","MAX_ROYALTIES","IPFS_DISPLAY_URI_BLACKCIRCLE","SanitiseOBJKT","objkt","o","length","token_info","console","warn","getMimeType","file","Promise","resolve","filereader","FileReader","onloadend","target","readyState","DONE","mimeType","uint","Uint8Array","result","bytes","forEach","byte","push","toString","toUpperCase","onerror","readAsArrayBuffer","slice","getTotalSales","owners","creators","reduce","edition","ownerID","Number","prepareFilesFromZIP","buffer","a","unzipBuffer","files","indexBlob","Blob","type","endsWith","arrayBuffer","pageBuffer","safePageBuffer","injectCSPMetaTagIntoBuffer","path","blob","f","fflate","entry","rootDir","i","parts","split","pop","msg","window","alert","Error","index","relPath","replace","mime","lookup","injectCSPMetaTagIntoDataURI","dataURI","prefix","base64","safeHTML","injectCSPMetaTagIntoHTML","atob","btoa","TextDecoder","decode","TextEncoder","encode","html","doc","DOMParser","parseFromString","existing","head","querySelectorAll","remove","insertAdjacentHTML","documentElement","innerHTML","getCoverImagePathFromBuffer","meta","querySelector","getAttribute","getCoverImagePathFromDoc","validateFiles","valid","error","pageBlob","text","htmlString","parser","dataRUIToBuffer","binaryStr","len","charCodeAt","Buffer","require","Upload","label","allowedTypes","allowedTypesLabel","onChange","language","title","setTitle","onFileChange","name","from","reader","readAsDataURL","props","container","allowed","mint","supports","NetworkType","ls","axios","eztz","HicetnuncContext","createContext","Tezos","TezosToolkit","wallet","BeaconWallet","preferredNetwork","setWalletProvider","HicetnuncContextProviderClass","state","hDAO","subjkt","fullscreen","setFullscreen","setState","theme","setTheme","root","document","light","setItem","style","setProperty","feedback","visible","message","progress","confirm","confirmCallback","setFeedback","pathname","address","op","undefined","contract","setAddress","setAuth","set","updateLs","key","value","getLs","get","getAuth","client","setClient","dAppClient","requestPermissions","network","MAINNET","rpcUrl","then","permissions","catch","log","tz","amount","cid","royalties","at","c","methods","mint_OBJKT","parseFloat","hex","padStart","send","confirmation","hash","setTimeout","err","collect","objkt_amount","swap_id","mutez","swap","objkt_id","xtz_per_objkt","curate","process","res","amt","parseInt","claim_hDAO","hDAO_amount","burn","getActiveAccount","transfer","from_","txs","to_","token_id","cancel","cancel_swap","signStr","payload","requestSignPayload","signedPayload","signature","getPKH","crypto","verify","r","registry","alias","metadata","hDAO_update_operators","update_operators","add_operator","owner","operator","load","loading","acc","updateMessage","setAccount","syncTaquito","activeAccount","disconnect","clearActiveAccount","operationRequest","obj","destination","to","kind","requestOperation","operationDetails","timeout","delay","signPayload","response","signPayloadError","balance","getBalance","params","collapsed","toogleNavbar","setMenu","getStyle","background","display","lastPath","setPath","hDAO_vote","Provider","this","Component","HicetnuncContextProvider","withRouter","Button","href","onClick","disabled","fit","classes","classnames","rel","Primary","selected","primary","Purchase","purchase","Curate","Burn","useContext","setMessage","setAmount","setProgress","totalOwned","placeholder","min","max","GLBComponent","src","interactive","ref","useRef","width","setWidth","height","setHeight","glb","autoplay","handleResize","current","getBoundingClientRect","slot","arButton","create","infuraUrl","Config","vote","description","social_media","subjktUri","componentWillMount","context","handleChange","subjkt_config","ipfs","selectedFile","add","avatar","JSON","stringify","event","fileTitle","hDAO_operators","hDAO_config","sign","addr","str","fontSize","contextType","Loading","circle","LoadingContainer","loader","VisuallyHidden","as","Comp","Page","large","Helmet","Container","xlarge","Padding","Input","maxlength","onBlur","maxLength","defaultValue","getItem","prop","parse","localStorage","PureComponent","filterFeeds","original","oblock","wblock","GetLatestFeed","counter","max_time","reject","GethDAOFeed","GetFeaturedFeed","GetRandomFeed","GetOBJKT","id","GetTags","tag","page","GetUserMetadata","walletAddr","ButtonTheme","Footer","copy","footer","buttons","transition","duration","ease","Menu","isOpen","lineProps","strokeWidth","vectorEffect","initial","animate","menu","motion","svg","viewBox","overflow","preserveAspectRatio","line","x1","x2","y1","y2","variants","closed","rotate","translateY","opened","opacity","walletPreview","Header","history","useHistory","button","handleRoute","content","logo","d","transform","right","secondary","AnimatePresence","div","exit","FeedbackComponent","Sync","About","reveal","about","paragraphs","ImageComponent","image","alt","iOS","navigator","platform","userAgent","VideoComponent","inView","domElement","video","isVideoAvailable","play","currentTime","paused","ended","pause","autoPlay","playsInline","muted","loop","controls","AudioComponent","visualiser","userTouched","init","userTouch","VectorComponent","iframeSrc","preview","_creator_","_viewer_","sandbox","scrolling","uid","Math","round","random","HTMLComponent","displayUri","viewing","setViewing","iframeRef","unpackedFiles","unpacking","validHTML","setValidHTML","validationError","setValidationError","unpackZipFiles","filesArr","handler","contentWindow","postMessage","allow","fill","xmlns","cx","cy","x","y","filterUnits","colorInterpolationFilters","floodOpacity","in","values","dy","stdDeviation","mode","in2","UnknownComponent","square","PdfComponent","nofullscreen","useInView","threshold","fullscreenChange","screenfull","isFullscreen","dispatchEvent","Event","childrenWithProps","React","Children","child","isValidElement","cloneElement","request","navigationUI","icon","fillRule","stroke","CLOUDFLARE","IPFS","renderMediaType","uri","url","subomain","ipfsClient","CID","toV1","getInfuraUrl","base58","base","s","bound","n","sq","abs","corner","newPath","substr","identicons","_address","primitiveUnits","radius","baseFrequency","numOctaves","scale","xChannelSelector","yChannelSelector","Identicon","identicon","trim","check","sum","xsb","disk","xsa","SimpleSelect","createTime","Date","getTime","optionContainerRef","createRef","dropdownButton","optionSelected","bind","cancelSelection","openSelect","handleOutsideOptionsClick","handleKeyboard","renderOption","renderOptionLabel","setOption","optionValidation","checkOptionType","options","optionsWithIndexProp","idx","_idx","blankValue","find","validOptions","invalidReason","reason","currentOptionSelected","legendLabel","selectOpen","focusedOptionIndex","Array","isArray","opt1","clickContainsOptionContainer","contains","clickContainsDropDownButton","maxOptionIndex","newIndex","scrollIntoViewIfNeeded","optionIndex","optionByIndex","el","findOptionWrapper","parentNode","optionWrapper","option","knownIndex","findIndex","opt","currentOptionIndex","stopPropagation","focusedClass","opts","inline","fixedHeightClassName","fixedHeight","cornerClassName","hasSharpCorners","coreCssClassNames","cancelButton","aria-hidden","focusable","cancelSection","nonCancelable","sortByTokenId","b","sortOptions","sortFunction","arr","_","sortBy","reverse","shuffle","Display","walletPrev","location","render","results","objkts","creations","collection","market","creationsState","collectionState","marketState","hdao","sorting","site","telegram","twitter","github","reddit","instagram","post","sanitised","swaps","sort","p","profile","info","marginRight","marginTop","nft","formats","number","ItemInfo","feed","hDAO_balance","isDetailView","reducer","accumulator","currentValue","total","ed","minBy","maxBy","renderHDAObutton","curateOrClaim","top","data-position","data-tooltip","objktContainer","paddingLeft","marginBottom","FeedItem","total_amount","Feeds","roundTo","setError","items","setItems","count","setCount","hasMore","setHasMore","startTime","now","floor","next","concat","dataLength","endMessage","role","aria-labelledby","item","Tags","tags","encodeURI","HTMLWarning","warning","isHTML","Preview","t","media","readJsonLines","default","prepareFile","cover","thumbnail","generateDisplayUri","coverInfo","coverHash","thumbnailUri","thumbnailInfo","thumbnailHash","uploadMetadataFile","prepareDirectory","uploadFilesToDirectory","hashes","directory","not_directory","form","FormData","append","encodeURIComponent","endpoint","headers","indexFile","indexBuffer","coverImagePath","coverEntry","Name","Hash","symbol","artifactUri","decimals","isBooleanAmount","shouldPreferSymbol","coverOptions","quality","maxWidth","maxHeight","thumbnailOptions","GENERATE_DISPLAY_AND_THUMBNAIL","OwnerList","creator","sortByPrice","OwnerSwaps","handleCollect","issuer","TABS","component","getAccount","localeCompare","numeric","filtered","startsWith","useParams","price","setPrice","sales","private","sortByThumbnailTokenId","GetOBJKTStubbornly","tries","Item","minimal","setData","rootMargin","shown","nfs","prices","pointerEvents","ArtistSocials","ArtistLogo","artist","ItemModal","fetchData","objectId","links","Artist","getWalletInfo","bio","Search","routes","exact","step","setStep","setDescription","setTags","setRoyalties","setFile","setCover","setThumbnail","needsCover","setNeedsCover","handleMint","indexOf","toLocaleLowerCase","filesize","size","toFixed","nftCid","handleFileUpload","generateCompressedImage","compressImage","blobToDataURL","Compressor","success","onload","handleCoverUpload","generateCoverAndThumbnail","thumb","limitNumericField","minValue","maxValue","setLoading","tabIndex","setTabIndex","setNFT","http_status","status","Tab","tab","fetch","json","galleries","g","element","found","assign","body","loaded","setLoaded","setCollection","modal","setModal","showModal","block","close","App","all","getInitialData","color","fontStyle","Boolean","hostname","match","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"wNAIaA,EAAoB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC5BC,EAAa,WACjB,OAAIC,EAAOC,WAAa,KACf,EAGLD,EAAOC,WAAa,IACf,EAGF,GAET,EAA6BC,mBAASH,KAAtC,mBAAOI,EAAP,KAAeC,EAAf,KAWA,OATAC,qBAAU,WACR,IAAMC,EAAS,WACbF,EAAWL,MAIb,OAFAC,EAAOO,iBAAiB,SAAUD,GAE3B,kBAAMN,EAAOQ,oBAAoB,SAAUF,MACjD,IAGD,cAAC,IAAD,CACEG,eAAgBN,EAChBO,UAAWC,IAAOC,KAClBC,gBAAiBF,IAAOG,OAH1B,SAKGhB,O,sCChCPiB,EAAOC,QAAU,CAAC,QAAU,wBAAwB,KAAO,qBAAqB,KAAO,qBAAqB,iBAAiB,+BAA+B,UAAY,0BAA0B,OAAS,yB,oBCA3MD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,eAAiB,+BAA+B,QAAU,wBAAwB,OAAS,uBAAuB,IAAM,oBAAoB,MAAQ,sBAAsB,OAAS,uBAAuB,KAAO,uB,oBCAzQD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,sBAAsB,KAAO,qBAAqB,OAAS,uBAAuB,MAAQ,sBAAsB,YAAc,4BAA4B,MAAQ,sBAAsB,QAAU,0B,gCCDlQ,0oBAAIC,EAAW,GACFC,EAAc,SAACC,GAAD,OAAWF,EAAWE,GACpCC,EAAc,kBAAMH,GAE7BI,EAAiB,GACRC,EAAoB,SAACH,GAAD,OAAWE,EAAiBF,GAChDI,EAAoB,kBAAMF,GAEnCG,EAAkB,GACTC,EAAqB,SAACN,GAAD,OAAWK,EAAkBL,GAClDO,EAAqB,kBAAMF,GAG3BG,EAAkB,SAACR,GAAD,OAA0BA,GAG5CS,EAAO,CAClBC,KAAM,IACNC,OAAQ,MACRC,MAAO,SACPC,IAAK,OACLC,KAAM,QACNC,KAAM,QACNC,MAAO,SACPC,QAAS,WACTC,KAAM,SAKKC,EAAgB,GAEhBC,EAAW,CACtBC,IAAK,YACLC,IAAK,YACLC,KAAM,aACNC,IAAK,YACLC,IAAK,gBACLC,KAAM,aACNC,KAAM,aACNC,IAAK,YACLC,IAAK,YACLC,UAAW,kBACXC,KAAM,aACNC,IAAK,oBACLC,KAAM,kBACNC,IAAK,aACLC,IAAK,YACLC,IAAK,YACLC,KAAM,aACNC,IAAK,kBACLC,IAAK,kBACLC,KAAM,+BACNC,KAAM,mBAGKC,EAA0B,0BAE1BC,EAAoBC,OAAOC,KAAKzB,GAC1C0B,KAAI,SAACC,GAAD,OAAO3B,EAAS2B,MACpBC,QAAO,SAACC,GAAD,OAAOA,IAAM7B,EAASa,QAEnBiB,EAA0BN,OAAOO,QAAQ/B,GACnD4B,QAAO,SAACC,GAAD,OAAON,EAAkBS,SAASH,EAAE,OAC3CD,QAAO,SAACC,GAAD,OAAQ,CAAC,OAAQ,QAAQG,SAASH,EAAE,OAC3CH,KAAI,SAACG,GAAD,MAAiB,QAATA,EAAE,GAAe,qBAAuBA,EAAE,MACtDI,KAAK,MAEKC,EAA0B,CACrClC,EAASG,KACTH,EAASI,IACTJ,EAASE,KAGEiC,EAAgC,CAAC,kBAEjCC,EAAe,IAEfC,EAAgB,GAEhBC,EAAgB,GAEhBC,EACX,yD,iCCnFF,kHAMaC,EAAgB,SAACC,GAC5B,OAAOA,EAAMb,QAAO,SAACc,GACnB,OAA8B,IAA1BlB,OAAOC,KAAKiB,GAAGC,WAGPD,EAAEE,aAEZC,QAAQC,KAAK,2BAA4BL,IAClC,QAOAM,EAAc,SAACC,GAC1B,OAAO,IAAIC,SAAQ,SAACC,GAClB,IAAMC,EAAa,IAAIC,WACvBD,EAAWE,UAAY,SAAUxB,GAC/B,GAAIA,EAAEyB,OAAOC,aAAeH,WAAWI,KAAM,CAC3C,IAOIC,EAPEC,EAAO,IAAIC,WAAW9B,EAAEyB,OAAOM,QACjCC,EAAQ,GAQZ,OAPAH,EAAKI,SAAQ,SAACC,GACZF,EAAMG,KAAKD,EAAKE,SAAS,QAEfJ,EAAM5B,KAAK,IAAIiC,eAKzB,IAAK,UACHT,EAAWzD,IAASa,KACpB,MACF,IAAK,WACH4C,EAAWzD,IAASY,IACpB,MACF,QACE6C,EAAW,mBAGfP,EAAQO,KAGZN,EAAWgB,QAAU,kBAAMjB,EAAQ,qBACnCC,EAAWiB,kBAAkBpB,EAAKqB,MAAM,EAAG,QAYlCC,EAAgB,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SACtC,OAAKD,EACE/C,OAAOC,KAAK8C,GAAQE,QAAO,SAACC,EAASC,GAS1C,MANc,yCAAZA,GACCH,EAASxC,SAAS2C,KAGnBD,GAAoBE,OAAOL,EAAOI,KAE7BD,IACN,GAXiB,I,oBC9DtBlG,EAAOC,QAAU,CAAC,UAAY,0BAA0B,YAAc,4BAA4B,QAAU,wBAAwB,OAAS,uBAAuB,SAAW,yBAAyB,QAAU,wBAAwB,MAAQ,wB,ihBCG3O,SAAeoG,EAAtB,kC,4CAAO,WAAmCC,GAAnC,uBAAAC,EAAA,sEAEaC,EAAYF,GAFzB,OAEDG,EAFC,OAKCC,EAAYD,EAAM,cACxBA,EAAM,kBAAoB,IAAIE,KAAK,CAACD,GAAY,CAAEE,KAAMF,EAAUE,OAN7D,OAAAL,EAAA,KASSE,GATT,mDASItD,EATJ,YAUG0D,SAAS,WAAY1D,EAAE0D,SAAS,QAVnC,kCAWwBJ,EAAMtD,GAAG2D,cAXjC,QAWKC,EAXL,OAYKC,EAAiBC,EAA2BF,GAClDN,EAAMtD,GAAK,IAAIwD,KAAK,CAACK,GAAiB,CACpCJ,KAAMF,EAAUE,OAdjB,sCA4BLH,GARAA,EAAQzD,OAAOO,QAAQkD,GAAOvD,KAAI,SAACsB,GACjC,MAAO,CACL0C,KAAM1C,EAAK,GACX2C,KAAM3C,EAAK,QAKDpB,QAAO,SAACgE,GAAD,MAAkB,KAAXA,EAAEF,QA5BzB,kBA8BET,GA9BF,6C,sBAiCA,SAAeD,EAAtB,kC,4CAAO,WAA2BF,GAA3B,2BAAAC,EAAA,sDACDhD,EAAU8D,IAAiBf,GAC/B/C,EAAUP,OAAOO,QAAQA,GAASL,KAAI,SAACoE,GACrC,MAAO,CACLJ,KAAMI,EAAM,GACZhB,OAAQgB,EAAM,OAKdC,EAAU,KACLC,EAAI,EAXR,YAWWA,EAAIjE,EAAQY,QAXvB,oBAYGsD,EAAQlE,EAAQiE,GAAGN,KAAKQ,MAAM,KAEnB,eADAD,EAAMA,EAAMtD,OAAS,GAbnC,wBAeKsD,EAAQlE,EAAQiE,GAAGN,KAAKQ,MAAM,MAC9BC,MACNJ,EAAUE,EAAMhE,KAAK,KAjBpB,6BAW+B+D,IAX/B,0BAsBW,OAAZD,EAtBC,uBAuBGK,EAAM,4BACZC,OAAOC,MAAMF,GACP,IAAIG,MAAMH,GAzBb,eA6BCnB,EAAQ,GACdlD,EAAQ+B,SAAQ,SAACgC,EAAOU,GACtB,IACIpB,EADEqB,EAAUX,EAAMJ,KAAKgB,QAAX,UAAsBX,EAAtB,KAAkC,IAGhDX,EAD0B,IAAxBU,EAAMhB,OAAOnC,QAAgBmD,EAAMJ,KAAKL,SAAS,KAC5C/D,IAEAqF,IAAKC,OAAOd,EAAMJ,MAG3BT,EAAMwB,GAAW,IAAItB,KAAK,CAACW,EAAMhB,QAAS,CACxCM,YAxCC,kBA4CEH,GA5CF,6C,sBA+CA,SAAS4B,EAA4BC,GAE1C,IAAMC,EAAS,yBACTC,EAASF,EAAQJ,QAAQK,EAAQ,IAIjCE,EAAWC,EAHJC,KAAKH,IAMlB,MAAM,GAAN,OAAUD,GAAV,OAAmBK,KAAKH,IAGnB,SAASxB,EAA2BX,GAEzC,IAGMmC,EAAWC,GAHJ,IAAIG,aAAcC,OAAOxC,IAMtC,OAAO,IAAIyC,aAAcC,OAAOP,GAG3B,SAASC,EAAyBO,GAEvC,IACMC,GADS,IAAIC,WACAC,gBAAgBH,EAAM,aAGnCI,EAAWH,EAAII,KAAKC,iBACxB,8CAEF,GAAIF,EAASlF,OACX,IAAK,IAAIqD,EAAI,EAAGA,EAAI6B,EAASlF,OAAQqD,IACnC6B,EAAS7B,GAAGgC,SAIhB,IAAKN,EAAII,KAAM,CACb,IAAM1B,EAAM,oCAEZ,MADAC,OAAOC,MAAMF,GACP,IAAIG,MAAMH,GA2FlB,OAvFAsB,EAAII,KAAKG,mBACP,aADF,q2DAuFM,wBAAN,OAA+BP,EAAIQ,gBAAgBC,UAAnD,WAGK,SAASC,EAA4BtD,GAE1C,IAAM2C,GAAO,IAAIJ,aAAcC,OAAOxC,GAMtC,OAGF,SAAkC4C,GAChC,IAAIW,EAAOX,EAAII,KAAKQ,cAAc,gCAC7BD,IACHA,EAAOX,EAAII,KAAKQ,cAAc,8BAGhC,OAAKD,EAEEA,EAAKE,aAAa,WAFP,KATXC,EAHQ,IAAIb,WACAC,gBAAgBH,EAAM,cAgBpC,SAAegB,EAAtB,kC,4CAAO,WAA6BxD,GAA7B,mBAAAF,EAAA,yDAEAE,EAAM,cAFN,yCAGI,CACLyD,OAAO,EACPC,MAAO,4BALN,cASCC,EAAW3D,EAAM,cATlB,SAUkB2D,EAASC,OAV3B,UAUDC,EAVC,OAWCC,EAAS,IAAIpB,UACPoB,EAAOnB,gBAAgBkB,EAAY,aAGtChB,KAfJ,0CAgBI,CACLY,OAAO,EACPC,MACE,qFAnBD,iCAuBE,CACLD,OAAO,IAxBJ,6C,sBA4BA,SAASM,EAAgBlC,GAM9B,IALA,IACME,EADQF,EAAQZ,MAAM,KACP,GACf+C,EAAY9B,KAAKH,GACjBkC,EAAMD,EAAUtG,OAChBkB,EAAQ,IAAIF,WAAWuF,GACpBlD,EAAI,EAAGA,EAAIkD,EAAKlD,IACvBnC,EAAMmC,GAAKiD,EAAUE,WAAWnD,GAElC,OAAOnC,I,oBCtRTrF,EAAOC,QAAU,CAAC,UAAY,0BAA0B,QAAU,wBAAwB,KAAO,qBAAqB,MAAQ,sBAAsB,UAAY,0BAA0B,KAAO,uB,oBCAjMD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,sBAAsB,QAAU,wBAAwB,MAAQ,sBAAsB,MAAQ,sBAAsB,WAAa,6B,oBCAjMD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,sBAAsB,KAAO,qBAAqB,MAAQ,sBAAsB,YAAc,8B,oBCA9JD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,UAAY,0BAA0B,OAAS,uBAAuB,QAAU,wBAAwB,QAAU,0B,oBCApKD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,QAAU,wBAAwB,QAAU,wBAAwB,QAAU,0B,oBCAtID,EAAOC,QAAU,CAAC,UAAY,0BAA0B,KAAO,qBAAqB,OAAS,uBAAuB,QAAU,0B,oBCA9HD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,sBAAsB,OAAS,uBAAuB,KAAO,uB,gKCIvH2K,EAASC,EAAQ,IAAUD,OAEpBE,EAAS,SAAC,GAKhB,IAJLC,EAII,EAJJA,MACAC,EAGI,EAHJA,aACAC,EAEI,EAFJA,kBAEI,IADJC,gBACI,MADO,kBAAM,MACb,EACEC,EAAW9K,cACjB,EAA0BlB,mBAAS4L,GAAnC,mBAAOK,EAAP,KAAcC,EAAd,KAEMC,EAAY,uCAAG,WAAOjI,GAAP,uBAAAkD,EAAA,yDACXE,EAAUpD,EAAEyB,OAAZ2B,MACFjC,EAAOiC,EAAM,GAEnB4E,EAAS7G,EAAK+G,MACiB,KAAd/G,EAAKoC,KALH,qBAKiBpC,EAAKoC,KALtB,uCAKmCrC,YAAYC,GAL/C,kCAKbS,EALa,UAMJ2F,EANI,UAMcpG,EAAKsC,cANnB,oBAMbR,EANa,KAMGkF,KANH,iBASbC,EAAS,IAAI7G,YACZpF,iBAAiB,QAAQ,SAAC6D,GAC/B6H,EAAS,CAAEE,QAAOnG,WAAUT,OAAM8B,SAAQmF,OAAQpI,EAAEyB,OAAOM,YAE7DqG,EAAOC,cAAclH,GAbF,4CAAH,sDAgBZmH,EAAQ,CACZ/E,KAAM,OACN2E,KAAM,QAOR,OAJIP,IACFW,EAAK,OAAaX,EAAavH,KAAK,MAIpC,sBAAK9D,UAAWC,IAAOgM,UAAvB,UACE,kCACGR,EACD,iDAAWO,GAAX,IAAkBT,SAAUI,QAE9B,sBAAK3L,UAAWC,IAAOiM,QAAvB,UACGV,EAASW,KAAKC,SADjB,QACkCd,U,oBC/CxCjL,EAAOC,QAAU,CAAC,UAAY,0BAA0B,KAAO,qBAAqB,QAAU,wBAAwB,QAAU,0B,oBCAhID,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,sBAAsB,OAAS,yB,oBCA/FD,EAAOC,QAAU,CAAC,QAAU,0B,oBCA5BD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,SAAW,2B,oBCAnED,EAAOC,QAAU,CAAC,UAAY,0BAA0B,WAAa,2BAA2B,KAAO,uB,oBCAvGD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,MAAQ,sBAAsB,OAAS,uBAAuB,MAAQ,wB,oBCApHD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,qBAAqB,KAAO,uB,oBCArFD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,OAAS,yB,oBCAjED,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,wB,oBCAhED,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,wB,oBCAhED,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,wB,oBCAhED,EAAOC,QAAU,CAAC,UAAY,0BAA0B,UAAY,0BAA0B,MAAQ,wB,6LCM9F+L,EAAgBnB,EAAQ,IAAxBmB,YACJC,EAAKpB,EAAQ,KACXqB,EAAQrB,EAAQ,IAChBsB,EAAOtB,EAAQ,KAERuB,EAAmBC,0BAI1BC,EAAQ,IAAIC,IAAa,8BAEzBC,EAAS,IAAIC,IAAa,CAC9BlB,KAAM,gBACNmB,iBAAkB,YAEpBJ,EAAMK,kBAAkBH,G,IAElBI,E,kDACJ,WAAYjB,GAAQ,IAAD,8BACjB,cAAMA,IAEDkB,MAAQ,CAGXC,KAAM,uCACNC,OAAQ,uCACR9I,MAAO,uCAGP+I,YAAY,EACZC,cAAe,SAACD,GAAD,OAAgB,EAAKE,SAAS,CAAEF,gBAG/CG,MAAO,QACPC,SAAU,SAACD,GACT,IAAIE,EAAOC,SAAS5D,gBAEd6D,EAAkB,UAAVJ,EAEdK,YAAQ,QAASD,EAAQ,QAAU,QAEnCF,EAAKI,MAAMC,YACT,qBACAH,EAAQ,UAAY,WAEtBF,EAAKI,MAAMC,YAAY,eAAgBH,EAAQ,UAAY,WAC3DF,EAAKI,MAAMC,YACT,iBACAH,EAAQ,kBAAoB,yBAE9BF,EAAKI,MAAMC,YACT,iBACAH,EAAQ,kBAAoB,yBAG9B,EAAKL,SAAS,CAAEC,WAMlBQ,SAAU,CACRC,SAAS,EACTC,QAAS,eACTC,UAAU,EACVC,SAAS,EACTC,gBAAiB,kBAAM,OAGzBC,YAAa,SAACtC,GAAD,OACX,EAAKuB,SAAS,CAAES,SAAS,2BAAM,EAAKd,MAAMc,UAAahC,MAKzDuC,SAAU,GAEVC,QAAS,GAETC,QAAIC,EAEJC,SAAU,GAEVC,WAAY,SAACJ,GAAD,OAAa,EAAKjB,SAAS,CAAEiB,QAASA,KAElDK,QAAS,SAACL,GACRlC,EAAGwC,IAAI,OAAQN,IAGjBO,SAAU,SAACC,EAAKC,GACd3C,EAAGwC,IAAIE,EAAKC,IAGdC,MAAO,SAACF,GACN,OAAO1C,EAAG6C,IAAIH,IAGhBI,QAAS,WACP,OAAO9C,EAAG6C,IAAI,SAGhBE,OAAQ,KAERC,UAAW,SAACD,GACV,EAAK9B,SAAS,CACZ8B,OAAQA,KAIZE,WAAW,WAAD,4BAAE,sBAAA3I,EAAA,sDACV,EAAKsG,MAAMmC,OAASxC,EAAOwC,OAG3B,EAAKnC,MAAMmC,OACRG,mBAAmB,CAClBC,QAAS,CACPxI,KAAMoF,EAAYqD,QAClBC,OAAQ,gCAGXC,MAAK,SAACC,GACL,EAAKtC,SAAS,CACZiB,QAASqB,EAAYrB,UAGvB,EAAKtB,MAAM2B,QAAQgB,EAAYrB,YAEhCsB,OAAM,SAACtF,GAAD,OAAW9F,QAAQqL,IAAIvF,MAlBtB,2CAAF,kDAAC,GAqBX2B,KAAK,WAAD,4BAAE,WAAO6D,EAAIC,EAAQC,EAAKC,GAAxB,SAAAvJ,EAAA,6DAEJ,EAAKsG,MAAMoB,YAAY,CACrBL,SAAS,EACTC,QAAS,kBACTC,UAAU,EACVC,SAAS,IANP,SAUEzB,EAAME,OACTuD,GAAG,EAAKlD,MAAM5I,OACdsL,MAAK,SAACS,GAAD,OACJA,EAAEC,QACCC,WACCP,EACAQ,WAAWP,IACV,UAAYC,GACVnI,MAAM,IACNzB,QACC,SAACmK,EAAKJ,GAAN,OACGI,EAAOJ,EAAErF,WAAW,GAAGlF,SAAS,IAAI4K,SAAS,EAAG,OACnD,IAEoB,GAAxBF,WAAWL,IAEZQ,KAAK,CAAEV,OAAQ,OAEnBL,MAAK,SAACnB,GAAD,OACJA,EAAGmC,aAAa,GAAGhB,MAAK,WACtB,EAAKrC,SAAS,CAAEkB,GAAIA,EAAGoC,OAEvB,EAAK3D,MAAMoB,YAAY,CACrBJ,QAAS,4BACTC,UAAU,EACVC,SAAS,IAIX0C,YAAW,WACT,EAAK5D,MAAMoB,YAAY,CACrBL,SAAS,MAEV,WAGN6B,OAAM,SAACiB,GAEN,EAAK7D,MAAMoB,YAAY,CACrBJ,QAAS,2BACTC,UAAU,EACVC,SAAS,IAIX0C,YAAW,WACT,EAAK5D,MAAMoB,YAAY,CACrBL,SAAS,MAEV,QA3DH,2CAAF,yDAAC,GA+DL+C,QAAQ,WAAD,4BAAE,WAAOC,EAAcC,EAASjB,GAA9B,SAAArJ,EAAA,sEACM+F,EAAME,OAChBuD,GAAG,EAAKlD,MAAM5I,OACdsL,MAAK,SAACS,GAAD,OACJA,EAAEC,QACCU,QAAQR,WAAWS,GAAeT,WAAWU,IAC7CP,KAAK,CAAEV,OAAQO,WAAWP,GAASkB,OAAO,OAE9CrB,OAAM,SAACpM,GAAD,OAAOA,KART,mFAAF,uDAAC,GAWR0N,KAAK,WAAD,4BAAE,WAAOH,EAAcI,EAAUC,GAA/B,SAAA1K,EAAA,6DACJlC,QAAQqL,IAAIkB,GADR,SAEStE,EAAME,OAChBuD,GAAG,EAAKlD,MAAM5I,OACdsL,MAAK,SAACS,GAAD,OACJA,EAAEC,QACCc,KACCZ,WAAWS,GACXT,WAAWa,GACXb,WAAWc,IAEZX,KAAK,CAAEV,OAAQ,OAEnBH,OAAM,SAACpM,GAAD,OAAOA,KAbZ,mFAAF,uDAAC,GAgBL6N,OAAO,WAAD,4BAAE,WAAOF,GAAP,SAAAzK,EAAA,sEACA2F,EACH4C,IAAIqC,+EACJ5B,MAAK,SAAC6B,GACL,OAAOA,EAAIhR,KAAKwP,UAEjBL,MAAK,SAAC8B,GACL/E,EAAME,OACHuD,GAAG,EAAKlD,MAAM5I,OACdsL,MAAK,SAACS,GAAD,OACJA,EAAEC,QACCiB,OAC0B,MAAzBjF,EAAG6C,IAAI,eACHwC,SAASrF,EAAG6C,IAAI,gBAChBuC,EACJL,GAEDV,aAjBL,2CAAF,mDAAC,GAsBPiB,WAAW,WAAD,4BAAE,WAAOC,EAAaR,GAApB,SAAAzK,EAAA,6DACVlC,QAAQqL,IAAI,WAAY8B,EAAaR,GAD3B,SAEJ1E,EAAME,OACTuD,GAAG,wCACHR,MAAK,SAACS,GACLA,EAAEC,QACCsB,WAAWD,SAASE,GAAcF,SAASN,IAC3CV,UAPG,2CAAF,qDAAC,GAWXmB,KAAK,WAAD,4BAAE,WAAOT,EAAUpB,GAAjB,eAAArJ,EAAA,sEACWiG,EAAOwC,OAAO0C,mBADzB,cACA/B,EADA,OAEJtL,QAAQqL,IAAI,iBAAkB4B,SAAS1B,IAFnC,SAIEtD,EAAME,OACTuD,GAAG,wCACHR,KAFG,uCAEE,WAAOS,GAAP,SAAAzJ,EAAA,+EACJyJ,EAAEC,QACC0B,SAAS,CACR,CACEC,MAAOjC,EAAGxB,QACV0D,IAAK,CACH,CACEC,IAAK,uCACLC,SAAUT,SAASN,GACnBpB,OAAQ0B,SAAS1B,QAKxBU,QAdC,2CAFF,uDAJF,2CAAF,qDAAC,GAwBL0B,OAAO,WAAD,4BAAE,WAAOnB,GAAP,SAAAtK,EAAA,sEACO+F,EAAME,OAChBuD,GAAG,EAAKlD,MAAM5I,OACdsL,MAAK,SAACS,GAAD,OACJA,EAAEC,QAAQgC,YAAY9B,WAAWU,IAAUP,KAAK,CAAEV,OAAQ,OAE3DH,OAAM,SAACpM,GAAD,OAAOA,KANV,mFAAF,mDAAC,GASP6O,QAAQ,WAAD,4BAAE,WAAOC,GAAP,mBAAA5L,EAAA,sEACqBiG,EAAOwC,OAAOoD,mBAAmBD,GADtD,cACDE,EADC,OAEPhO,QAAQqL,IAAI2C,EAAeF,GACrBG,EAAYD,EAHX,KAIPhO,QAJO,KAIKiO,EAAUA,UAJf,KAI0BH,EAAQA,QAJlC,UAIiD3F,EAAO+F,SAJxD,gCAIC7C,IAJD,+BAWSvD,EAAKqG,OAXd,KAYLL,EAAQA,QAAQ1M,WAZX,KAaL6M,EAAUA,UAbL,KAcCpG,EAdD,sGAe0FM,EAAO+F,SAfjG,2FAcOzD,IAdP,4DAWqB2D,OAXrB,mCAWDC,EAXC,OAkBPrO,QAAQqL,IAAIgD,GAlBL,4CAAF,mDAAC,GAqBRC,SAAS,WAAD,4BAAE,WAAOC,EAAOC,GAAd,SAAAtM,EAAA,sEACK+F,EAAME,OAAOuD,GAAG,EAAKlD,MAAME,QAAQwC,MAAK,SAACS,GAAD,OACnDA,EAAEC,QACC0C,SACCC,EACGlL,MAAM,IACNzB,QACC,SAACmK,EAAKJ,GAAN,OACGI,EAAOJ,EAAErF,WAAW,GAAGlF,SAAS,IAAI4K,SAAS,EAAG,OACnD,KAEH,UAAYwC,EAAS3L,MACnBQ,MAAM,IACNzB,QACC,SAACmK,EAAKJ,GAAN,OACGI,EAAOJ,EAAErF,WAAW,GAAGlF,SAAS,IAAI4K,SAAS,EAAG,OACnD,KAGLC,KAAK,CAAEV,OAAQ,OAnBZ,mFAAF,qDAAC,GAuBTkD,sBAAsB,WAAD,4BAAE,WAAO3E,GAAP,SAAA5H,EAAA,sEACR+F,EAAME,OAAOuD,GAAG,EAAKlD,MAAMC,MAAMyC,MAAK,SAACS,GAAD,OACjDA,EAAEC,QACC8C,iBAAiB,CAChB,CACEC,aAAc,CACZC,MAAO9E,EACP+E,SAAU,EAAKrG,MAAME,OACrBgF,SAAU,MAIfzB,KAAK,CAAEV,OAAQ,OAZC,mFAAF,mDAAC,GAgBtBuD,MAAM,EACNC,QAAS,kBAAM,EAAKlG,SAAS,CAAEiG,MAAO,EAAKtG,MAAMsG,QAEjD7G,MAAO,KACPE,OAAQ,KACR6G,IAAK,KAELC,cAAe,SAACzF,GAAD,OAAa,EAAKX,SAAS,CAAEW,QAASA,KAErD0F,WAAW,WAAD,4BAAE,sBAAAhN,EAAA,qEAGI8H,IAAV/B,EAHM,gCAIIE,EAAOwC,OAAO0C,mBAJlB,mDAKFrD,EALE,kCAMO7B,EAAOwC,OAAO0C,mBANrB,0BAER2B,IAFQ,KAMRlF,QANQ,WACLjB,SADK,4DAAF,kDAAC,GAUXsG,YAAY,WAAD,4BAAE,8BAAAjN,EAAA,6DACL6I,EAAU,CACdxI,KAAM,UACN0I,OAAQ,8BAHC,SASiB9C,EAAOwC,OAAO0C,mBAT/B,UASL+B,EATK,OAUXpP,QAAQqL,IAAI+D,QACUpF,IAAlBoF,EAXO,uBAYTpP,QAAQqL,IAAI,eAZH,SAaHlD,EAAO2C,mBAAmB,CAAEC,YAbzB,0BAiBF9C,EAjBE,UAkBME,EAAO+F,SAlBb,qCAmBE/F,EAAOwC,OAAO0C,mBAnBhB,gCAoBTlF,EApBS,MAiBTF,MAjBS,KAkBT6B,QAlBS,KAmBTkF,IAnBS,KAoBT7G,OApBS,WAgBNU,SAhBM,qBAsBX,EAAKL,MAtBM,UAsBcL,EAAO+F,SAtBrB,yBAsBA/D,QAtBA,gBAuBXnK,QAAQqL,IAAI,EAAK7C,OAvBN,4CAAF,kDAAC,GA0BZ6G,WAAW,WAAD,4BAAE,sBAAAnN,EAAA,6DACVlC,QAAQqL,IAAI,qBADF,SAGJlD,EAAOwC,OAAO2E,qBAHV,OAIV,EAAKzG,SAAS,CACZiB,aAASE,EACTgF,SAAKhF,IANG,2CAAF,kDAAC,GAaXuF,iBAAiB,WAAD,4BAAE,WAAOC,GAAP,eAAAtN,EAAA,6DACZ6H,EAAKyF,EAAIzO,QACH0L,MACV1C,EAAG0F,YAAc1F,EAAG2F,GACpB3F,EAAG4F,KAAO,qBACH5F,EAAG2F,GACV1P,QAAQqL,IAAImE,EAAIzO,QAEhB,EAAKyH,MAAMmC,OAAOiF,iBAAiB,CACjCC,iBAAkB,CAACL,EAAIzO,UATT,2CAAF,mDAAC,GAajB+O,QAAS,SAACC,GACR,OAAO,IAAI3P,SAAQ,SAAC2M,GAAD,OAASX,WAAWW,EAAKgD,OAG9CC,YAAY,WAAD,4BAAE,WAAOR,GAAP,SAAAtN,EAAA,sEACLiG,EAAOwC,OACVoD,mBAAmB,CAClBD,QAAS0B,EAAI1B,UAEd5C,KAJG,uCAIE,WAAO+E,GAAP,SAAA/N,EAAA,+EACG+N,EAAShC,WADZ,2CAJF,uDAOH7C,OAAM,SAAC8E,GAAD,OAAsBlQ,QAAQ8F,MAAMoK,MARlC,2CAAF,mDAAC,GAWZC,QAAS,EAETC,WAAY,SAACtG,GACXjC,EACG4C,IADH,0CAC0CX,EAD1C,oBACqE,CACjEuG,OAAQ,CACNvG,QAASA,KAGZoB,MAAK,SAAC6B,GACL/M,QAAQqL,IACN,UACAS,WAAWiB,EAAIhR,KAAKgR,EAAIhR,KAAK+D,OAAS,GAAGqQ,QAAU,SAGtD/E,OAAM,SAACpM,GAAD,OAAOgB,QAAQqL,IAAI,gBAAiBrM,OAG/CsR,WAAW,EAEXC,aAAc,WACZ,EAAK1H,SAAS,CAAEyH,WAAY,EAAK9H,MAAM8H,aAGzCE,QAAS,SAACF,GACR,EAAKzH,SAAS,CAAEyH,eAGlBG,SAAU,SAACrH,GAAD,OACRA,EAAQ,CAAEsH,WAAY,SAAY,CAAEC,QAAS,SAE/CC,SAAU,GAEVC,QAAS,SAAChO,GACR,EAAKgG,SAAS,CACZ+H,SAAU/N,KAGdkE,MAAO,GACPC,SAAU,SAACD,GACT,EAAK8B,SAAS,CACZ9B,MAAOA,KAGX+J,UAAWlJ,EAAG6C,IAAI,cA1cH,E,0CA8cnB,WACE,OACE,cAAC1C,EAAiBgJ,SAAlB,CACExG,MAAK,eACAyG,KAAKxI,OAFZ,SAKGwI,KAAK1J,MAAM5M,e,GAtdwBuW,aA4dtCC,EAA2BC,YAAW5I,GAC7B2I,O,oBCpffvV,EAAOC,QAAU,CAAC,UAAY,0BAA0B,YAAc,8B,oBCAtED,EAAOC,QAAU,CAAC,UAAY,0BAA0B,OAAS,yB,oBCAjED,EAAOC,QAAU,CAAC,UAAY,4B,oBCA9BD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,OAAS,yB,oBCAvDD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,QAAU,wBAAwB,SAAW,2B,oBCArGD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,IAAM,sB,oBCA9DD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,wB,oBCAhED,EAAOC,QAAU,CAAC,UAAY,0BAA0B,IAAM,sB,mRCIjDwV,EAAS,SAAC,GAOhB,IAAD,MANJ1B,UAMI,MANC,KAMD,MALJ2B,YAKI,MALG,KAKH,MAJJC,eAII,MAJM,kBAAM,MAIZ,EAHJ5W,EAGI,EAHJA,SACA6W,EAEI,EAFJA,SACAC,EACI,EADJA,IAEMC,EAAUC,KAAU,mBACvBnW,IAAOgM,WAAY,GADI,cAEvBhM,IAAOgW,SAAWA,GAFK,cAGvBhW,IAAOiW,IAAMA,GAHU,IAM1B,OAAI9B,EAEA,cAAC,IAAD,CAAMA,GAAIA,EAAIpU,UAAWmW,EAAzB,SACG/W,IAKH2W,EAEA,mBACEA,KAAMA,EACN5Q,OAAO,SACPkR,IAAI,sBACJrW,UAAWmW,EAJb,SAMG/W,IAKL,wBAAQ4W,QAASA,EAAShW,UAAWmW,EAArC,SACG/W,KAKMkX,EAAU,SAAC,GAAmC,IAAD,MAAhClX,gBAAgC,MAArB,KAAqB,EAAfmX,EAAe,EAAfA,SACnCJ,EAAUC,KAAU,mBACvBnW,IAAOuW,SAAU,GADM,cAEvBvW,IAAOsW,SAAWA,GAFK,IAI1B,OAAO,qBAAKvW,UAAWmW,EAAhB,SAA0B/W,KAWtBqX,EAAW,SAAC,GAAmC,IAAD,MAAhCrX,gBAAgC,MAArB,KAAqB,EAAfmX,EAAe,EAAfA,SACpCJ,EAAUC,KAAU,mBACvBnW,IAAOyW,UAAW,GADK,cAEvBzW,IAAOsW,SAAWA,GAFK,IAI1B,OAAO,qBAAKvW,UAAWmW,EAAhB,SAA0B/W,KAGtBuX,EAAS,SAAC,GAAmC,IAAD,MAAhCvX,gBAAgC,MAArB,KAAqB,EAAfmX,EAAe,EAAfA,SAClCJ,EAAUC,KAAU,mBACvBnW,IAAOsR,QAAS,GADO,cAEvBtR,IAAOsW,SAAWA,GAFK,IAI1B,OAAO,qBAAKvW,UAAWmW,EAAhB,SAA0B/W,M,gJCpEtBwX,EAAO,SAAC5K,GACnB,MAA0B6K,qBAAWpK,KAA7BqF,EAAR,EAAQA,KAAMtD,EAAd,EAAcA,QACd,EAA8BhP,qBAA9B,mBAAO0O,EAAP,KAAgB4I,EAAhB,KACA,EAA4BtX,mBAAS,IAArC,mBAAOyQ,EAAP,KAAe8G,EAAf,KACA,EAAgCvX,qBAAhC,mBAAO2O,EAAP,KAAiB6I,EAAjB,KAEMC,EACHjL,EAAM5F,OAAN,OAAaoI,QAAb,IAAaA,OAAb,EAAaA,EAASA,UACrBmD,SAAS3F,EAAM5F,OAAN,OAAaoI,QAAb,IAAaA,OAAb,EAAaA,EAASA,WACjC,EAyBF,OACE,qCACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,yCACWyI,EADX,sBAC0CjL,EAAMoG,SADhD,4CAMJ,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEnL,KAAK,SACLiQ,YAAY,iBACZC,IAAK,EACLC,IAAKH,EACL1L,SAAU,SAAC7H,GAAD,OAAOqT,EAAUrT,EAAEyB,OAAO8J,QACpCgH,SAAU9H,QAKhB,cAAC,IAAD,UACE,eAAC,IAAD,WACE,0SAMA,uBACA,4BACE,+EAKN,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAQ6H,QA/DK,WACJ,KAAX/F,EAKAA,EAASgH,EACX9O,MAAM,gCAAD,OAC6B8H,EAD7B,8BACyDgH,EADzD,MAMG3X,EAAO8O,QAAP,wCACyB6B,EADzB,eACsCgH,EADtC,QAIRD,GAAY,GACZF,EAAW,iBACXhF,EAAK9F,EAAMoG,SAAUnC,IAjBrB9H,MAAM,gCA6D6B+N,KAAG,EAAlC,SACE,cAAC,IAAD,qBAEF,gCACE,4BAAIhI,IACHC,GAAY,cAAC,IAAD,kB,sCCrFzB9N,EAAOC,QAAU,CAAC,UAAY,4B,oBCA9BD,EAAOC,QAAU,CAAC,UAAY,4B,oBCA9BD,EAAOC,QAAU,CAAC,UAAY,4B,oBCA9BD,EAAOC,QAAU,CAAC,UAAY,4B,oBCA9BD,EAAOC,QAAU,CAAC,KAAO,uB,oICGZ+W,EAAe,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,IAAKC,EAAkB,EAAlBA,YAC5BC,EAAMC,mBACZ,EAA0BjY,mBAAS,SAAnC,mBAAOkY,EAAP,KAAcC,EAAd,KACA,EAA4BnY,mBAAS,SAArC,mBAAOoY,EAAP,KAAeC,EAAf,KAEM7L,EAAQ,CACZhM,UAAWC,IAAO6X,IAClBR,MACAS,UAAU,EACV,eAAe,EACf,yBAAyB,EACzB,qBAAsB,QAGpBR,IACFvL,EAAK,IAAS,EACdA,EAAM,YAAc,gCACpBA,EAAM,oBAAqB,GAG7B,IAAMgM,EAAe,WACnB,GAAIR,EAAIS,QAAS,CACf,MAA0BT,EAAIS,QAAQC,wBAA9BR,EAAR,EAAQA,MAAOE,EAAf,EAAeA,OACfD,EAASD,GACTG,EAAUD,KAad,OATAjY,qBAAU,WAIR,OAHAqY,IACA1Y,EAAOO,iBAAiB,SAAUmY,GAE3B,WACL1Y,EAAOQ,oBAAoB,SAAUkY,MAEtC,CAACN,EAAOE,IAGT,qBAAK5X,UAAWC,IAAOgM,UAAWuL,IAAKA,EAAvC,SACE,wDAAkBxL,GAAlB,IAAyB8B,MAAO,CAAE4J,QAAOE,UAAzC,SACE,wBAAQO,KAAK,YAAYnY,UAAWC,IAAOmY,SAA3C,wB,sCC3CR/X,EAAOC,QAAU,CAAC,UAAY,4B,oBCA9BD,EAAOC,QAAU,CAAC,UAAY,4B,oBCA9BD,EAAOC,QAAU,CAAC,UAAY,4B,oBCA9BD,EAAOC,QAAU,CAAC,UAAY,4B,oBCA9BD,EAAOC,QAAU,CAAC,UAAY,4B,kOCgBtB+X,EAAWnN,EAAQ,KAAnBmN,OACFC,EAAY,8BAEZhM,EAAKpB,EAAQ,KAENqN,EAAb,4MAGErL,MAAQ,CACNsL,KAAM,EACNpL,OAAQ,GACRqL,YAAa,GACbC,aAAc,GACdC,UAAW,IARf,EAWEC,mBAAqB,WACnB,EAAKC,QAAQhF,eAZjB,EAeEiF,aAAe,SAACpV,GACd,EAAK6J,SAAL,eAAiB7J,EAAEyB,OAAOyG,KAAOlI,EAAEyB,OAAO8J,QAC1CvK,QAAQqL,IAAI,EAAK7C,QAjBrB,EAsBE6L,cAtBF,sBAsBkB,kCAAAnS,EAAA,6DACRoS,EAAOX,EAAOC,GADN,cAEC,EAAKpL,MAAM+L,aAFZ,GAEPpU,EAFO,UAICoG,EAJD,SAImBpG,EAAKsC,cAJxB,0BAIRR,EAJQ,KAIQkF,KAJR,iCAM8BmN,EAAKE,IAAIvS,GANvC,2BAMgDY,KANhD,KAMW,UANX,WAME4R,OANF,WAMT5L,SANS,qBAQd,EAAKsL,QARS,KASZ,EAAK3L,MAAME,OATC,UAUN4L,EAAKE,IACTjO,EAAOY,KAAKuN,KAAKC,UAAU,CAAEZ,YAAa,EAAKvL,MAAMuL,gBAX3C,yBAQDzF,SARC,iEAtBlB,EA8DErH,aAAe,SAAA2N,GAEb,EAAK/L,SAAS,CAAQ0L,aAAcK,EAAMnU,OAAO2B,MAC/CyS,UAAWD,EAAMnU,OAAO2B,MAAM,GAAG8E,QAjEvC,EAqEE4N,eAAiB,WACf,EAAKX,QAAQ1F,sBAAsB,EAAK0F,QAAQnF,IAAIlF,UAtExD,EAyEEiL,YAAc,WAEZnN,EAAGwC,IAAI,cAAe,EAAK5B,MAAMsL,OA3ErC,EAgFEkB,KAAO,WACLhV,QAAQqL,IAAI,EAAK8I,QAAQc,MACzB,EAAKd,QAAQtG,QAAQ,CAEnBC,QAAS,EAAKtF,MAAM0M,IACjB7R,MAAM,IACNzB,QACC,SAACmK,EAAKJ,GAAN,OAAaI,EAAOJ,EAAErF,WAAW,GAAGlF,SAAS,IAAI4K,SAAS,EAAG,OAC7D,OAxFV,4CAgGE,WACE,OACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,8BACE,wBAAQsF,QAASN,KAAK8D,eAAtB,6CAIF,gCACE,uBACEvS,KAAK,OACL2E,KAAK,SACLL,SAAUmK,KAAKoD,aACf5B,YAAY,WAEd,uBACA,uBACEjQ,KAAK,OACL2E,KAAK,cACLL,SAAUmK,KAAKoD,aACf5B,YAAY,gBAEd,uBAEA,cAAC,IAAD,UACE,cAAC,IAAD,UACE,uBAAOjQ,KAAK,OAAOsE,SAAUmK,KAAK/J,mBAGtC,wBAAQqK,QAASN,KAAKqD,cAAtB,uBAEF,gCACE,cAAC,IAAD,CACE9R,KAAK,OACL2E,KAAK,OACLL,SAAUmK,KAAKoD,aACf5B,YAAY,WAEd,mBAAGpJ,MAAO,CAAE+L,SAAU,QAAtB,uDAGA,cAAC,IAAD,CAAQ7D,QAASN,KAAK+D,YAAavD,KAAG,EAAtC,kCA3Id,GAA4BP,aAAf4C,EACJuB,YAAcrN,M,yICvBvB,sGAGasN,EAAU,SAAC,GAAiB,IAAf7L,EAAc,EAAdA,QACxB,OACE,sBAAKlO,UAAWC,IAAOgM,UAAvB,UACE,qBAAKjM,UAAWC,IAAO+Z,SACtB9L,GAAW,mBAAGlO,UAAWC,IAAOiO,QAArB,SAA+BA,QAKpC+L,EAAmB,SAAC,GAAkC,IAAhCxG,EAA+B,EAA/BA,QAA+B,IAAtBrU,gBAAsB,MAAX,KAAW,EAChE,OAAIqU,EAEA,qBAAKzT,UAAWC,IAAOia,OAAvB,SACE,cAACH,EAAD,MAIC3a,I,wECpBT,oEAGa+a,EAAiB,SAAC,GAA4C,IAAD,IAAzC/a,gBAAyC,MAA9B,KAA8B,MAAxBgb,GAAIC,OAAoB,MAAb,OAAa,EACxE,OAAO,cAACA,EAAD,CAAMra,UAAWC,IAAOgM,UAAxB,SAAoC7M,M,sOCEhCkb,EAAO,SAAC,GAAuD,IAAD,MAApD7O,aAAoD,MAA5C,cAA4C,MAA7BrM,gBAA6B,MAAlB,KAAkB,EAAZmb,EAAY,EAAZA,MACvDpE,EAAUC,KAAU,mBACvBnW,IAAOgM,WAAY,GADI,cAEvBhM,IAAOsa,MAAQA,GAFQ,IAI1B,OACE,uBAAMva,UAAWmW,EAAjB,UACE,cAACqE,EAAA,EAAD,UACa,KAAV/O,EACC,mDAAsBA,KAEtB,kDAGJ,cAAC,IAAD,CAAgB2O,GAAG,KAAnB,SAAyB3O,IACxBrM,M,kBCjBMqb,EAAY,SAAC,GAAwC,IAAD,MAArCrb,gBAAqC,MAA1B,KAA0B,EAApBmb,EAAoB,EAApBA,MAAOG,EAAa,EAAbA,OAC5CvE,EAAUC,KAAU,mBACvBnW,IAAOgM,WAAY,GADI,cAEvBhM,IAAOsa,MAAQA,GAFQ,cAGvBta,IAAOya,OAASA,GAHO,IAK1B,OAAO,qBAAK1a,UAAWmW,EAAhB,SAA0B/W,K,kBCPtBub,EAAU,SAAC,GAAyB,IAAD,IAAtBvb,gBAAsB,MAAX,KAAW,EAC9C,OAAO,qBAAKY,UAAWC,IAAOgM,UAAvB,SAAmC7M,M,gHCJ5C,oEAGawb,EAAQ,SAAC,GAAD,QACnB3T,YADmB,MACZ,OADY,MAEnBiQ,mBAFmB,MAEL,cAFK,MAGnBtL,YAHmB,MAGZ,qBAHY,EAInBuL,EAJmB,EAInBA,IACAC,EALmB,EAKnBA,IALmB,IAMnByD,iBANmB,MAMP,IANO,EAOnBzP,EAPmB,EAOnBA,MAPmB,IAQnBG,gBARmB,MAQR,kBAAM,MARE,MASnBuP,cATmB,MASV,kBAAM,MATI,EAUnB7E,EAVmB,EAUnBA,SACAhH,EAXmB,EAWnBA,MAXmB,OAanB,qBAAKjP,UAAWC,IAAOgM,UAAvB,SACE,kCACE,uBACEhF,KAAMA,EACNiQ,YAAaA,EACbtL,KAAMA,EACNuL,IAAKA,EACLC,IAAKA,EACL2D,UAAWF,EACXG,aAAc/L,EACd1D,SAAUA,EACVuP,OAAQA,EACR7E,SAAUA,IAEZ,4BAAI7K,W,wEC9BV,oEAAO,IAAM6P,EAAU,SAACC,GACtB,OAAO9B,KAAK+B,MAAMC,aAAaH,QAAQC,KAG5BrN,EAAU,SAACqN,EAAMjM,GAG5B,OAFAmM,aAAavN,QAAQqN,EAAM9B,KAAKC,UAAUpK,IAEnCgM,EAAQC,K,2DCNjB7a,EAAOC,QAAU,CAAC,UAAY,0BAA0B,IAAM,oBAAoB,SAAW,yBAAyB,QAAU,wBAAwB,SAAW,yBAAyB,UAAY,0BAA0B,SAAW,yBAAyB,OAAS,yB,mBCA/QD,EAAOC,QAAU,CAAC,QAAU,0B,8FCCI+a,kB,4UCU1B9O,EAAQrB,EAAQ,IAyBhBoQ,EAAc,SAACC,GACnB,IAAMC,EAAS3a,cACT4a,EAASza,cAOf,OALiBqD,YAAckX,GAE5B9X,QAAO,SAACoE,GAAD,OAAQ2T,EAAO3X,SAASgE,EAAEuK,aAEjC3O,QAAO,SAACoE,GAAD,OAAQ4T,EAAO5X,SAASgE,EAAEpD,WAAW4B,SAAS,QAQ7CqV,EAAa,uCAAG,+BAAA9U,EAAA,6DAAS+U,EAAT,EAASA,QAASC,EAAlB,EAAkBA,SAAlB,kBACpB,IAAI9W,SAAQ,SAACC,EAAS8W,GAC3BtP,EACG4C,IAAIqC,kEAA4B,CAC/BuD,OAAQ,CAAE4G,QAASA,EAASC,SAAUA,KAEvChM,MAAK,SAAC6B,GACL1M,EAAQuW,EAAY7J,EAAIhR,KAAKgF,gBAPR,2CAAH,sDAebqW,EAAW,uCAAG,6BAAAlV,EAAA,6DAAS+U,EAAT,EAASA,QAAT,kBAClB,IAAI7W,SAAQ,SAACC,EAAS8W,GAC3BtP,EACG4C,IAAIqC,kEAAiC,CACpCuD,OAAQ,CAAE4G,QAASA,KAEpB/L,MAAK,SAAC6B,GACL1M,EAAQuW,EAAY7J,EAAIhR,KAAKgF,gBAPV,2CAAH,sDAeXsW,EAAe,uCAAG,+BAAAnV,EAAA,6DAAS+U,EAAT,EAASA,QAASC,EAAlB,EAAkBA,SAAlB,kBACtB,IAAI9W,SAAQ,SAACC,EAAS8W,GAC3BtP,EACG4C,IAAIqC,sEAAgC,CACnCuD,OAAQ,CAAE4G,QAASA,EAASC,SAAUA,KAEvChM,MAAK,SAAC6B,GACL1M,EAAQuW,EAAY7J,EAAIhR,KAAKgF,gBAPN,2CAAH,sDAefuW,EAAa,uCAAG,6BAAApV,EAAA,6DAAS+U,EAAT,EAASA,QAAT,kBACpB,IAAI7W,SAAQ,SAACC,EAAS8W,GAC3BtP,EACG4C,IAAIqC,oEAA8B,CACjCuD,OAAQ,CAAE4G,QAASA,KAEpB/L,MAAK,SAAC6B,GACL1M,EAAQuW,EAAY7J,EAAIhR,KAAKgF,gBAPR,2CAAH,sDAebwW,EAAQ,uCAAG,6BAAArV,EAAA,6DAASsV,EAAT,EAASA,GAAT,kBACf,IAAIpX,SAAQ,SAACC,EAAS8W,GAC3BtP,EACG4C,IAAIqC,mEAA6B,CAChCuD,OAAQ,CAAEmH,GAAIA,KAEftM,MAAK,SAAC6B,GACL1M,EAAQ0M,EAAIhR,KAAKgF,WAElBqK,OAAM,SAACpM,GAAD,OAAOmY,EAAOnY,UATH,2CAAH,sDAgBRyY,EAAO,uCAAG,+BAAAvV,EAAA,6DAASwV,EAAT,EAASA,IAAKC,EAAd,EAAcA,KAAd,kBACd,IAAIvX,SAAQ,SAACC,EAAS8W,GAC3BtP,EACG4C,IAAIqC,iEAA4B,CAC/BuD,OAAQ,CAAEqH,MAAKC,UAEhBzM,MAAK,SAAC6B,GACL1M,EAAQ0M,EAAIhR,KAAKgF,WAElBqK,OAAM,SAACpM,GAAD,OAAOmY,EAAOnY,UATJ,2CAAH,sDAgBP4Y,EAAe,uCAAG,WAAOC,GAAP,SAAA3V,EAAA,sEAChB2F,EAAM4C,IAAN,0CACwBoN,EADxB,cADgB,mFAAH,sD,4DC7IfC,EAAc,WACzB,IAAM3D,EAAUhC,qBAAWpK,KAC3B,OACE,qBACEzM,UAAWC,IAAOgM,UAClB+J,QAAS,kBACP6C,EAAQpL,SAA2B,UAAlBoL,EAAQrL,MAAoB,OAAS,a,kBCJjDiP,EAAS,WACpB,IAAMjR,EAAW9K,cAEjB,OACE,yBAAQV,UAAWC,IAAOgM,UAA1B,UACE,gCACE,qBAAKjM,UAAWC,IAAOyc,KAAvB,SAA8BlR,EAASmR,OAAOxQ,OAC9C,sBAAKnM,UAAWC,IAAO2c,QAAvB,WACG,EACD,cAAC,EAAD,WAIH,M,gCCfDC,EAAa,CACjBC,SAAU,GACVC,KAAM,CAAC,IAAM,IAAM,IAAM,MAGdC,EAAO,SAAC,GAAwB,IAAD,IAArBC,OA+BfC,EAAY,CAChBC,YAAa,EACbC,aAAc,qBACdC,QAAS,SACTC,aAnCwC,SACjB,SAAW,SAmClCT,cAGF,OACE,qBAAK7c,UAAWC,IAAOsd,KAAvB,SACE,eAACC,EAAA,EAAOC,IAAR,CACEC,QAAQ,YACRC,SAAS,UACTC,oBAAoB,OAHtB,UAKE,cAACJ,EAAA,EAAOK,KAAR,aACEC,GAAG,IACHC,GAAG,KACHC,GAAG,IACHC,GAAG,IACHC,SAhDI,CACVC,OAAQ,CACNC,OAAQ,EACRC,WAAY,GAEdC,OAAQ,CACNF,OAAQ,GACRC,WAAY,KA0CJnB,IAGJ,cAACM,EAAA,EAAOK,KAAR,aACEC,GAAG,IACHC,GAAG,KACHC,GAAG,IACHC,GAAG,IACHC,SA/CK,CACbC,OAAQ,CACNI,QAAS,GAEXD,OAAQ,CACNC,QAAS,KA2CCrB,IAIN,cAACM,EAAA,EAAOK,KAAR,aACEC,GAAG,IACHC,GAAG,KACHC,GAAG,KACHC,GAAG,KACHC,SAjDK,CACbC,OAAQ,CACNC,OAAQ,EACRC,WAAY,GAEdC,OAAQ,CACNF,QAAS,GACTC,YAAa,KA2CHnB,UChFHsB,EAAgB,SAAC3R,GAC5B,IACE,MAAM,GAAN,OAAUA,EAAO3G,MAAM,EAAG,GAA1B,cAAkC2G,EAAO3G,MACvC2G,EAAOrI,OAAS,EAChBqI,EAAOrI,SAET,MAAOd,GACP,MAAO,K,0BCeE+a,EAAS,WAAO,IAAD,EACpBC,EAAUC,cACV9F,EAAUhC,qBAAWpK,KAE3B9M,qBAAU,WACRkZ,EAAQjF,aACRiF,EAAQpL,SAASwN,YAAQ,UAAYpN,YAAQ,QAAS,WACrD,IAGH,IAAI+Q,EAAS,QAGb,UAAI/F,EAAQnF,WAAZ,aAAI,EAAalF,WAGboQ,EADE/F,EAAQ7D,UACDwJ,EAAc3F,EAAQnF,IAAIlF,SAG1B,UAMb,IAAMqQ,EAAc,SAACtX,GACnBsR,EAAQ3D,SAAQ,GAChBwJ,EAAQ7Y,KAAK0B,IAaf,OACE,qCACE,wBAAQvH,UAAWC,IAAOgM,UAA1B,SACE,sBAAKjM,UAAWC,IAAO6e,QAAvB,UACE,cAAC,IAAD,CAAQ9I,QAAS,kBAAM6I,EAAY,MAAnC,SACE,qBAAK7e,UAAWC,IAAO8e,KAAvB,SACE,sBAAKrB,QAAQ,mBAAb,UACE,sBACEsB,EAAE,wHACFC,UAAU,6BAEZ,sBACED,EAAE,uHACFC,UAAU,6BAEZ,sBACED,EAAE,sDACFC,UAAU,6BAEZ,sBACED,EAAE,wDACFC,UAAU,oCAMlB,sBAAKjf,UAAWC,IAAOif,MAAvB,UACE,cAAC,IAAD,CAAQlJ,QAtCO,WAAO,IAAD,GACzB,UAAA6C,EAAQnF,WAAR,eAAalF,WAAYqK,EAAQ7D,UAEnC6D,EAAQ9E,aAGR8E,EAAQhF,eAgCiCsL,WAAS,EAA5C,SACE,cAAC,IAAD,UAAUP,MAGZ,eAAC,IAAD,CAAQ5I,QAAS6C,EAAQ5D,aAAckK,WAAS,EAAhD,UACE,cAAC,IAAD,oBACMtG,EAAQ7D,UAAY,OAAS,OADnC,WAGA,cAAC,EAAD,CAAMiI,QAASpE,EAAQ7D,uBAM/B,cAACoK,EAAA,EAAD,WACIvG,EAAQ7D,WACR,eAACwI,EAAA,EAAO6B,IAAR,yBAAYrf,UAAWC,IAAOsd,MCzG/B,CACLF,QAAS,CAAEkB,QAAS,EAAG1B,WAAY,CAAEC,SAAU,GAAKC,KAAM,YAC1DO,QAAS,CAAEiB,QAAS,EAAG1B,WAAY,CAAEC,SAAU,GAAKC,KAAM,YAC1DuC,KAAM,CAAEf,QAAS,EAAG1B,WAAY,CAAEC,SAAU,GAAKC,KAAM,cDsGjD,cACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,qBAAK/c,UAAWC,IAAO6e,QAAvB,SACE,+BACE,6BACE,cAAC,IAAD,CAAQ9I,QAAS,kBAAM6I,EAAY,UAAnC,SACE,cAAC,IAAD,yBAGJ,6BACE,cAAC,IAAD,CAAQ7I,QAAS,kBAAM6I,EAAY,YAAnC,SACE,cAAC,IAAD,yBAGJ,6BACE,cAAC,IAAD,CAAQ7I,QAAS,kBAAM6I,EAAY,eAAnC,SACE,cAAC,IAAD,4BAGJ,6BACE,cAAC,IAAD,CAAQ7I,QAAS,kBAAM6I,EAAY,UAAnC,SACE,eAAC,IAAD,mBACO,sBAAM/Q,MAAO,CAAE+L,SAAU,QAAzB,4BAIX,6BACE,cAAC,IAAD,CAAQ7D,QAAS,kBAAM6I,EAAY,UAAnC,SACE,cAAC,IAAD,gCAQJ,6BACE,cAAC,IAAD,CAAQ7I,QAAS,kBAAM6I,EAAY,WAAnC,SACE,cAAC,IAAD,wBAGJ,6BACE,cAAC,IAAD,CAAQ7I,QAAS,kBAAM6I,EAAY,SAAnC,SACE,cAAC,IAAD,+BAOZ,cAAC,EAAD,c,0BErJCU,EAAoB,WAC/B,IACA,EADgB1I,qBAAWpK,KAEjBuB,SADFC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QAASC,EAA1B,EAA0BA,SAAUC,EAApC,EAAoCA,QAASC,EAA7C,EAA6CA,gBAG7C,OACE,cAAC+Q,EAAA,EAAD,UACGnR,GACC,cAACuP,EAAA,EAAO6B,IAAR,yBAAYrf,UAAWC,IAAOgM,WDf7B,CACLoR,QAAS,CAAEkB,QAAS,EAAG1B,WAAY,CAAEC,SAAU,GAAKC,KAAM,YAC1DO,QAAS,CAAEiB,QAAS,EAAG1B,WAAY,CAAEC,SAAU,GAAKC,KAAM,YAC1DuC,KAAM,CAAEf,QAAS,EAAG1B,WAAY,CAAEC,SAAU,GAAKC,KAAM,cCYnD,aACE,sBAAK/c,UAAWC,IAAO6e,QAAvB,UACG3Q,GAAY,cAAC,IAAD,IACb,qBAAKnO,UAAWC,IAAOiO,QAAvB,SAAiCA,IAEhCE,GACC,qBAAKpO,UAAWC,IAAO2c,QAAvB,SACE,cAAC,IAAD,CAAQ5G,QAAS,kBAAM3H,KAAvB,SACE,cAAC,IAAD,iC,+BCjBGmR,G,mDACnB,WAAYxT,GAAQ,IAAD,8BACjB,cAAMA,IASR4M,mBAVmB,sBAUE,sBAAAhS,EAAA,yDACK,MAApB,EAAKiS,QAAQnF,IADE,gCAEX,EAAKmF,QAAQhF,cAFF,uBAGX,EAAKgF,QAAQjF,aAHF,6CAKX,EAAKiF,QAAQjF,aALF,2CAPnB,EAAK1G,MAAQ,CACXyM,KAAM,IAJS,E,0CAmBnB,WACE,YAA4BjL,IAArBgH,KAAKmD,QAAQnF,IAClB,cAAC,IAAD,CAAUU,GAAE,cAASsB,KAAKmD,QAAQnF,IAAIlF,WAEtC,cAAC,IAAD,CAAM/C,MAAM,GAAZ,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,uDACA,cAAC,IAAD,CAAQ2I,GAAG,QAAX,SACE,cAAC,IAAD,2BAEF,cAAC,IAAD,e,GA/BsBuB,aAAb6J,GASZ1F,YAAcrN,I,yBCTVgT,GAAb,6MAGEjU,SAAW9K,cAHb,EAKEwM,MAAQ,CACNwS,QAAQ,GANZ,EASEA,OAAS,WACP,EAAKnS,SAAS,CACZmS,QAAS,EAAKxS,MAAMwS,UAX1B,4CAeE,WACE,OACE,eAAC,IAAD,CAAMjU,MAAM,QAAQ8O,OAAK,EAAzB,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,qDAIJ,cAAC,IAAD,UACE,cAAC,IAAD,UACE,4BAAI7E,KAAKlK,SAASmU,MAAMC,WAAW,SAIvC,cAAC,IAAD,UACE,cAAC,IAAD,UACE,4BAAIlK,KAAKlK,SAASmU,MAAMC,WAAW,SAIvC,cAAC,IAAD,UACE,cAAC,IAAD,UACE,4BAAIlK,KAAKlK,SAASmU,MAAMC,WAAW,SAIvC,cAAC,IAAD,UACE,cAAC,IAAD,UACE,sBAAK5f,UAAWC,KAAO2c,QAAvB,UACE,wFADF,OAGE,cAAC,IAAD,CAAQ7G,KAAK,sCAAb,SACE,cAAC,IAAD,UACE,+CAGJ,kCARF,OASE,cAAC,IAAD,CAAQA,KAAK,gCAAb,SACE,cAAC,IAAD,UACE,iDAGJ,kCAdF,OAeE,cAAC,IAAD,CAAQA,KAAK,iCAAb,SACE,cAAC,IAAD,UACE,gDAGJ,wCApBF,OAqBE,cAAC,IAAD,CAAQA,KAAK,6BAAb,SACE,cAAC,IAAD,UACE,yDAOV,cAAC,IAAD,UACE,cAAC,IAAD,UACE,sBAAK/V,UAAWC,KAAO2c,QAAvB,UACE,qDADF,OAEE,cAAC,IAAD,CAAQ7G,KAAK,kDAAb,SACE,cAAC,IAAD,UACE,uDAMV,cAAC,IAAD,UACE,eAAC,IAAD,WACE,iDADF,OAEE,cAAC,IAAD,CAAQA,KAAK,uCAAb,SACE,cAAC,IAAD,UACE,8DAGH,OAUL,cAAC,IAAD,UACE,cAAC,IAAD,UACE,sBAAK/V,UAAWC,KAAO2c,QAAvB,UACE,uCADF,OAEE,cAAC,IAAD,CAAQ7G,KAAK,oDAAb,SACE,cAAC,IAAD,UACE,8DA9GlB,GAA2BJ,aAAd8J,GACJ3F,YAAcrN,I,wBCFVnL,GAAb,6MAGE4L,MAAQ,CACNwS,QAAQ,GAJZ,EAOEA,OAAS,WACP,EAAKnS,SAAS,CACZmS,QAAS,EAAKxS,MAAMwS,UAT1B,4CAaE,WACE,OACE,eAAC,IAAD,CAAMjU,MAAM,MAAM8O,OAAK,EAAvB,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,qBAAKva,UAAWC,KAAO2c,QAAvB,SACE,cAAC,IAAD,CAAQ7G,KAAK,6EAAb,SACE,cAAC,IAAD,UACE,6EAIN,qBAAK/V,UAAWC,KAAO2c,QAAvB,SACE,cAAC,IAAD,CAAQ7G,KAAK,+DAAb,SACE,cAAC,IAAD,UACE,0DAIN,qBAAK/V,UAAWC,KAAO2c,QAAvB,SACE,cAAC,IAAD,CAAQ7G,KAAK,oEAAb,SACE,cAAC,IAAD,UACE,qEAIN,qBAAK/V,UAAWC,KAAO2c,QAAvB,SACE,cAAC,IAAD,CAAQ7G,KAAK,2EAAb,SACE,cAAC,IAAD,UACE,sFAIN,qBAAK/V,UAAWC,KAAO2c,QAAvB,SACE,cAAC,IAAD,CAAQ7G,KAAK,2EAAb,SACE,cAAC,IAAD,UACE,mEAIN,qBAAK/V,UAAWC,KAAO2c,QAAvB,SACE,cAAC,IAAD,CAAQ7G,KAAK,6EAAb,SACE,cAAC,IAAD,UACE,qEAIN,qBAAK/V,UAAWC,KAAO2c,QAAvB,SACE,cAAC,IAAD,CAAQ7G,KAAK,uDAAb,SACE,cAAC,IAAD,UACE,qEAMV,cAAC,IAAD,UACE,eAAC,IAAD,WACE,qBAAK/V,UAAWC,KAAO2c,QAAvB,SACE,cAAC,IAAD,CAAQ7G,KAAK,0DAAb,SACE,cAAC,IAAD,UACE,uDAIN,qBAAK/V,UAAWC,KAAO2c,QAAvB,SACE,cAAC,IAAD,CAAQ7G,KAAK,kEAAb,SACE,cAAC,IAAD,UACE,2DAIN,qBAAK/V,UAAWC,KAAO2c,QAAvB,SACE,cAAC,IAAD,CAAQ7G,KAAK,8EAAb,SACE,cAAC,IAAD,UACE,oEAxFlB,GAAyBJ,aAAZrU,GACJwY,YAAcrN,I,kECHVoT,GAAiB,SAAC,GAAD,IAAGvI,EAAH,EAAGA,IAAH,OAC5B,qBAAKtX,UAAWC,KAAOgM,UAAvB,SACE,cAAC,iBAAD,CAAejM,UAAWC,KAAO6f,MAAOxI,IAAKA,EAAKyI,IAAI,oBCN7CC,GACX,CACE,iBACA,mBACA,iBACA,OACA,SACA,QACAnc,SAASoc,UAAUC,WAEpBD,UAAUE,UAAUtc,SAAS,QAAU,eAAgB8J,S,qBCN7CyS,GAAiB,SAAC,GAAkC,IAAhC9I,EAA+B,EAA/BA,IAAKC,EAA0B,EAA1BA,YAAa8I,EAAa,EAAbA,OAC3CC,EAAa7I,mBAyDnB,OAvDA9X,qBAAU,WAqBR,IAEwB4gB,EAFlBC,EAAmB,SAACD,GAAD,OAAWP,IAAOO,EAAMnb,WAAa,GAU9D,GAAIib,GAEF,GAAIG,EAAiBF,EAAWrI,SAC9B,IACEqI,EAAWrI,QAAQwI,OACnB,MAAO1P,GACPrM,QAAQqL,IAAIgB,SAKhB,GACEyP,EAAiBF,EAAWrI,YApBRsI,EAqBLD,EAAWrI,SAnBpByI,YAAc,IACnBH,EAAMI,SACNJ,EAAMK,OACPL,EAAMnb,WAAa,GAkBnB,IACEkb,EAAWrI,QAAQ4I,QACnB,MAAO9P,GACPrM,QAAQqL,IAAIgB,MAIjB,CAACsP,IAGF,qBAAKrgB,UAAWC,KAAOgM,UAAvB,SACE,uBACEuL,IAAK8I,EACLtgB,UAAWC,KAAOsgB,MAClBO,SAAUT,EACVU,aAAW,EACXC,OAAK,EACLC,MAAI,EACJC,SAAU3J,EACVD,IAAKA,O,0DCjEA6J,GAAiB,SAAC,GAAa,IAAD,EAAV7J,EAAU,EAAVA,IACzB8J,EAAa3J,mBACnB,EAAsCjY,oBAAS,GAA/C,mBAAO6hB,EAAP,KACA,GADA,KACwB7hB,oBAAS,IAAjC,mBAAOihB,EAAP,UAQA9gB,qBAAU,WACJ0hB,GACFD,EAAWnJ,QAAQqJ,SAEpB,CAACD,IAEJ1hB,qBAAU,WACJ0hB,IACEZ,EACFW,EAAWnJ,QAAQwI,OAEnBW,EAAWnJ,QAAQ4I,WAGtB,CAACJ,IAEJ,IAAMtK,EAAUC,MAAU,oBACvBnW,KAAOgM,WAAY,GADI,eAEvBhM,KAAOshB,UAAYF,GAFI,IAI1B,OACE,mCACE,sBAAKrhB,UAAWmW,EAAhB,UACE,uBAAOmB,IAAKA,EAAK4J,UAAQ,KACxB,GACA,GACA,Q,qBCvCIM,GAAkB,SAAC,GAA+C,IAAD,EAkBxEC,EAlB4BnK,EAA4C,EAA5CA,IAAKC,EAAuC,EAAvCA,YAAamK,EAA0B,EAA1BA,QAASjd,EAAiB,EAAjBA,WACrDoU,EAAUhC,qBAAWpK,KACrB0J,EAAUC,MAAU,oBACvBnW,KAAOgM,WAAY,GADI,eAEvBhM,KAAOsX,YAAcA,GAFE,IAKtBoK,GAAY,EACZC,GAAW,EAkBf,OAhBInd,GAAcA,EAAW4B,SAAS,KACpCsb,EAAYld,EAAW4B,SAAS,IAG9BwS,EAAQrK,SAAWqK,EAAQrK,QAAQA,UACrCoT,EAAW/I,EAAQrK,QAAQA,SAM3BiT,EAFEC,EAEUpK,EAEH,UAAMA,EAAN,oBAAqBqK,EAArB,mBAAyCC,GAIlD,qBAAK5hB,UAAWmW,EAAhB,SACE,wBACE1K,MAAM,2BACN6L,IAAKmK,EACLI,QAAQ,gBACRC,UAAU,U,+BCzBZC,GAAMC,KAAKC,MAAsB,IAAhBD,KAAKE,UAAsBpc,WAErCqc,GAAgB,SAAC,GAMvB,IAAD,EALJ7K,EAKI,EALJA,IACAC,EAII,EAJJA,YACAmK,EAGI,EAHJA,QACAjd,EAEI,EAFJA,WACA2d,EACI,EADJA,WAEMvJ,EAAUhC,qBAAWpK,KAC3B,EAA8BjN,mBAAS+X,GAAvC,mBAAO8K,EAAP,KAAgBC,EAAhB,KAEIX,GAAY,EACZC,GAAW,EAEXnd,GAAcA,EAAW4B,SAAS,KACpCsb,EAAYld,EAAW4B,SAAS,IAG9BwS,EAAQrK,SAAWqK,EAAQrK,QAAQA,UACrCoT,EAAW/I,EAAQrK,QAAQA,SAI7B,IAAM+T,EAAY9K,iBAAO,MACnB+K,EAAgB/K,iBAAO,MACvBgL,EAAYhL,kBAAO,GACzB,EAAkCjY,mBAAS,MAA3C,mBAAOkjB,EAAP,KAAkBC,EAAlB,KACA,EAA8CnjB,mBAAS,MAAvD,mBAAOojB,EAAP,KAAwBC,EAAxB,KAEMC,EAAc,uCAAG,kCAAAlc,EAAA,6DACrB6b,EAAUxK,SAAU,EAEdtR,EAASkE,2BAAgByM,GAHV,SAIE5Q,+BAAoBC,GAJtB,cAIfoc,EAJe,OAKfjc,EAAQ,GACdic,EAASpd,SAAQ,SAAC8B,GAChBX,EAAMW,EAAEF,MAAQE,EAAED,QAGpBgb,EAAcvK,QAAUnR,EAVH,UAYAwD,yBAAckY,EAAcvK,SAZ5B,SAYfxS,EAZe,QAaV+E,OACT9F,QAAQ8F,MAAM/E,EAAO+E,OACrBqY,EAAmBpd,EAAO+E,QAE1BqY,EAAmB,MAErBF,EAAald,EAAO8E,OAEpBkY,EAAUxK,SAAU,EArBC,4CAAH,sDAwBhByJ,GAAYc,EAAcvK,SAAYwK,EAAUxK,SAClD6K,IAGFnjB,qBAAU,WACR,IAAMqjB,EAAO,uCAAG,WAAO1J,GAAP,SAAA1S,EAAA,yDACV0S,EAAM7Y,OAASshB,GADL,iDAKdQ,EAAUtK,QAAQgL,cAAcC,YAC9B,CACE/d,OAAQ,yBACR1E,KAAM+hB,EAAcvK,SAEtB,KAVY,2CAAH,sDAgBb,OAFA/P,OAAOrI,iBAAiB,UAAWmjB,GAE5B,kBAAM9a,OAAOpI,oBAAoB,UAAWkjB,MAClD,CAAC1L,IAEJ,IAAMnB,EAAUC,MAAU,oBACvBnW,KAAOgM,WAAY,GADI,eAEvBhM,KAAOsX,YAAcA,GAFE,IAK1B,GAAImK,EAAS,CAIX,GAFAC,EAAYC,EAERc,EACF,OACE,qBAAK1iB,UAAWmW,EAAhB,SACE,wBACEqB,IAAK+K,EACL9W,MAAM,iBACN6L,IAAG,+EAA0EyK,GAA1E,oBAAyFJ,EAAzF,mBAA6GC,GAChHC,QAAQ,+CACRsB,MAAM,yEAIP,IAAkB,IAAdT,EACT,OACE,sBAAK1iB,UAAWC,KAAOuK,MAAvB,4BAA8CoY,KAKpD,OAAKP,EAsEH,qBAAKriB,UAAWmW,EAAhB,SACE,wBACE1K,MAAM,aACN6L,IAAG,UAAKA,EAAL,oBAAoBqK,EAApB,mBAAwCC,GAC3CC,QAAQ,kCACRsB,MAAM,yEAzER,qBAAKnjB,UAAWmW,EAAhB,SACE,sBAAKnW,UAAWC,KAAOyhB,QAAvB,UACE,qBAAKpK,IAAK8K,EAAYrC,IAAI,cAC1B,qBAAK/f,UAAWC,KAAO2e,OAAvB,SACE,eAAC,IAAD,CAAQ5I,QAAS,kBAAMsM,GAAW,IAAlC,UACE,cAAC,IAAD,mBACA,sBACE5K,MAAM,KACNE,OAAO,KACP8F,QAAQ,YACR0F,KAAK,OACLC,MAAM,6BALR,UAOE,mBAAG5f,OAAO,kBAAV,SACE,wBAAQ6f,GAAG,KAAKC,GAAG,KAAKxQ,EAAE,KAAKqQ,KAAK,YAEtC,sBACEpE,EAAE,gxEACFoE,KAAK,UAEP,sBACEpE,EAAE,whBACFoE,KAAK,UAEP,+BACE,yBACElH,GAAG,YACHsH,EAAE,IACFC,EAAE,IACF/L,MAAM,KACNE,OAAO,KACP8L,YAAY,iBACZC,0BAA0B,OAP5B,UASE,yBAASC,aAAa,IAAIne,OAAO,uBACjC,+BACEoe,GAAG,cACH5c,KAAK,SACL6c,OAAO,8CAET,0BAAUC,GAAG,MACb,gCAAgBC,aAAa,MAC7B,+BACE/c,KAAK,SACL6c,OAAO,+CAET,yBACEG,KAAK,SACLC,IAAI,qBACJze,OAAO,uBAET,yBACEwe,KAAK,SACLJ,GAAG,gBACHK,IAAI,qBACJze,OAAO,6B,qBC5KhB0e,GAAmB,SAAC,GAAkB,IAAhB7e,EAAe,EAAfA,SACjC,OACE,qBAAKtF,UAAWC,KAAOgM,UAAvB,SACE,sBAAKjM,UAAWC,KAAOmkB,OAAvB,UAAgC9e,EAAhC,6B,qBCHO+e,GAAe,SAAC,GAAD,IAAG/M,EAAH,EAAGA,IAAH,OAC1B,qBAAKtX,UAAWC,KAAOgM,UAAvB,SACE,wBACER,MAAM,2BACN6L,IAAG,UAAKA,EAAL,YACHwK,UAAU,U,oDCUHrH,GAAY,SAAC,GAInB,IAAD,MAHJrb,gBAGI,MAHO,KAGP,EAFJmY,EAEI,EAFJA,YAEI,IADJ+M,oBACI,SACEzL,EAAUhC,qBAAWpK,KACrB6T,EAAa7I,mBAEnB,EAAwB8M,aAAU,CAChCC,UAAW,IADLhN,EAAR,EAAQA,IAAK6I,EAAb,EAAaA,OAYPoE,EAAmB,SAAC/gB,GACpBsc,KAIA0E,KAAWC,aACb9L,EAAQvL,eAAc,GAEtBuL,EAAQvL,eAAc,GAGxBpF,OAAO0c,cAAc,IAAIC,MAAM,aAGjCllB,qBAAU,WAUR,OATI2kB,GAAiBtE,KACnBrS,SAAS9N,iBAAiB,mBAAoB4kB,GAC9C9W,SAAS9N,iBACP,yBACA4kB,GACA,IAIG,YACDH,GAAiBtE,KACnBrS,SAAS7N,oBAAoB,mBAAoB2kB,GACjD9W,SAAS7N,oBACP,yBACA2kB,GACA,OAIL,IAEH,IAAMtO,EAAUC,MAAU,oBACvBnW,KAAOgM,WAAY,GADI,eAEvBhM,KAAOoN,WAAawL,EAAQxL,YAFL,IAKpByX,EAAoBC,IAAMC,SAASzhB,IAAInE,GAAU,SAAC6lB,GACtD,OAAIF,IAAMG,eAAeD,GAChBF,IAAMI,aAAaF,EAAO,CAAE5E,SAAQ9I,gBAEtC0N,KAGT,OACE,qBAAKzN,IAAKA,EAAV,SACE,sBAAKA,IAAK8I,EAAYtgB,UAAWmW,EAAjC,UACGoB,IAAgByI,KAAQsE,GACvB,qBAAKtO,QA5DY,WAClB0O,KAAWC,aAGdD,KAAWpF,OAFXoF,KAAWU,QAAQ9E,EAAWrI,QAAS,CAAEoN,aAAc,UA0DnBrlB,UAAWC,KAAOqlB,KAAlD,SACGzM,EAAQxL,WACP,qBAAKqQ,QAAQ,YAAb,SACE,mBACE0F,KAAK,OACLmC,SAAS,UACTrJ,GAAG,SACHsJ,OAAO,OACPrI,YAAY,IALd,SAOE,mBACEiG,KAAK,UACLnE,UAAU,sCAFZ,SAIE,mBAAGA,UAAU,oCAAb,SACE,sBAAMD,EAAE,0MAMhB,qBAAKtB,QAAQ,YAAb,SACE,mBAAG0F,KAAK,OAAOmC,SAAS,UAAUC,OAAO,OAAOrI,YAAY,IAA5D,SACE,mBACEiG,KAAK,UACLnE,UAAU,sCAFZ,SAIE,mBAAGA,UAAU,oCAAb,SACE,sBAAMD,EAAE,0MAQrB8F,QCjHHW,GAAa,oCAEbC,GAAO,wBAQN,IAAMC,GAAkB,SAAC3Z,GAC9B,IACE1G,EAKE0G,EALF1G,SACAsgB,EAIE5Z,EAJF4Z,IAFF,EAMI5Z,EAHFuL,mBAHF,WAMIvL,EAFF0V,eAJF,SAKExO,EACElH,EADFkH,SAEI3L,EAAOqe,EACTC,EAAMnE,EAAUkE,EAAH,UAAYH,IAAZ,OAAyBle,GAE1C,OAAQjC,GAEN,KAAKzD,IAASC,IACd,KAAKD,IAASE,IACd,KAAKF,IAASG,KACd,KAAKH,IAASI,IACd,KAAKJ,IAASM,KACd,KAAKN,IAASO,KACZ,OACE,cAAC,GAAD,CAAWmV,YAAaA,EAAxB,SACE,cAAC,GAAD,CAAgBD,IAAKuO,MAI3B,KAAKhkB,IAASK,IACZ,OACE,cAAC,GAAD,CAAWqV,YAAaA,EAAxB,SACE,cAAC,GAAD,2BAAqBrE,GAArB,IAA+BoE,IAAKuO,EAAKnE,QAASA,OAIxD,KAAKve,IACL,KAAKtB,IAASmB,IACd,KAAKnB,IAASoB,KACd,KAAKpB,IAASqB,KACPwe,IACHmE,EA3CR,SAAsBhV,GACpB,IACMiV,EADQ,IAAIC,KAAWC,IAAInV,GAAMoV,OAChBngB,WACvB,MAAM,WAAN,OAAkBggB,EAAlB,yBAwCYI,CAAa3e,IAErB,IAAI6a,EAAa,GAcjB,OAZIlP,GAAYA,EAASzO,YAAcyO,EAASzO,WAAW2d,aACzDA,EAAalP,EAASzO,WAAW2d,WAAW7Z,QAC1C,UACAkd,KAUF,cAAC,GAAD,CAAWlO,YAAaA,EAAxB,SACE,cAAC,GAAD,2BACMrE,GADN,IAEEoE,IAAKuO,EACLnE,QAASA,EACTU,WAAYA,OAKpB,KAAKvgB,IAASQ,IACd,KAAKR,IAASS,IACd,KAAKT,IAASU,UACd,KAAKV,IAASW,KAEZ,OADAqjB,EAAMnE,EAAUkE,EAAH,UAAYF,IAAZ,OAAmBne,GAE9B,cAAC,GAAD,CAAWgQ,YAAaA,EAAa+M,cAAY,EAAjD,SACE,cAAC,GAAD,CAAgBhN,IAAKuO,MAI3B,KAAKhkB,IAASY,IACd,KAAKZ,IAASa,KACZ,OACE,cAAC,GAAD,CAAW6U,YAAaA,EAAxB,SACE,cAAC,KAAD,CAAcD,IAAKuO,MAIzB,KAAKhkB,IAASc,IACd,KAAKd,IAASe,IACd,KAAKf,IAASiB,KACd,KAAKjB,IAASgB,IAEZ,OADAgjB,EAAMnE,EAAUkE,EAAH,UAAYF,IAAZ,OAAmBne,GAE9B,cAAC,GAAD,CAAWgQ,YAAaA,EAAxB,SACE,cAAC,GAAD,2BAAoBrE,GAApB,IAA8BoE,IAAKuO,OAIzC,KAAKhkB,IAASkB,IACZ,OACE,cAAC,GAAD,CAAWwU,YAAaA,EAAxB,SACE,cAAC,GAAD,CAAcD,IAAKuO,MAGzB,QACE,OAAO,cAAC,GAAD,CAAkBvgB,SAAUA,M,0CCvHnC6gB,GAASC,KADI,8DAGbC,GAAI,GAEV,SAASC,GAAMC,EAAGC,GAChB,OAAOxE,KAAKyE,KAAKD,EAAKD,GAAKC,GAG7B,SAASE,GAAT,GAA2B,IAATlD,EAAQ,EAARA,EAAGC,EAAK,EAALA,EAKnB,OAAOD,EAAIC,EAJD,IAIUD,EAAIC,EADd4C,KACwB7C,EAFvB6C,IAEiC5C,EAJlC,IAI6CA,EAF5C4C,IAEsD7C,EAJvD,GAOZ,SAASmD,GAAQpf,GACf,MAA2B,OAApBA,EAAKqf,QAAQ,GAsEtB,IAAMC,GAAa,CACjB,SAACtf,EAAMuf,GAAP,OACE,qBAAKpJ,QAAO,cAAS2I,GAAT,YAAcA,IAAKhD,MAAM,6BAArC,SACE,sBAAMnH,GAAG,OAAO8C,EAAC,UAAKzX,QAG1B,SAACA,EAAMiH,GAAP,OACE,sBAAKkP,QAAO,cAAS2I,GAAT,YAAcA,IAAKhD,MAAM,6BAArC,UACE,wBACEnH,GAAE,gBAAW1N,GACbgV,EAAE,KACFC,EAAE,KACF/L,MAAM,OACNE,OAAO,OACP8L,YAAY,oBACZqD,eAAe,iBAPjB,SASE,8BACExT,SAAS,QACTyT,OAAO,MACPxD,EAAE,KACFC,EAAE,KACF/L,MAAM,OACNE,OAAO,OACPiM,GAAG,gBACHpe,OAAO,iBAGX,sBACEyW,GAAG,OACH8C,EAAC,UAAKzX,GACNuG,MAAO,CAAErK,OAAO,cAAD,OAAgB+K,EAAhB,YAIrB,SAACjH,EAAMiH,GAAP,OACE,sBAAKkP,QAAO,cAAS2I,GAAT,YAAcA,IAAKhD,MAAM,6BAArC,UACE,yBAAQnH,GAAE,gBAAW1N,GAArB,UACE,8BACEvH,KAAK,aACLggB,cAAc,QACdC,WAAW,IACXzhB,OAAO,eAET,mCACEye,IAAI,aACJL,GAAG,gBACHsD,MAAM,KACNC,iBAAiB,IACjBC,iBAAiB,MAEnB,8BAAc9T,SAAS,SAASyT,OAAO,QACvC,8BAAczT,SAAS,QAAQyT,OAAO,WAExC,sBACE9K,GAAG,OACH8C,EAAC,UAAKzX,GACNuG,MAAO,CAAErK,OAAO,cAAD,OAAgB+K,EAAhB,YAIrB,SAACjH,EAAMiH,GAAP,OACE,sBAAKkP,QAAO,cAAS2I,GAAT,YAAcA,IAAKhD,MAAM,6BAArC,UACE,yBAAQnH,GAAE,gBAAW1N,GAArB,UACE,8BACEvH,KAAK,aACLggB,cAAc,QACdC,WAAW,IACXzhB,OAAO,eAET,mCACEye,IAAI,aACJL,GAAG,gBACHsD,MAAM,KACNC,iBAAiB,IACjBC,iBAAiB,MAEnB,8BAAc9T,SAAS,QAAQyT,OAAO,WAExC,sBACE9K,GAAG,OACH8C,EAAC,UAAKzX,GACNuG,MAAO,CAAErK,OAAO,cAAD,OAAgB+K,EAAhB,YAIrB,SAACjH,EAAMiH,GAAP,OACE,sBAAKkP,QAAO,cAAS2I,GAAT,YAAcA,IAAKhD,MAAM,6BAArC,UACE,yBAAQnH,GAAE,gBAAW1N,GAArB,UACE,8BACEvH,KAAK,aACLggB,cAAc,QACdC,WAAW,IACXzhB,OAAO,eAET,mCACEye,IAAI,aACJL,GAAG,gBACHsD,MAAM,KACNC,iBAAiB,IACjBC,iBAAiB,SAGrB,sBACEnL,GAAG,OACH8C,EAAC,UAAKzX,GACNuG,MAAO,CAAErK,OAAO,cAAD,OAAgB+K,EAAhB,YAIrB,SAACjH,EAAMiH,GAAP,OACE,sBAAKkP,QAAO,cAAS2I,GAAT,YAAcA,IAAKhD,MAAM,6BAArC,UACE,yBAAQnH,GAAE,gBAAW1N,GAArB,UACE,8BACEvH,KAAK,aACLggB,cAAc,WACdC,WAAW,IACXzhB,OAAO,eAET,mCACEye,IAAI,aACJL,GAAG,gBACHsD,MAAM,KACNC,iBAAiB,IACjBC,iBAAiB,SAGrB,sBACEnL,GAAG,OACH8C,EAAC,UAAKzX,GACNuG,MAAO,CAAErK,OAAO,cAAD,OAAgB+K,EAAhB,YAIrB,SAACjH,EAAMiH,GAAP,OACE,sBAAKkP,QAAO,cAAS2I,GAAT,YAAcA,IAAKhD,MAAM,6BAArC,UACE,wBAAQnH,GAAE,gBAAW1N,GAArB,SACE,8BAAc+E,SAAS,QAAQyT,OAAO,QAExC,sBACE9K,GAAG,OACH8C,EAAC,UAAKzX,GACNuG,MAAO,CAAErK,OAAO,cAAD,OAAgB+K,EAAhB,YAIrB,SAACjH,EAAMiH,GAAP,OACE,sBAAKkP,QAAO,cAAS2I,GAAT,YAAcA,IAAKhD,MAAM,6BAArC,UACE,wBAAQnH,GAAE,gBAAW1N,GAArB,SACE,8BAAc+E,SAAS,SAASyT,OAAO,UAEzC,sBACE9K,GAAG,OACH8C,EAAC,UAAKzX,GACNuG,MAAO,CAAErK,OAAO,cAAD,OAAgB+K,EAAhB,YAIrB,SAACjH,EAAMiH,GAAP,OACE,sBAAKkP,QAAO,cAAS2I,GAAT,YAAcA,IAAKhD,MAAM,6BAArC,UACE,yBAAQnH,GAAE,gBAAW1N,GAAWgV,EAAE,IAAIC,EAAE,IAAI/L,MAAM,OAAOE,OAAO,OAAhE,UACE,wBAAQiM,GAAG,gBAAgBL,EAAE,KAAKC,EAAE,KAAK/L,MAAM,KAAKE,OAAO,OAC3D,8BAEF,sBACEsE,GAAG,OACH8C,EAAC,UAAKzX,GACNuG,MAAO,CAAErK,OAAO,cAAD,OAAgB+K,EAAhB,YAIrB,SAACjH,EAAMiH,GAAP,OACE,sBAAKkP,QAAO,cAAS2I,GAAT,YAAcA,IAAKhD,MAAM,6BAArC,UACE,yBAAQnH,GAAE,gBAAW1N,GAArB,UACE,8BACEvH,KAAK,aACLggB,cAAc,OACdC,WAAW,IACXzhB,OAAO,eAET,mCACEye,IAAI,aACJL,GAAG,gBACHsD,MAAM,KACNC,iBAAiB,IACjBC,iBAAiB,SAGrB,sBACEnL,GAAG,OACH8C,EAAC,UAAKzX,GACNuG,MAAO,CAAErK,OAAO,cAAD,OAAgB+K,EAAhB,aAMV8Y,GAAY,SAAC,GAA4B,IAAD,IAAzB9Y,eAAyB,MAAf,GAAe,EACnD,GADmD,EAAXuQ,KAEtC,OACE,qBAAK/e,UAAWC,KAAOsnB,UAAvB,SACE,qBACEjQ,IAAG,+CAA0C9I,GAC7CuR,IAAI,gBAMZ,MApRF,SAAgBvR,GAUd,IATA,IACMiC,EADU0V,GAAOhd,OAAOqF,EAAQgZ,OAAOZ,OAAO,IAChC9gB,SAAS,OACvB2hB,EAAQhX,EAAI1I,MAAM,IAAIzB,QAAO,SAACohB,EAAKlE,GAAN,OAAYkE,EAAM/V,SAAS6R,EAAG,MAAK,GAChEkE,EAAMjX,EACT1I,MAAM,IACN7B,OAAO,GACPI,QAAO,SAACohB,EAAKlE,GAAN,OAAYkE,EAAM/V,SAAS6R,EAAG,MAAK,GAEvCmE,EAAM,GACH9f,EAAI,EAAGA,EAAI4I,EAAIjM,OAAS,EAAGqD,IAAK,CACvC,IAAM0e,EAAI5U,SAAS,GAAD,OAAIlB,EAAI5I,IAAR,OAAa4I,EAAI5I,EAAI,IAArB,OAA0B4I,EAAI5I,EAAI,IAAM,IAAM4f,EAC1DjE,EAAI8C,GAAMtE,KAAKC,OAAOsE,GAAKF,IAASA,IAAIA,IACxC5C,EAAI6C,GAAMtE,KAAKC,MAAMsE,GAAK/C,GAAK6C,KAASA,IAC9CsB,EAAI9hB,KAAK,CAAE2d,IAAGC,IAAG8C,MAKnB,IAFA,IAAIhf,EAAO,KACPqgB,GAAO,EACF/f,EAAI,EAAGA,EAAI8f,EAAInjB,OAAQqD,IAAK,CACnC,IAAM0e,EAAIoB,EAAI9f,GACd,GAAI8e,GAAQpf,GACV,GAAImf,GAAOH,IAAMA,EAAEA,EAAI,IAAM,IAAMA,EAAE/C,EAAI+C,EAAE9C,GAAK,EAAI,EAAG,CACrD,IAAM1Q,EAAKwT,EAAE/C,EAAI,EAAM+C,EAAE9C,EAAI,EAC7Blc,GAAI,wBACE+e,GAAMC,EAAE/C,EAAI6C,IAAQA,IAAKtT,EAD3B,aACiCuT,GAAMC,EAAE9C,EAAI4C,IAAQA,IADrD,yBAEEtT,EAFF,YAEOA,EAFP,kBAEsB,EAAJA,EAFlB,2BAGEA,EAHF,YAGOA,EAHP,mBAGuB,EAAJA,EAHnB,gBAKJ6U,GAAO,OACF,GAAIrB,EAAEA,EAAI,IAAM,EAAG,CACxB,IAAMxT,EAAKwT,EAAE/C,EAAI,EAAM+C,EAAE9C,EAAI,EAC7Blc,GAAI,wBACE+e,GAAMC,EAAE/C,EAAI6C,IAAQA,IAAKtT,EAD3B,aACiCuT,GAAMC,EAAE9C,EAAI4C,IAAQA,IADrD,yBAEEtT,EAFF,YAEOA,EAFP,kBAEsB,EAAJA,EAFlB,2BAGEA,EAHF,YAGOA,EAHP,mBAGuB,EAAJA,EAHnB,gBAKJ6U,GAAO,OACErB,EAAEA,EAAI,IAAM,GAAKA,EAAE/C,EAAI,EAAI,GACpCjc,GAAI,aAAUgf,EAAE/C,EAAZ,YAAiB+C,EAAE9C,GACvBlc,GAAI,aAAUgf,EAAE/C,EAAZ,YAAiB+C,EAAE9C,GACvBmE,GAAO,GACErB,EAAEA,EAAI,IAAM,GACrBhf,GAAI,aAAUgf,EAAE/C,EAAZ,YAAiB+C,EAAE9C,GACvBlc,GAAI,aAAUgf,EAAE9C,EAAZ,YAAiB8C,EAAE/C,GACvBoE,GAAO,IAEPrgB,GAAI,aAAUgf,EAAE/C,EAAZ,YAAiB+C,EAAE9C,GACvBlc,GAAI,aAAUgf,EAAE/C,EAAZ,YAAiB+C,EAAE9C,GACvBmE,GAAO,EACH/f,EAAI8f,EAAInjB,OAAS,IACnB+C,GAAI,WAAQogB,EAAI9f,EAAI,GAAG2b,EAAnB,YAAwBmE,EAAI9f,EAAI,GAAG4b,GACvClc,GAAI,WAAQogB,EAAI9f,EAAI,GAAG2b,EAAnB,YAAwBmE,EAAI9f,EAAI,GAAG4b,UAGjCmE,GAIVrgB,GAAI,aAAUgf,EAAE/C,EAAZ,YAAiB+C,EAAE9C,GACvBlc,GAAI,aAAUgf,EAAE/C,EAAZ,YAAiB+C,EAAE9C,GACvBmE,GAAO,IALPrgB,GAAI,WAAQgf,EAAE/C,EAAV,YAAe+C,EAAE9C,GACrBmE,GAAO,GAOX,MAAO,CAACrgB,EAAMmgB,GAoNMvO,CAAO3K,GAA3B,mBAAOjH,EAAP,KAAasgB,EAAb,KACMN,EAAYV,GAAWgB,EAAMhB,GAAWriB,QAAQ+C,EAAMiH,GAE5D,OAAO,qBAAKxO,UAAWC,KAAOsnB,UAAvB,SAAmCA,K,mBC9S7BO,I,6FCQb,WAAY9b,GAAQ,IAAD,sBACjB,IAAM+b,GAAa,IAAIC,MAAOC,WAC9B,cAAMjc,IACDkc,mBAAqBnD,IAAMoD,YAChC,EAAKC,eAAiBrD,IAAMoD,YAC5B,EAAKE,eAAiB,EAAKA,eAAeC,KAApB,iBACtB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,iBACvB,EAAKE,WAAa,EAAKA,WAAWF,KAAhB,iBAClB,EAAKG,0BAA4B,EAAKA,0BAA0BH,KAA/B,iBACjC,EAAKI,eAAiB,EAAKA,eAAeJ,KAApB,iBACtB,EAAKK,aAAe,EAAKA,aAAaL,KAAlB,iBACpB,EAAKM,kBAAoB,EAAKA,kBAAkBN,KAAvB,iBACzB,EAAKO,UAAY,EAAKA,UAAUP,KAAf,iBAEjB,IAAMQ,EAAmB,EAAKC,gBAAgB/c,EAAMgd,SAK9CC,GADiBjd,EAAMgd,QAAUhd,EAAMgd,QAAU,IACXzlB,KAAI,SAACigB,EAAG0F,GAElD,OADA1F,EAAE2F,KAAOD,EACF1F,KAEH4F,EAAa,CAAEna,MAAO,GAAI7D,MAAO,IACjC4P,EACJhP,EAAMgP,cACNiO,EAAqBI,MAAK,SAAA7F,GAAC,OAAIA,EAAEvU,QAAUjD,EAAMgP,gBAC7CiO,EAAqBI,MAAK,SAAA7F,GAAC,OAAIA,EAAEvU,QAAUjD,EAAMgP,gBACjDoO,EA5BW,OA8BjB,EAAKlc,MAAQ,CACX6a,WAAYA,EACZqB,WAAYA,EACZE,aAAcR,EAAiBve,MAC/Bgf,cAAeT,EAAiBU,OAChCC,sBAAuBzO,EAEvB0O,YAAa1d,EAAM0d,YAAc1d,EAAM0d,YAAc,GACrDC,YAAY,EACZX,QAASC,EACTvR,MAAO1L,EAAM0L,MAAQ1L,EAAM0L,MAAQ,GACnCkS,mBAAoB,GAzCL,E,qDA6CnB,WACEjc,SAAS9N,iBAAiB,YAAa6V,KAAK+S,2BAC5C9a,SAAS9N,iBAAiB,UAAW6V,KAAKgT,iBACvB,IAAIV,MAAOC,Y,kCAMhC,WACEta,SAAS7N,oBAAoB,YAAa4V,KAAK+S,2BAC/C9a,SAAS7N,oBAAoB,UAAW4V,KAAKgT,kB,6BAG/C,SAAgBM,GACd,IAAKa,MAAMC,QAAQd,GACjB,MAAO,CAAEze,OAAO,EAAOif,OAAQ,uCAEjC,IAAMO,EAAOf,EAAQ,GACrB,MAEoB,kBAATe,QACQrb,IAAfqb,EAAK9a,YACUP,IAAfqb,EAAK3e,OAGP1G,QAAQ8F,MACN,2EACAuf,GAEK,CACLxf,OAAO,EACPif,OACE,6EAGC,CACLjf,OAAO,EACPif,OAAQ,M,uCAIZ,SAA0B9lB,GAExB,IAAMsmB,EACJtU,KAAKwS,mBAAmBjQ,SACxBvC,KAAKwS,mBAAmBjQ,QAAQgS,SAASvmB,EAAEyB,QACvC+kB,EACJxU,KAAK0S,eAAenQ,SACpBvC,KAAK0S,eAAenQ,QAAQgS,SAASvmB,EAAEyB,QACpC6kB,GAAiCE,GACpCxU,KAAKnI,SAAL,2BACKmI,KAAKxI,OADV,IAEE0c,mBAAoB,EACpBD,YAAY,O,4BAKlB,SAAejmB,GACb,GAAIgS,KAAKxI,MAAMyc,WAAY,CAEzB,IAAMQ,EAAiBzU,KAAKxI,MAAM8b,QAAQxkB,OAAS,EACnD,GAAc,cAAVd,EAAEsL,IAAqB,CACzB,IAAMob,EAAW1U,KAAKxI,MAAM0c,qBAAuBO,EAAiB,EAAIzU,KAAKxI,MAAM0c,mBAAqB,EACxGlU,KAAKwS,mBAAmBjQ,QAAQ9N,cAAhC,qBAA4DigB,EAA5D,OAA0EC,wBAAuB,GACjG3U,KAAKnI,SAAL,2BACKmI,KAAKxI,OADV,IAEE0c,mBAAoBQ,KAGxB,GAAc,YAAV1mB,EAAEsL,IAAmB,CACvB,IAAMob,EAA8C,IAAlC1U,KAAKxI,MAAM0c,mBAA4BO,EAAiBzU,KAAKxI,MAAM0c,mBAAqB,EAC1GlU,KAAKwS,mBAAmBjQ,QAAQ9N,cAAhC,qBAA4DigB,EAA5D,OAA0EC,wBAAuB,GACjG3U,KAAKnI,SAAL,2BACKmI,KAAKxI,OADV,IAEE0c,mBAAoBQ,KAGxB,GAAc,UAAV1mB,EAAEsL,IAAiB,CACrB,IAAMsb,EAAc5U,KAAKxI,MAAM0c,mBACzBW,EAAgB7U,KAAKxI,MAAM8b,QAAQsB,GACrC5U,KAAK1J,MAAMT,UACbmK,KAAK1J,MAAMT,SAAS7H,EAAG6mB,EAActb,MAAOsb,GAE9C7U,KAAKmT,UAAU0B,EAAeD,O,+BAKpC,SAAkBE,GAChB,OAAIA,EAAGpgB,aAAa,SAAiBogB,EAC9B9U,KAAK+U,kBAAkBD,EAAGE,c,4BAGnC,SAAehnB,GACb,IAAMinB,EAAgBjV,KAAK+U,kBAAkB/mB,EAAEyB,QACzCmlB,EAAc3Y,SAASgZ,EAAcvgB,aAAa,SAAU,IAC5DmgB,EAAgB7U,KAAKxI,MAAM8b,QAAQsB,GACrC5U,KAAK1J,MAAMT,UACbmK,KAAK1J,MAAMT,SAAS7H,EAAG6mB,EAActb,MAAOsb,GAE9C7U,KAAKmT,UAAU0B,EAAeD,K,uBAGhC,SAAUM,EAAQC,GAChB,IAAMxiB,EAASwiB,GAA2BnV,KAAKxI,MAAM8b,QAAQ8B,WAAU,SAAAC,GAAG,OAAIA,EAAI9b,QAAU2b,EAAO3b,OAAS8b,EAAI3f,QAAUwf,EAAOxf,SACjIsK,KAAKnI,SAAL,2BACKmI,KAAKxI,OADV,IAEEuc,sBAAuBmB,EACvBI,mBAAoB3iB,EACpBuhB,mBAAoB,EACpBD,YAAY,O,wBAIhB,SAAWjmB,GACT,IAAMimB,EAAajU,KAAKxI,MAAMyc,WAC9BjU,KAAKnI,SAAL,2BACKmI,KAAKxI,OADV,IAEEyc,YAAaA,O,6BAIjB,SAAgBjmB,GACVgS,KAAK1J,MAAMT,UACbmK,KAAK1J,MAAMT,SAAS7H,GAEtBgS,KAAKnI,SAAL,2BACKmI,KAAKxI,OADV,IAEEuc,sBAAuB/T,KAAKxI,MAAMkc,WAClCQ,mBAAoB,EACpBD,YAAY,KAEdjmB,EAAEunB,oB,+BAGJ,SAAkBF,GAChB,OAAIrV,KAAK1J,MAAM4c,mBAAqBmC,IAAQrV,KAAKxI,MAAMkc,WAC9C1T,KAAK1J,MAAM4c,kBAAkBmC,GAE7BA,EAAI3f,Q,0BAIf,SAAa2f,GACX,IAAMG,EAAeH,EAAI5B,OAASzT,KAAKxI,MAAM0c,mBAAqB,kBAAoB,GACtF,OACE,qBACE5T,QAASN,KAAK2S,eAEdhgB,MAAO0iB,EAAI5B,KACXnpB,UAAS,uBAAkBkrB,GAJ7B,SAMGxV,KAAKkT,kBAAkBmC,IAN1B,sBAEsBA,EAAI5B,S,oBAS9B,WAAU,IAAD,OACP,IAAKzT,KAAKxI,MAAMoc,aACd,OAAO,oDAAuB5T,KAAKxI,MAAMqc,iBAC3C,IAAM4B,EAAOzV,KAAKxI,MAAM8b,QAAQzlB,KAAI,SAAAigB,GAClC,OAAO,EAAKmF,aAAanF,MAGrB1V,EAAQ,CACZ4J,MAAOhC,KAAKxI,MAAMwK,MAAQhC,KAAKxI,MAAMwK,MAAQ,OAC7CrC,QAASK,KAAK1J,MAAMof,OAAS,eAAiB,SAE1CC,EAAuB3V,KAAK1J,MAAMsf,YAAc,cAAgB,GAChEC,EAAkB7V,KAAK1J,MAAMwf,gBAAkB,GAAK,iBAGpDC,EAAoB,CAAC,kBAFG/V,KAAKxI,MAAMyc,WAAa,aAAe,eACJ,KAA3CjU,KAAKxI,MAAMuc,sBAAsBxa,MAAe,GAAK,gBACSoc,EAAsBE,GACpGG,EACJ,qBAAK1rB,UAAU,kBAAkBgW,QAASN,KAAK6S,gBAA/C,SACE,qBAAKvoB,UAAU,gBAAf,SACE,qBACE2rB,cAAY,OACZC,UAAU,QACVhU,OAAO,KACP8F,QAAQ,YACRhG,MAAM,KALR,SAOE,sBAAMsH,EAAE,qWAKV6M,EAAgBnW,KAAK1J,MAAM8f,cAAgB,GAAKJ,EACtD,OACE,qBAAK1rB,UAAWyrB,EAAkBhoB,QAAO,SAAA+f,GAAC,OAAIA,KAAG1f,KAAK,KAAMgK,MAAOA,EAAnE,SACE,sBAAK9N,UAAU,WAAf,UACE,qBAAKA,UAAU,SAAf,SAAyB0V,KAAKxI,MAAMwc,cACpC,sBAAK1pB,UAAU,qBAAqBgW,QAASN,KAAK8S,WAAYhR,IAAK9B,KAAK0S,eAAxE,UACE,qBAAKpoB,UAAU,kBAAf,SACG0V,KAAKkT,kBAAkBlT,KAAKxI,MAAMuc,yBAEpCoC,EACD,qBAAK7rB,UAAU,qBAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,qBACE2rB,cAAY,OACZC,UAAU,QACVhU,OAAO,KACP8F,QAAQ,YACRhG,MAAM,KALR,SAOE,sBAAMsH,EAAE,mSAKhB,qBACEhf,UAAS,yBACTwX,IAAK9B,KAAKwS,mBAFZ,SAIGiD,a,GAxQcpG,IAAMpP,Y,0CCQ3BpJ,GAAQrB,EAAQ,IAEhB6gB,GAAgB,SAACnlB,EAAGolB,GACxB,OAAOA,EAAE5Z,SAAWxL,EAAEwL,UAGlB6Z,GAAc,CAClB,CAAChd,MAAO,SAAU7D,MAAO,SAAU8gB,aAAc,SAACC,GAAU,OAAOC,KAAEC,OAAOF,EAAK,YAAYG,YAC7F,CAACrd,MAAO,SAAU7D,MAAO,SAAU8gB,aAAc,SAACC,GAAU,OAAOC,KAAEC,OAAOF,EAAK,cACjF,CAACld,MAAO,SAAU7D,MAAO,SAAU8gB,aAAc,SAACC,GAAU,OAAOC,KAAEG,QAAQJ,MAG1DK,G,6MAGnBtf,MAAQ,CACNL,OAAQ,GACR4f,WAC6C,OAA3CvkB,OAAOwkB,SAASne,SAASxG,MAAM,KAAK,GAChCyW,EAActW,OAAOwkB,SAASne,SAASxG,MAAM,KAAK,IAClDG,OAAOwkB,SAASne,SAASxG,MAAM,KAAK,GAC1CqF,OAAQ,GACRuf,QAAQ,EACRlZ,SAAS,EACTmZ,QAAS,GACTC,OAAQ,GACRC,UAAW,GACXC,WAAY,GACZC,OAAQ,GACRC,gBAAgB,EAChBC,iBAAiB,EACjBC,aAAa,EACbC,KAAM,EACNC,QAAS,U,EAGXzU,mB,sBAAqB,sBAAAhS,EAAA,yDAC4B,OAA3CsB,OAAOwkB,SAASne,SAASxG,MAAM,KAAK,GADrB,uBAEjB,EAAKwF,SAAS,CACZV,OAAQ3E,OAAOwkB,SAASne,SAASxG,MAAM,KAAK,GAC5CyW,cAAeA,EAActW,OAAOwkB,SAASne,SAASxG,MAAM,KAAK,MAJlD,SAOXuU,EAAgBpU,OAAOwkB,SAASne,SAASxG,MAAM,KAAK,IAAI6H,MAC5D,SAACnP,GACKA,EAAKA,KAAKwS,OAAO,EAAK1F,SAAS,CAAE0F,MAAOxS,EAAKA,KAAKwS,QAClDxS,EAAKA,KAAKgY,aACZ,EAAKlL,SAAS,CAAEkL,YAAahY,EAAKA,KAAKgY,cACrChY,EAAKA,KAAK6sB,MAAM,EAAK/f,SAAS,CAAE+f,KAAM7sB,EAAKA,KAAK6sB,OAChD7sB,EAAKA,KAAK8sB,UACZ,EAAKhgB,SAAS,CAAEggB,SAAU9sB,EAAKA,KAAK8sB,WAClC9sB,EAAKA,KAAK+sB,SAAS,EAAKjgB,SAAS,CAAEigB,QAAS/sB,EAAKA,KAAK+sB,UACtD/sB,EAAKA,KAAKgtB,QAAQ,EAAKlgB,SAAS,CAAEkgB,OAAQhtB,EAAKA,KAAKgtB,SACpDhtB,EAAKA,KAAKitB,QAAQ,EAAKngB,SAAS,CAAEmgB,OAAQjtB,EAAKA,KAAKitB,SACpDjtB,EAAKA,KAAKktB,WACZ,EAAKpgB,SAAS,CAAEogB,UAAWltB,EAAKA,KAAKktB,YACnCltB,EAAKA,KAAKse,MAAM,EAAKxR,SAAS,CAAEwR,KAAMte,EAAKA,KAAKse,UApBvC,6CAwBXxS,GACHqhB,KAAKpc,oEAA8B,CAClCpE,OAAQlF,OAAOwkB,SAASne,SAASxG,MAAM,KAAK,KAE7C6H,MAAK,SAAC6B,GACL,EAAKlE,SAAS,CACZV,OAAQ4E,EAAIhR,KAAKgF,OAAO,GAAGuK,GAC3Byc,WAAYvkB,OAAOwkB,SAASne,SAASxG,MAAM,KAAK,GAChDqF,OAAQlF,OAAOwkB,SAASne,SAASxG,MAAM,KAAK,QAhCjC,cAqCnB,EAAK8Q,QAAQtD,QAAQrN,OAAOwkB,SAASne,UArClB,UA0DbhC,GACH4C,IAAIqC,gEAA0B,CAC7BuD,OAAQ,CAAE/E,GAAI,EAAK9C,MAAML,UAE1B+C,KAJG,+BAAAhJ,EAAA,MAIE,WAAO6K,GAAP,qBAAA7K,EAAA,sDACJ,EAAK2G,SAAS,CACZ6f,KAAM3b,EAAIhR,KAAK2sB,KAAO,MAGlBS,EAAYxpB,YAAcoN,EAAIhR,KAAKgF,QAEnCqnB,EAAYe,EAAUpqB,QAC1B,SAACC,GAAD,OAAO,EAAKwJ,MAAML,SAAWnJ,EAAEe,WAAW4B,SAAS,MAE/C0mB,EAAac,EAAUpqB,QAC3B,SAACC,GAAD,OAAO,EAAKwJ,MAAML,SAAWnJ,EAAEe,WAAW4B,SAAS,MAG/C2mB,EAAS,GAGf3pB,OAAOC,KAAKmO,EAAIhR,KAAKqtB,OAAOnoB,SAAQ,SAACjC,GAOjCspB,EAAOtpB,GAAK+N,EAAIhR,KAAKqtB,MAAMpqB,MAY/B,EAAK6J,SAAS,CACZuf,UAAWA,EAAUiB,KAAKhC,IAC1BtY,SAAS,EACTsZ,WAAYA,EAAWgB,KAAKhC,IAC5BiB,WAxCE,2CAJF,uDA1Da,4C,EA2GrBF,UAAY,WACV,EAAKvf,SAAS,CACZ0f,gBAAgB,EAChBC,iBAAiB,EACjBC,aAAa,K,EAKjBJ,WAAa,WACX,EAAKxf,SAAS,CACZ0f,gBAAgB,EAChBC,iBAAiB,EACjBC,aAAa,K,EAKjBH,OAAS,WACP,EAAKzf,SAAS,CACZ0f,gBAAgB,EAChBC,iBAAiB,EACjBC,aAAa,K,4CAOjB,WAAU,IAAD,OACDjB,EAAeE,KAAE/C,KAAK4C,IAAa,SAAA+B,GAAC,OAAIA,EAAE/e,QAAU,EAAK/B,MAAMmgB,WAASnB,aAG9E,OAFAxnB,QAAQqL,IAAImc,GACZxnB,QAAQqL,IAAI2F,KAAKxI,MAAM4f,WAErB,eAAC,IAAD,CAAMrhB,MAAOiK,KAAKxI,MAAM+F,MAAxB,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,sBAAKjT,UAAWC,KAAOguB,QAAvB,UACE,cAAC,GAAD,CAAWzf,QAASkH,KAAKxI,MAAML,OAAQkS,KAAMrJ,KAAKxI,MAAM6R,OAExD,sBAAK/e,UAAWC,KAAOiuB,KAAvB,UACGxY,KAAKxI,MAAM+F,OACV,4BACE,iCAASyC,KAAKxI,MAAM+F,UAGvByC,KAAKxI,MAAMuL,aAAe,4BAAI/C,KAAKxI,MAAMuL,cAC1C,cAAC,IAAD,CAAQ1C,KAAI,0BAAqBL,KAAKxI,MAAML,QAA5C,SACE,cAAC,IAAD,UAAU6I,KAAKxI,MAAMuf,eAGvB,8BAAI/W,KAAKxI,MAAMkgB,KAAf,aAEA,gCACG1X,KAAKxI,MAAMogB,MACV,eAAC,IAAD,CAAQvX,KAAML,KAAKxI,MAAMogB,KAAzB,UACE,cAAC,IAAD,UAAiB5X,KAAKxI,MAAMogB,OAC5B,qBACEjK,MAAM,6BACN3L,MAAM,KACNE,OAAO,KACPwL,KAAK,eACL1F,QAAQ,YACR5P,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QATjB,SAYE,sBAAMnP,EAAE,utCAIbtJ,KAAKxI,MAAMqgB,UACV,eAAC,IAAD,CAAQxX,KAAI,uBAAkBL,KAAKxI,MAAMqgB,UAAzC,UACE,cAAC,IAAD,iCAAiC7X,KAAKxI,MAAMqgB,YAC5C,qBACElK,MAAM,6BACN3L,MAAM,KACNE,OAAO,KACPwL,KAAK,eACL1F,QAAQ,YACR5P,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QATjB,SAYE,sBAAMnP,EAAE,mRAIbtJ,KAAKxI,MAAMsgB,SACV,eAAC,IAAD,CAAQzX,KAAI,8BAAyBL,KAAKxI,MAAMsgB,SAAhD,UACE,cAAC,IAAD,wCAAwC9X,KAAKxI,MAAMsgB,WACnD,qBACEnK,MAAM,6BACN3L,MAAM,KACNE,OAAO,KACPwL,KAAK,eACL1F,QAAQ,YACR5P,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QATjB,SAYE,sBAAMnP,EAAE,ufAIbtJ,KAAKxI,MAAMygB,WACV,eAAC,IAAD,CACE5X,KAAI,gCAA2BL,KAAKxI,MAAMygB,WAD5C,UAGE,cAAC,IAAD,0CAA0CjY,KAAKxI,MAAMygB,aACrD,qBACEtK,MAAM,6BACN3L,MAAM,KACNE,OAAO,KACPwL,KAAK,eACL1F,QAAQ,YACR5P,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QATjB,SAYE,sBAAMnP,EAAE,y+CAIbtJ,KAAKxI,MAAMugB,QACV,eAAC,IAAD,CAAQ1X,KAAI,6BAAwBL,KAAKxI,MAAMugB,QAA/C,UACE,cAAC,IAAD,uCAAuC/X,KAAKxI,MAAMugB,UAClD,qBACEpK,MAAM,6BACN3L,MAAM,KACNE,OAAO,KACPwL,KAAK,eACL1F,QAAQ,YACR5P,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QATjB,SAYE,sBAAMnP,EAAE,okBAIbtJ,KAAKxI,MAAMwgB,QACV,eAAC,IAAD,CAAQ3X,KAAI,6BAAwBL,KAAKxI,MAAMwgB,QAA/C,UACE,cAAC,IAAD,uCAAuChY,KAAKxI,MAAMwgB,UAClD,sBACE9V,OAAO,KACP8F,QAAQ,cACRhG,MAAM,KACN2L,MAAM,6BACNvV,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QARjB,UAWE,sBAAMnP,EAAE,kaACR,sBAAMA,EAAE,yOACR,sBAAMA,EAAE,0pCACR,sBAAMA,EAAE,6PAUxB,cAAC,IAAD,UACE,eAAC,IAAD,WACE,4BACE,8CAEF,sBAAKhf,UAAWC,KAAOsd,KAAvB,UACE,cAAC,IAAD,CAAQvH,QAASN,KAAKoX,UAAtB,SACE,cAAC,IAAD,CAASvW,SAAUb,KAAKxI,MAAM+f,eAA9B,yBAKF,cAAC,IAAD,CAAQjX,QAASN,KAAKqX,WAAtB,SACE,cAAC,IAAD,CAASxW,SAAUb,KAAKxI,MAAMggB,gBAA9B,kCAYPxX,KAAKxI,MAAMuG,SACV,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,SAIJiC,KAAKxI,MAAMuG,SAAWiC,KAAKxI,MAAM+f,gBACjC,qBAAKnf,MAAO,CAACsgB,WAAY,IAAzB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,sBAAKpuB,UAAWC,KAAO,kBAAvB,UACE,yCACA,8BACA,cAAC,GAAD,CACE+a,aAActF,KAAKxI,MAAMmgB,QACzBrE,QAASiD,GACTH,eAAe,EACfpU,MAAM,QACNnM,SAAU,SAAC7H,EAAGuL,GAAY,EAAK1B,SAAS,CAAC8f,QAASpe,aAIrD,UAmBPyG,KAAKxI,MAAMuG,SAAWiC,KAAKxI,MAAM+f,gBACjC,cAAC,IAAD,CAAWvS,QAAM,EAAjB,SACE,cAAC,KAAD,UACGwR,EAAaxW,KAAKxI,MAAM4f,WAAWvpB,KAAI,SAAC8qB,EAAKxmB,GAC5C,MAA0BwmB,EAAI5pB,WAAW6pB,QAAQ,GAAzChpB,EAAR,EAAQA,SAAUsgB,EAAlB,EAAkBA,IAElB,OACE,cAAC,IAAD,CAEExR,GAAE,UAAKlT,IAAKO,MAAV,YAAmB4sB,EAAIjc,UAF3B,SAIE,sBAAKpS,UAAWC,KAAOgM,UAAvB,UACG0Z,GAAgB,CACfrgB,WACAsgB,IAAKA,EAAI7d,MAAM,MAAM,GACrBmL,SAAUmb,IAEZ,sBAAKruB,UAAWC,KAAOsuB,OAAvB,mBAAsCF,EAAIjc,gBATvCic,EAAIjc,kBAkBnBsD,KAAKxI,MAAMuG,SAAWiC,KAAKxI,MAAMggB,iBACjC,cAAC,IAAD,CAAWxS,QAAM,EAAjB,SACE,cAAC,KAAD,UACGwR,EAAaxW,KAAKxI,MAAM6f,YAAYxpB,KAAI,SAAC8qB,EAAKxmB,GAC7C,MAA0BwmB,EAAI5pB,WAAW6pB,QAAQ,GAAzChpB,EAAR,EAAQA,SAAUsgB,EAAlB,EAAkBA,IAClB,OACE,cAAC,IAAD,CAEExR,GAAE,UAAKlT,IAAKO,MAAV,YAAmB4sB,EAAIjc,UAF3B,SAIE,sBAAKpS,UAAWC,KAAOgM,UAAvB,UACG0Z,GAAgB,CACfrgB,WACAsgB,IAAKA,EAAI7d,MAAM,MAAM,GACrBmL,SAAUmb,IAEZ,sBAAKruB,UAAWC,KAAOsuB,OAAvB,mBAAsCF,EAAIjc,gBATvCic,EAAIjc,kBAkBnBsD,KAAKxI,MAAMuG,SAAWiC,KAAKxI,MAAMigB,aACjC,qCAC6C,IAA1C9pB,OAAOC,KAAKoS,KAAKxI,MAAM8f,QAAQxoB,QAC9B,cAAC,IAAD,UACE,cAAC,IAAD,UACE,gGAMLnB,OAAOC,KAAKoS,KAAKxI,MAAM8f,QAAQzpB,KAAI,SAACyL,GACnC,OACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAQoF,GAAE,UAAKlT,IAAKO,MAAV,YAAmBuN,GAA7B,SACE,cAAC,IAAD,UACE,4CAAeA,YAJPA,gB,GAxbK2G,aAAhB6W,GACZ1S,YAAcrN,I,mCCvBjB2f,GAAIlhB,EAAQ,KAELsjB,GAAW,SAAC,GAUlB,IATLpc,EASI,EATJA,SACA3N,EAQI,EARJA,WACA2B,EAOI,EAPJA,OACA0nB,EAMI,EANJA,MAEAW,EAII,EAJJA,KAEAC,EAEI,EAFJA,aACAC,EACI,EADJA,aAEA,EACE9X,qBAAWpK,KADLoH,EAAR,EAAQA,YAAa7C,EAArB,EAAqBA,QAASO,EAA9B,EAA8BA,OAAQK,EAAtC,EAAsCA,WAAY8B,EAAlD,EAAkDA,IAE5Ckb,EAAU,SAACC,EAAaC,GAAd,OACdnd,SAASkd,GAAeld,SAASmd,IAG/BC,EAAQ,EAEZ,IACEA,EAC8B,IAA5B3C,GAAEtI,OAAO1d,GAAQ5B,OAAe4nB,GAAEtI,OAAO1d,GAAQE,OAAOsoB,GAAW,IACrEG,EAAQ3C,GAAE9oB,KAAK8C,GAAQvC,SAAS,wCAC5BkrB,EAAQ3oB,EAAM,qCACd2oB,EACJ,MAAOrrB,GACPqrB,EAC8B,IAA5B3C,GAAEtI,OAAO1d,GAAQ5B,OAAe4nB,GAAEtI,OAAO1d,GAAQE,OAAOsoB,GAAW,IAGvE,IAAII,EACe,IAAjBlB,EAAMtpB,OAAespB,EAAMvqB,KAAI,SAACG,GAAD,OAAOA,EAAEuN,gBAAc3K,OAAOsoB,GAAW,IACtEvI,EAAI+F,GAAE6C,MAAMnB,GAAO,SAACvpB,GAAD,OAAOkC,OAAOlC,EAAE+M,kBAGnCpD,GAFWke,GAAE8C,MAAMpB,GAAO,SAACvpB,GAAD,OAAOkC,OAAOlC,EAAE+M,kBAEhC,IAEd,IACEpD,OACeQ,IAAbof,EAAM,GACF,eAAiBrnB,OAAO4f,EAAE/U,eAAiB,IAAU,OACrD,eACN,MAAO5N,GACPwK,EAAU,eAGZ,IAiBMihB,EAAmB,SAACjT,EAAIrH,GAC5B,OACE,cAAC,IAAD,CAAQmB,QAAS,kBAXC,SAACkG,GAAqB,IAAjBrH,EAAgB,uDAAN,EAE/BnB,GAAOA,EAAIlF,UAAY/J,EAAW4B,SAAS,IAAMwO,EAAU,EAC7DjD,EAAWiD,EAASqH,GAEpB3K,EAAO2K,GAMgBkT,CAAclT,EAAIrH,IAAzC,SACE,eAAC,IAAD,WACE,sBACE7U,UAAWC,KAAOovB,IAClBC,gBAAe,MACfC,eACE7b,GAAOA,EAAIlF,UAAY/J,EAAW4B,SAAS,IAC3CsL,SAAS+c,GAAgB,EACrB,eACA,SAPR,oBAYC7Z,IAAwB,IAAbA,EAAX,WACOlD,SAAS+c,GAAgB,KAC7B,SAMZ,OACE,qCACE,sBAAK1uB,UAAWC,KAAOgM,UAAvB,UACE,sBAAKjM,UAAWC,KAAOsG,QAAvB,UACE,sBAAKvG,UAAWC,KAAOmrB,OAAvB,UACE,4CACA,cAAC,IAAD,CAAQhX,GAAE,UAAKlT,IAAKE,OAAV,YAAoBqD,EAAW4B,SAAS,IAAlD,SACE,cAAC,IAAD,UAAUmY,EAAc/Z,EAAW4B,SAAS,YAG9CooB,GACA,gCACE,4BACE,6CAEE,iCACGO,EADH,IACQD,WAIX,QASNN,GACC,sBAAKzuB,UAAWC,KAAOuvB,eAAvB,UACE,cAAC,IAAD,CAAQpb,GAAE,UAAKlT,IAAKO,MAAV,YAAmB2Q,GAAY6D,SAAU0Y,EAAnD,SACE,eAAC,IAAD,oBAAgBvc,OAElB,qBAAKtE,MAAO,CAAE2hB,YAAa,OAAQC,aAAc,OAAjD,SACGP,EAAiB/c,EAAUsc,WAKpC,qBAAK1uB,UAAWC,KAAOgM,UAAvB,SACG0iB,GACC,sBAAK3uB,UAAWC,KAAOgM,UAAvB,UACE,uCAAUmG,KACV,cAAC,IAAD,CAAQ4D,QAAS,WApFd,MAAPtC,EACFG,IAEA7C,EAAQ,EAAGqV,EAAEnV,QAA2B,EAAlBmV,EAAE/U,gBAiFlB,SACE,cAAC,IAAD,UAAWpD,WAKnB,qBAAKlO,UAAWC,KAAOgM,UAAvB,UACIwiB,GAAQ,8BAAMU,EAAiB/c,EAAUsc,W,qBC1ItCiB,GAAW,SAAC3jB,GACvB,IAAQvH,EAAsDuH,EAAtDvH,WAAY2N,EAA0CpG,EAA1CoG,SAAUhM,EAAgC4F,EAAhC5F,OAAQ0nB,EAAwB9hB,EAAxB8hB,MAAO8B,EAAiB5jB,EAAjB4jB,aAC7C,EAA0BnrB,EAAW6pB,QAAQ,GAArChpB,EAAR,EAAQA,SAAUsgB,EAAlB,EAAkBA,IAOlB,OACE,qCACE,eAAC,IAAD,CAAQxR,GAAE,UAAKlT,IAAKO,MAAV,YAAmB2Q,GAA7B,UACE,cAAC,IAAD,iCAAiC3N,EAAWmH,QAC5C,qBAAK5L,UAAWC,KAAOgM,UAAvB,SACG0Z,GAAgB,CACfrgB,WACAsgB,IAAKA,EAAI7d,MAAM,MAAM,GACrBmL,SAAUlH,SAIhB,cAAC,IAAD,UAOE,cAAC,GAAD,CACEvH,WAAYA,EACZ2B,OAAQA,EACRgM,SAAUA,EACV0b,MAAOA,EACP8B,aAAcA,EACdnB,MAAM,UCxBHoB,GAAQ,SAAC,GAAkB,IANV5gB,EAAO6gB,EAME,IAAf7oB,YAAe,MAAR,EAAQ,EACrC,EAA0BzH,oBAAS,GAAnC,mBAAOgL,EAAP,KAAculB,EAAd,KACA,EAA0BvwB,mBAAS,IAAnC,mBAAOwwB,EAAP,KAAcC,EAAd,KACA,EAA0BzwB,mBAAS,GAAnC,mBAAO0wB,EAAP,KAAcC,EAAd,KACA,EAA8B3wB,oBAAS,GAAvC,mBAAO4wB,EAAP,KAAgBC,EAAhB,KACMC,GAXsBrhB,EAWE+Y,KAAKuI,MAXAT,EAIX,IAHjB9N,KAAKwO,MAAMvhB,EAAQ6gB,GAAWA,GAkFrC,OAnEAnwB,qBAAU,WACJ6K,EACF9F,QAAQqL,IAAI,sBAID,IAAT9I,EACFyU,EAAc,CAAEC,QAASuU,EAAOtU,SAAU0U,IACvC1gB,MAAK,SAACnK,GACL,IAAMgrB,EAAOT,EAAMU,OAAOjrB,GAC1BwqB,EAASQ,GAGLhrB,EAAOjB,OAAS,IAClB6rB,GAAW,MAGdvgB,OAAM,SAACpM,GACNqsB,GAAS,MAEK,IAAT9oB,EACT6U,EAAY,CAAEH,QAASuU,IACpBtgB,MAAK,SAACnK,GACL,IAAMgrB,EAAOT,EAAMU,OAAOjrB,GAC1BwqB,EAASQ,GAGLhrB,EAAOjB,OAAS,IAClB6rB,GAAW,MAGdvgB,OAAM,SAACpM,GACNqsB,GAAS,MAEK,IAAT9oB,EACT+U,EAAc,CAAEL,QAASuU,IACtBtgB,MAAK,SAACnK,GAEL,IAAMgrB,EAAOT,EAAMU,OAAOjrB,GAC1BwqB,EAASQ,GAGLhrB,EAAOjB,OAAS,IAClB6rB,GAAW,MAGdvgB,OAAM,SAACpM,GACNqsB,GAAS,MAEK,IAAT9oB,GACT8U,EAAgB,CAAEJ,QAASuU,EAAOtU,SAAU0U,IACzC1gB,MAAK,SAACnK,GAEL,IAAMgrB,EAAOT,EAAMU,OAAOjrB,GAC1BwqB,EAASQ,GAGLhrB,EAAOjB,OAAS,IAClB6rB,GAAW,MAGdvgB,OAAM,SAACpM,GACNqsB,GAAS,QAGd,CAACG,EAAOjpB,IAGT,cAAC,IAAD,CAAMwE,MAAM,GAAZ,SACE,cAAC,KAAD,CACEklB,WAAYX,EAAMxrB,OAClBisB,KA3EW,WACfN,EAASD,EAAQ,IA2EbE,QAASA,EACTlW,OACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,QAIN0W,WACE,+CACiB,IACf,sBAAMC,KAAK,MAAMC,kBAAiB,iBAAlC,uBAdN,SAoBE,8BACE,cAAC,IAAD,UACE,cAAC,IAAD,UACGd,EAAMzsB,KAAI,SAACwtB,EAAM1oB,GAAP,OACT,cAAC,GAAD,eAAgD0oB,GAAhD,UAAkBA,EAAK3e,SAAvB,YAAmC/J,kB,6DCrHtC2oB,GAAO,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACrB,OACE,qBAAKjxB,UAAWC,KAAOgM,UAAvB,SACGglB,EACExtB,QAAO,SAACC,GAAD,MAAa,KAANA,KACdH,KAAI,SAAC6Y,EAAK/T,GACT,OACE,cAAC,IAAD,CAEE+L,GAAE,UAAKlT,IAAKS,KAAV,YAAkBuvB,UAAU9U,IAFhC,SAIE,qBAAKpc,UAAWC,KAAOmc,IAAvB,SAA6BA,KAJ/B,aACaA,GADb,OACmB/T,UCVxB,SAAS8oB,KACd,OACE,sBAAKnxB,UAAWC,KAAOmxB,QAAvB,UACE,iFACA,cAAC,IAAD,CAAQrb,KAAK,qEAAb,SACE,cAAC,IAAD,UACE,qE,yBCFV,SAASsb,GAAO/rB,GACd,OACEA,IAAazD,IAASmB,KACtBsC,IAAazD,IAASoB,MACtBqC,IAAazD,IAASqB,KAInB,IAAMouB,GAAU,SAAC,GAAiD,IAA/C7lB,EAA8C,EAA9CA,MAAOgN,EAAuC,EAAvCA,YAAanT,EAA0B,EAA1BA,SAAUsgB,EAAgB,EAAhBA,IAAKqL,EAAW,EAAXA,KACrDM,EAAa,KAATN,EAAcA,EAAK1oB,QAAQ,MAAO,IAAIR,MAAM,KAAO,GAC7D,OACE,sBAAK/H,UAAWC,KAAOgM,UAAvB,UACGolB,GAAO/rB,IAAa,cAAC6rB,GAAD,IACrB,qBAAKnxB,UAAWC,KAAOuxB,MAAvB,SACG7L,GAAgB,CACfrgB,WACAsgB,MACArO,aAAa,EACbmK,SAAS,MAGb,sBAAK1hB,UAAWC,KAAOiuB,KAAvB,UACE,wCACA,qBAAKluB,UAAWC,KAAOwL,MAAvB,SAA+BA,IAC/B,8CACA,qBAAKzL,UAAWC,KAAOwY,YAAvB,SAAqCA,IACrC,cAAC,GAAD,CAAMwY,KAAMM,WC5BZlZ,GAAWnN,EAAQ,KAAnBmN,OACFpN,GAASC,EAAQ,IAAUD,OAC3BsB,GAAQrB,EAAQ,IAChBumB,GAAgBvmB,EAAQ,KAAwBwmB,QAC9CznB,GAAgCiB,EAAQ,KAAxCjB,4BAEFqO,GAAY,8BAELqZ,GAAW,uCAAG,iEAAA/qB,EAAA,6DACzBgF,EADyB,EACzBA,KACA6M,EAFyB,EAEzBA,YACAwY,EAHyB,EAGzBA,KACAziB,EAJyB,EAIzBA,QACA7H,EALyB,EAKzBA,OACArB,EANyB,EAMzBA,SACAssB,EAPyB,EAOzBA,MACAC,EARyB,EAQzBA,UACAC,EATyB,EASzBA,mBAEM9Y,EAAOX,GAAOC,IAXK,SAcNU,EAAKE,IAAIvS,GAdH,UAcnBunB,EAdmB,OAenBrd,EAAOqd,EAAK3mB,KACZ2I,EAhBmB,iBAgBHW,GAGlBuR,EAAa,IACb0P,EApBqB,kCAqBC9Y,EAAKE,IAAI0Y,EAAMjrB,QArBhB,QAqBjBorB,EArBiB,OAsBjBC,EAAYD,EAAUxqB,KAC5B6a,EAAU,iBAAa4P,GAvBA,WA2BrBC,EAAe7tB,KACf0tB,EA5BqB,kCA6BK9Y,EAAKE,IAAI2Y,EAAUlrB,QA7BxB,QA6BjBurB,EA7BiB,OA8BjBC,EAAgBD,EAAc3qB,KACpC0qB,EAAY,iBAAaE,GA/BF,yBAkCZC,GAAmB,CAC9BxmB,OACA6M,cACAwY,OACA/gB,MACA1B,UACAlJ,WACA8c,aACA6P,iBA1CuB,qFAAH,sDA8CXI,GAAgB,uCAAG,6DAAAzrB,EAAA,6DAC9BgF,EAD8B,EAC9BA,KACA6M,EAF8B,EAE9BA,YACAwY,EAH8B,EAG9BA,KACAziB,EAJ8B,EAI9BA,QACA1H,EAL8B,EAK9BA,MACA8qB,EAN8B,EAM9BA,MACAC,EAP8B,EAO9BA,UACAC,EAR8B,EAQ9BA,mBAR8B,SAWTQ,GAAuBxrB,GAXd,UAWxByrB,EAXwB,OAYxBriB,EAZwB,iBAYRqiB,EAAOC,WAGvBxZ,EAAOX,GAAOC,IAEhB8J,EAAa,IACb0P,EAlB0B,kCAmBJ9Y,EAAKE,IAAI0Y,EAAMjrB,QAnBX,QAmBtBorB,EAnBsB,OAoBtBC,EAAYD,EAAUxqB,KAC5B6a,EAAU,iBAAa4P,GArBK,wBAsBnBO,EAAOX,QAEhBxP,EAAU,iBAAamQ,EAAOX,QAxBF,WA4B1BK,EAAe7tB,KACf0tB,EA7B0B,kCA8BA9Y,EAAKE,IAAI2Y,EAAUlrB,QA9BnB,QA8BtBurB,EA9BsB,OA+BtBC,EAAgBD,EAAc3qB,KACpC0qB,EAAY,iBAAaE,GAhCG,yBAmCjBC,GAAmB,CAC9BxmB,OACA6M,cACAwY,OACA/gB,MACA1B,UACAlJ,SAAUnC,IACVif,aACA6P,iBA3C4B,qFAAH,sDA+C7B,SAASQ,GAAc5tB,GACrB,OAAOA,EAAK2C,KAAKP,OAAS9D,I,SAGbmvB,G,iFAAf,WAAsCxrB,GAAtC,mCAAAF,EAAA,6DACEE,EAAQA,EAAMrD,OAAOgvB,IAEfC,EAAO,IAAIC,SAEjB7rB,EAAMnB,SAAQ,SAACd,GACb6tB,EAAKE,OAAO,OAAQ/tB,EAAK2C,KAAMqrB,mBAAmBhuB,EAAK0C,UAEnDurB,EARR,UAQsBxa,GARtB,yEASoB/L,GAAMqhB,KAAKkF,EAAUJ,EAAM,CAC3CK,QAAS,CAAE,eAAgB,yBAV/B,UASQthB,EATR,OAaQhR,EAAOgxB,GAAchgB,EAAIhR,MAI3BmxB,EAAQ,OACNoB,EAAYlsB,EAAMuiB,MAAK,SAAC5hB,GAAD,MAAkB,eAAXA,EAAEF,SAlBxC,kCAoB8ByrB,EAAUxrB,KAAKL,cApB7C,QAoBU8rB,EApBV,QAqBUC,EAAiBjpB,GAA4BgpB,MAG3CE,EAAa1yB,EAAK4oB,MAAK,SAAC5hB,GAAD,OAAOA,EAAE2rB,OAASF,QAE7CtB,EAAQuB,EAAWE,MA1B3B,eA+BQzrB,EAAUnH,EAAK4oB,MAAK,SAAC3lB,GAAD,MAAkB,KAAXA,EAAE0vB,QAE7BZ,EAAY5qB,EAAQyrB,KAjC5B,kBAmCS,CAAEb,YAAWZ,UAnCtB,6C,+BAsCeQ,G,iFAAf,iDAAAxrB,EAAA,6DACEgF,EADF,EACEA,KACA6M,EAFF,EAEEA,YACAwY,EAHF,EAGEA,KACA/gB,EAJF,EAIEA,IACA1B,EALF,EAKEA,QACAlJ,EANF,EAMEA,SANF,IAOE8c,kBAPF,MAOe,GAPf,MAQE6P,oBARF,MAQiB7tB,IARjB,EAUQ4U,EAAOX,GAAOC,IAVtB,SAYeU,EAAKE,IAChBjO,GAAOY,KACLuN,KAAKC,UAAU,CACbzN,OACA6M,cACAwY,KAAMA,EAAK1oB,QAAQ,MAAO,IAAIR,MAAM,KACpCurB,OAAQ,QACRC,YAAarjB,EACbkS,aACA6P,eACA5rB,SAAU,CAACmI,GACX8f,QAAS,CAAC,CAAE1I,IAAK1V,EAAK5K,aACtBkuB,SAAU,EACVC,iBAAiB,EACjBC,oBAAoB,MA1B5B,oF,sBC9HA,IAAMC,GAAe,CACnBC,QAAS,IACTC,SAAU,KACVC,UAAW,MAGPC,GAAmB,CACvBH,QAAS,IACTC,SAAU,IACVC,UAAW,KAIPE,IAAiC,E,qBChC1BhX,GAAO,SAAC,GAAyB,IAAD,IAAtB5d,gBAAsB,MAAX,KAAW,EAC3C,OAAO,qBAAKY,UAAWC,KAAOgM,UAAvB,SAAmC7M,K,qBCC/B60B,GAAY,SAAC,GAAD,IAAG7tB,EAAH,EAAGA,OAAH,EAAW8tB,QAAX,EAAoBxgB,IAApB,OACvB,qBAAK1T,UAAWC,KAAOgM,UAAvB,SACG7F,EAAO7C,KAAI,WAAqB8E,GAArB,IAAG4H,EAAH,EAAGA,OAAQpD,EAAX,EAAWA,OAAX,OACV,sBAAgC7M,UAAWC,KAAOqT,MAAlD,UACGrD,EADH,YAEE,cAAC,IAAD,CAAQ8F,KAAI,mCAA8BlJ,GAA1C,SACE,cAAC,IAAD,UAAU2R,EAAc3R,SAH5B,UAAaA,EAAb,YAAuBxE,U,qBCHvB8rB,GAAc,SAACvtB,EAAGolB,GACtB,OAAOvlB,OAAOG,EAAE0K,eAAiB7K,OAAOulB,EAAE1a,gBAE/B8iB,GAAa,SAAC,GAA2C,IAAzCtG,EAAwC,EAAxCA,MAAOuG,EAAiC,EAAjCA,cAAe3gB,EAAkB,EAAlBA,IAAKrB,EAAa,EAAbA,OACtD,OACE,qBAAKrS,UAAWC,KAAOgM,UAAvB,SACG6hB,EAAMC,KAAKoG,IAAa5wB,KAAI,SAAC6N,EAAM/I,GAClC,OACE,sBAAsCrI,UAAWC,KAAOmR,KAAxD,UACE,sBAAKpR,UAAWC,KAAOq0B,OAAvB,UACGljB,EAAKH,aADR,SAEE,cAAC,IAAD,CAAQmD,GAAE,cAAShD,EAAKkjB,QAAxB,SACE,cAAC,IAAD,UAAU9V,EAAcpN,EAAKkjB,eAIjC,sBAAKt0B,UAAWC,KAAO2c,QAAvB,UACE,cAAC,IAAD,CACE5G,QAAS,kBAAMqe,EAAcjjB,EAAKF,QAASE,EAAKE,gBADlD,SAGE,eAAC,IAAD,0BACed,WAAWY,EAAKE,cAAgB,KAD/C,YAIDF,EAAKkjB,eAAoB5lB,IAARgF,EAAoBA,EAAIlF,QAAU,KAClD,cAAC,IAAD,CAAQwH,QAAS,kBAAM3D,EAAOjB,EAAKF,UAAnC,SACE,cAAC,IAAD,4BAlBR,UAAaE,EAAKF,QAAlB,YAA6B7I,UCAjCksB,GAAO,CACX,CAAE9oB,MAAO,OAAQ+oB,UCTC,SAAC,GAAoB,IAAlB/vB,EAAiB,EAAjBA,WACbmH,EAAqCnH,EAArCmH,KAAM6M,EAA+BhU,EAA/BgU,YAAawY,EAAkBxsB,EAAlBwsB,KAAM3C,EAAY7pB,EAAZ6pB,QAIjC,OACE,qCACE,eAAC,IAAD,WACE,cAAC,IAAD,oBACA,cAAC,IAAD,UAAU1iB,OAGZ,eAAC,IAAD,WACE,cAAC,IAAD,0BACA,cAAC,IAAD,UAAU6M,OAGZ,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,GAAD,CAAMwY,KAAMA,QAIhB,eAAC,IAAD,WACE,cAAC,IAAD,oBACA,eAAC,IAAD,wBAAoB3C,EAAQ,GAAGhpB,YAC/B,cAAC,IAAD,UACE,cAAC,IAAD,CAAQyQ,KAAMuY,EAAQ,GAAG1I,IAAIrd,QAAQ,UAxB1B,qCAwBX,SACE,cAAC,IAAD,+BDlBV,CAAEkD,MAAO,aAAc+oB,UETC,SAAC,GAAuB,IAArBpuB,EAAoB,EAApBA,OAAQ0nB,EAAY,EAAZA,MACnC,EACEjX,qBAAWpK,KADLoH,EAAR,EAAQA,YAAa7C,EAArB,EAAqBA,QAAS0C,EAA9B,EAA8BA,IAAK+gB,EAAnC,EAAmCA,WAAYpiB,EAA/C,EAA+CA,OAI/Cyb,EAAQA,EAAMC,MAAK,SAACnnB,EAAGolB,GAAJ,OACjBplB,EAAE0K,cAAcojB,cAAc1I,EAAE1a,cAAe,KAAM,CAAEqjB,SAAS,OAGlE,IAAMC,EACHxuB,GACC/C,OAAOC,KAAK8C,GACT3C,QAAO,SAAC4iB,GAAD,OAAOA,EAAEwO,WAAW,SAC3BpxB,QAAO,SAAC4iB,GAAD,OAAO7V,WAAWpK,EAAOigB,IAAM,KACtC5iB,QAAO,SAACC,GAAD,MAAa,yCAANA,KACdH,KAAI,SAAC8iB,GAAD,MAAQ,CAAEpW,OAAQ7J,EAAOigB,GAAIxZ,OAAQwZ,OAC9C,GAUF,OACE,qCACGyH,EAAMtpB,OAAS,GACd,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,GAAD,CACEspB,MAAOA,EACPuG,cAfU,SAACnjB,EAASI,GACnB,MAAPoC,GACFG,IACA4gB,KAEAzjB,EAAQ,EAAGE,EAASI,IAWZoC,IAAKA,EACLrB,OAAQA,QAMK,IAApBuiB,EAASpwB,YAAekK,EACvB,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,GAAD,CAAWtI,OAAQwuB,aFlC7B,CAAEnpB,MAAO,OAAQ+oB,UGPC,SAAC,GAAmD,IAAjD5E,EAAgD,EAAhDA,aAAcxpB,EAAkC,EAAlCA,OAAQ3B,EAA0B,EAA1BA,WACnCyX,GAD6D,EAAd1N,QACxCsmB,cAAP5Y,IACA9K,EAASyF,qBAAWpK,KAApB2E,KACR,EAA4B5R,qBAA5B,mBAAOyQ,EAAP,KAAe8G,EAAf,KACA,EAA0BvX,qBAA1B,mBAAOu1B,EAAP,KAAcC,EAAd,KACMC,EAAQ9uB,YAAc,CAAEC,SAAQC,SAAU5B,EAAW4B,WAC3D,EAAgC7G,oBAAS,GAAzC,mBAAO2O,EAAP,KAAiB6I,EAAjB,KACA,EAA8BxX,mBAAS,IAAvC,mBAAO0O,EAAP,KAAgB4I,EAAhB,KA0CA,OACE,qCACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,KAAD,CACE7P,KAAK,SACLiQ,YAAY,eACZC,IAAK,EACL6D,aAAc/K,EACdmH,IAAKwY,EAAeqF,EACpB1pB,SAAU,SAAC7H,GAAD,OAAOqT,EAAUrT,EAAEyB,OAAO8J,QACpCgH,SAAU9H,IAEZ,cAAC,KAAD,CACElH,KAAK,SACLiQ,YAAY,2BACZC,IAAK,EACLC,IAAK,IACL7L,SAAU,SAAC7H,GAAD,OA1DAuL,EA0DkBvL,EAAEyB,OAAO8J,QAzDhC,IACX+lB,EAAS/lB,GACT6H,EACE,0MAGFke,EAAS/lB,GACT6H,EAAW,UAGC,KAAV7H,IACF+lB,EAAS/lB,GACT6H,EAAW,MAbI,IAAC7H,GA2DVgH,SAAU9H,IAEZ,cAAC,IAAD,CAAQ6H,QA5CK,WACd/F,GAAqB,KAAXA,GAAkB8kB,GAAmB,KAAVA,GAIxC/d,GAAY,GACZF,EAAW,kBAEX1F,EAAKZ,WAAWP,GAASiM,EAAwB,IAApB1L,WAAWukB,IACrCnlB,MAAK,SAAClM,GAELsT,GAAY,GACZF,EAAWpT,EAAE+U,gBAId3I,OAAM,SAACpM,GACNsT,GAAY,GACZF,EAAW,aAff3O,MAAM,kBAyC6B+N,KAAG,EAACD,SAAU9H,EAA7C,SACE,cAAC,IAAD,qBAEF,gCACE,4BAAID,IACHC,GAAY,cAAC,IAAD,YAKnB,cAAC,IAAD,UACE,cAAC,IAAD,UACE,sHH3E0B+mB,SAAS,GAC3C,CAAEzpB,MAAO,OAAQ+oB,U,OAAW5d,EAAMse,SAAS,I,qBIRvCC,GAAyB,SAACvuB,EAAGolB,GAGjC,OAFWra,SAAS/K,EAAEirB,WACXlgB,SAASqa,EAAE6F,WACL,GAAK,G,qBCFXuD,GAAkB,uCAAG,mCAAAxuB,EAAA,sDAASsV,EAAT,EAASA,GAAT,IAAamZ,aAAb,MAAqB,EAArB,EAC5BnF,EAAQ,EADoB,YAEzBA,EAAQmF,GAFiB,0CAIfpZ,EAAS,CAAEC,OAJI,6EAMtBgU,IAAUmF,EANY,uBAOpB,IAAIjtB,MAAJ,MAPoB,yBAStB,IAAItD,SAAQ,SAACC,GAAD,OAChB+L,YAAW,WACT/L,MACC,QAZuB,gFAAH,sDAkBlBuwB,GAAO,SAAC,GAAiC,IAA/BhxB,EAA8B,EAA9BA,MAAO0R,EAAuB,EAAvBA,QAASuf,EAAc,EAAdA,QACrC,EAAwB/1B,qBAAxB,mBAAOiB,EAAP,KAAa+0B,EAAb,KACA,EAAwBjR,aAAU,CAChCkR,WAAY,oBADNje,EAAR,EAAQA,IAAK6I,EAAb,EAAaA,OAGPqV,EAAQje,kBAAO,GACfke,EAAM,eA8CZ,OA5CAh2B,qBAAU,WACRy1B,GAAmB,CAAElZ,GAAI5X,IACtBsL,KADH,uCACQ,WAAOlM,GAAP,+BAAAkD,EAAA,sDACInC,EAAef,EAAfe,WADJ,EAEsBA,EAAW6pB,QAAQ,GAArChpB,EAFJ,EAEIA,SAAUsgB,EAFd,EAEcA,IAEdmP,EAAQ,GACZ,KACQa,EAASlyB,EAAEoqB,MAAMvqB,KAAI,SAAC8iB,GAAD,OAAO7V,WAAW6V,EAAE/U,mBACxCyc,MAAK,SAACnnB,EAAGolB,GAAJ,OAAUplB,EAAIolB,KAC1B+I,OACgBrmB,IAAdknB,EAAO,GAAmBnvB,OAAOmvB,EAAO,IAAM,IAAU,MAAQD,EAClE,MAAOjyB,GACPqxB,EAAQY,EAGNpvB,EAAU,GACd,IACQqoB,EAAU,SAACC,EAAaC,GAAd,OACdnd,SAASkd,GAAeld,SAASmd,IAC/BE,EACiB,IAAnBtrB,EAAEoqB,MAAMtpB,OACJd,EAAEoqB,MAAMvqB,KAAI,SAACG,GAAD,OAAOA,EAAEuN,gBAAc3K,OAAOsoB,GAC1C,GACNroB,EAAUwuB,IAAUY,GAAV,kBAAmC3G,EAAnC,YAAyCtrB,EAAEksB,cACrD,SACArpB,GAAU,EAEZivB,EAAQ,2BACH9xB,GADE,IAEL4B,WACAsgB,IAAKA,EAAI7d,MAAM,MAAM,GACrBmL,SAAUxP,EACVqxB,QACAxuB,aAhCE,2CADR,uDAoCGuJ,OAAM,SAACpM,GAAD,OAAOgB,QAAQqL,IAAI,gBAAiBzL,QAC5C,CAACA,IAEA+b,IAAWqV,EAAMzd,UACnByd,EAAMzd,SAAU,GAIhB,qBAAKjY,UAAWC,KAAOgM,UAAWuL,IAAKA,EAAvC,SACE,mCACG/W,EACC,qBAA2BuV,QAAS,kBAAMA,EAAQvV,IAAlD,UACI4f,GAAUqV,IACV,qCACE,sBAAK11B,UAAWC,KAAO6f,MAAOhS,MAAO,CAAE+nB,cAAe,QAAtD,UACGlQ,GAAgB,2BACZllB,GADW,IAEdi1B,MAAOA,EAAMzd,QACboI,SACA9I,aAAa,KAEf,sBAAKvX,UAAWC,KAAOsuB,OAAvB,mBAAsCjqB,SAE3B,IAAZixB,GACC,sBAAKv1B,UAAWC,KAAOiuB,KAAvB,WACoB,IAAjBztB,EAAK8F,SAAqB,4BAAI9F,EAAK8F,UACpC,mBACEuH,MAAO,CACLyQ,QAAS9d,EAAKs0B,QAAUY,EAAM,GAAM,GAFxC,SAKGl1B,EAAKs0B,eApBlB,eAAkBzwB,IA4BlB,8BACE,cAAC,IAAD,W,qBC7GCwxB,GAAgB,SAAC,GAOvB,IANLxI,EAMI,EANJA,KACAC,EAKI,EALJA,SACAC,EAII,EAJJA,QACAG,EAGI,EAHJA,UACAF,EAEI,EAFJA,OACAC,EACI,EADJA,OAEA,OACE,sBAAK1tB,UAAWC,KAAOgM,UAAvB,UACGqhB,GACC,eAAC,IAAD,CAAQvX,KAAMuX,EAAd,UACE,cAAC,IAAD,UAAiBA,IAEjB,qBACEjK,MAAM,6BACN3L,MAAM,KACNE,OAAO,KACPwL,KAAK,eACL1F,QAAQ,YACR5P,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QATjB,SAYE,sBAAMnP,EAAE,utCAIbuO,GACC,eAAC,IAAD,CAAQxX,KAAI,uBAAkBwX,GAA9B,UACE,cAAC,IAAD,iCAAiCA,KACjC,qBACElK,MAAM,6BACN3L,MAAM,KACNE,OAAO,KACPwL,KAAK,eACL1F,QAAQ,YACR5P,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QATjB,SAYE,sBAAMnP,EAAE,2MAIbwO,GACC,eAAC,IAAD,CAAQzX,KAAI,8BAAyByX,GAArC,UACE,cAAC,IAAD,wCAAwCA,KACxC,qBACEnK,MAAM,6BACN3L,MAAM,KACNE,OAAO,KACPwL,KAAK,eACL1F,QAAQ,YACR5P,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QATjB,SAYE,sBAAMnP,EAAE,ufAIb2O,GACC,eAAC,IAAD,CAAQ5X,KAAI,gCAA2B4X,GAAvC,UACE,cAAC,IAAD,0CAA0CA,KAC1C,qBACEtK,MAAM,6BACN3L,MAAM,KACNE,OAAO,KACPwL,KAAK,eACL1F,QAAQ,YACR5P,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QATjB,SAYE,sBAAMnP,EAAE,y+CAIbyO,GACC,eAAC,IAAD,CAAQ1X,KAAI,6BAAwB0X,GAApC,UACE,cAAC,IAAD,uCAAuCA,KACvC,qBACEpK,MAAM,6BACN3L,MAAM,KACNE,OAAO,KACPwL,KAAK,eACL1F,QAAQ,YACR5P,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QATjB,SAYE,sBAAMnP,EAAE,okBAIb0O,GACC,eAAC,IAAD,CAAQ3X,KAAI,6BAAwB2X,GAApC,UACE,cAAC,IAAD,uCAAuCA,KACvC,sBACE9V,OAAO,KACP8F,QAAQ,cACRhG,MAAM,KACN2L,MAAM,6BACNvV,MAAO,CACLsV,KAAM,oBACNoC,OAAQ,cACR2I,YAAa,QARjB,UAWE,sBAAMnP,EAAE,kaACR,sBAAMA,EAAE,yOACR,sBAAMA,EAAE,0pCACR,sBAAMA,EAAE,oP,qBC1HP+W,GAAa,SAAC,GASpB,IARLlpB,EAQI,EARJA,OACAjB,EAOI,EAPJA,KACA0hB,EAMI,EANJA,KACAC,EAKI,EALJA,SACAC,EAII,EAJJA,QACAG,EAGI,EAHJA,UACAF,EAEI,EAFJA,OACAC,EACI,EADJA,OAGA,OACE,sBAAK1tB,UAAWC,KAAO+1B,OAAvB,UACGnpB,GACC,cAAC,IAAD,CAAQuH,GAAE,UAAKlT,IAAKE,OAAV,YAAoByL,GAA9B,SACE,qBAAK7M,UAAWC,KAAOqlB,KAAvB,SACE,qBACEhO,IAAG,+CAA0CzK,GAC7CkT,IAAI,gBAKZ,sBAAK/f,UAAWC,KAAOyK,KAAvB,UACGkB,GACC,cAAC,IAAD,CAAQwI,GAAE,UAAKlT,IAAKE,OAAV,YAAoByL,GAA9B,SACE,4BACE,iCAASjB,QAIf,cAAC,GAAD,CACE0hB,KAAMA,EACNC,SAAUA,EACVC,QAASA,EACTG,UAAWA,EACXF,OAAQA,EACRC,OAAQA,W,qBChCLuI,GAAY,SAAC,GAAc,IAAZ/H,EAAW,EAAXA,KAC1B,EAAwB1uB,oBAAS,GAAjC,mBAAOiB,EAAP,KAAa+0B,EAAb,KACMtB,EAAUhG,EAAKzpB,WAAW4B,SAAS,GAErC6H,EAAU,GACd,IACE,IAAM0nB,EAAS1H,EAAKJ,MAAMvqB,KAAI,SAAC8iB,GAAD,OAAO7V,WAAW6V,EAAE/U,kBAClDskB,EAAO7H,MAAK,SAACnnB,EAAGolB,GAAJ,OAAUplB,EAAIolB,KAC1B9d,OACgBQ,IAAdknB,EAAO,GACH,eAAiBnvB,OAAOmvB,EAAO,IAAM,IAAU,OAC/C,eACN,MAAOlyB,GACPwK,EAAU,eAYZ,OATAvO,qBAAU,WAAM,4CACd,sBAAAiH,EAAA,sEACQ0V,EAAgB4X,GAAStkB,MAAK,SAAC+E,GACnC6gB,EAAQ7gB,EAASlU,SAFrB,4CADc,uBAAC,WAAD,wBAMdy1B,KACC,IAGD,sBAAKl2B,UAAWC,KAAOgM,UAAvB,UACE,qBAAKjM,UAAWC,KAAO6f,MAAvB,SACG6F,GAAgB,2BACZuI,GADW,IAEd3W,aAAa,OAGjB,qBAAKvX,UAAWC,KAAOiuB,KAAvB,SACE,gCACE,cAAC,IAAD,CAAQ9Z,GAAE,UAAKlT,IAAKO,MAAV,YAAmBysB,EAAKiI,UAAlC,SACE,sBAAKn2B,UAAWC,KAAOsuB,OAAvB,mBAAsCL,EAAKiI,cAE7C,qBAAKn2B,UAAWC,KAAOwL,MAAvB,SAA+ByiB,EAAKzpB,WAAWmH,OAC/C,qBAAK5L,UAAWC,KAAOwY,YAAvB,SACGyV,EAAKzpB,WAAWgU,cAGnB,sBAAKzY,UAAWC,KAAOm2B,MAAvB,UACE,cAAC,GAAD,CACEvpB,OAAQqnB,EACRtoB,KAAMnL,EAAKwS,MACXqa,KAAM7sB,EAAK6sB,KACXC,SAAU9sB,EAAK8sB,SACfC,QAAS/sB,EAAK+sB,QACdC,OAAQhtB,EAAKgtB,OACbC,OAAQjtB,EAAKitB,SAGf,qBAAK1tB,UAAWC,KAAO+Q,QAAvB,SACE,cAAC,IAAD,CAAQoD,GAAE,UAAKlT,IAAKO,MAAV,YAAmBysB,EAAKiI,UAAlC,SACE,cAAC,IAAD,UAAWjoB,oB,qBC5DdmoB,GAAS,SAAC,GAAgB,IAAdL,EAAa,EAAbA,OACvB,EAAwBx2B,oBAAS,GAAjC,mBAAOiB,EAAP,KAAa+0B,EAAb,KAcA,OAZA71B,qBAAU,YACW,uCAAG,sBAAAiH,EAAA,0DAChBovB,EAAOnpB,OADS,gCAEZyP,EAAgB0Z,EAAOnpB,QAAQ+C,MAAK,SAAC+E,GACzC6gB,EAAQ7gB,EAASlU,SAHD,2CAAH,qDAQnB61B,KACC,IAGD,mCACGN,EAAOA,QACN,sBAAKh2B,UAAWC,KAAOgM,UAAvB,UACE,cAAC,GAAD,CACEY,OAAQmpB,EAAOnpB,OACfjB,KAAMnL,EAAKwS,MACXqa,KAAM7sB,EAAK6sB,KACXC,SAAU9sB,EAAK8sB,SACfC,QAAS/sB,EAAK+sB,QACdC,OAAQhtB,EAAKgtB,OACbC,OAAQjtB,EAAKitB,UAEV,OAAJjtB,QAAI,IAAJA,OAAA,EAAAA,EAAMgY,cACL,mBAAGzY,UAAWC,KAAOs2B,IAArB,SAA2B91B,EAAKgY,oB,+BC9B/B+d,GAAb,6MAGEtpB,MAAQ,GAHV,4CAKE,WACE,OACE,cAAC,IAAD,UACE,gDARR,GAA4ByI,aAAf6gB,GACJ1c,YAAcrN,I,yBCOVgqB,GAAS,CACpB,CACEC,OAAO,EACPnvB,KAAM,IACNitB,UCHoB,WACtB,OAAO,cAAC,GAAD,CAAOvtB,KAAM,MDIpB,CACEyvB,OAAO,EACPnvB,KAAM,QACNitB,UChBgB,WAClB,OAAO,cAAC,GAAD,CAAOvtB,KAAM,MDiBpB,CACEyvB,OAAO,EACPnvB,KAAM,UACNitB,UCjBkB,WACpB,OAAO,cAAC,GAAD,CAAOvtB,KAAM,MDkBpB,CACEyvB,OAAO,EACPnvB,KAAM,UACNitB,UC9BkB,WACpB,OAAO,cAAC,GAAD,CAAOvtB,KAAM,MD+BpB,CACEyvB,OAAO,EACPnvB,KAAM,uBACNitB,UAAWhI,IAEb,CACEkK,OAAO,EACPnvB,KAAM,SACNitB,UAAW/U,IAEb,CACEiX,OAAO,EACPnvB,KAAM,OACNitB,UAAWlzB,IAEb,CACEo1B,OAAO,EACPnvB,KAAM,QACNitB,UAAWhV,IAEb,CACEkX,OAAO,EACPnvB,KAAM,QACNitB,UfpBgB,WAClB,MACE3d,qBAAWpK,KADLN,EAAR,EAAQA,KAAMiD,EAAd,EAAcA,QAASsE,EAAvB,EAAuBA,IAAKE,EAA5B,EAA4BA,WAAYtF,EAAxC,EAAwCA,YAAauF,EAArD,EAAqDA,YAGrD,EAAwBrU,mBAAS,GAAjC,mBAAOm3B,EAAP,KAAaC,EAAb,KACA,EAA0Bp3B,mBAAS,IAAnC,mBAAOiM,EAAP,KAAcC,EAAd,KACA,EAAsClM,mBAAS,IAA/C,mBAAOiZ,EAAP,KAAoBoe,EAApB,KACA,EAAwBr3B,mBAAS,IAAjC,mBAAOyxB,EAAP,KAAa6F,EAAb,KACA,EAA4Bt3B,qBAA5B,mBAAOyQ,EAAP,KAAe8G,EAAf,KACA,EAAkCvX,qBAAlC,mBAAO2Q,EAAP,KAAkB4mB,EAAlB,KACA,EAAwBv3B,qBAAxB,mBAAOqF,EAAP,KAAamyB,EAAb,KACA,EAA0Bx3B,qBAA1B,mBAAOoyB,EAAP,KAAcqF,EAAd,KACA,EAAkCz3B,qBAAlC,mBAAOqyB,EAAP,KAAkBqF,EAAlB,KACA,EAAoC13B,oBAAS,GAA7C,oBAAO23B,GAAP,MAAmBC,GAAnB,MAEMC,GAAU,uCAAG,gCAAAzwB,EAAA,yDACZ8M,EADY,uBAGfpF,EAAY,CACVL,SAAS,EACTC,QAAS,mBACTC,UAAU,EACVC,SAAS,IAPI,SAUTyF,IAVS,OAYfvF,EAAY,CACVL,SAAS,IAbI,uCAgBT2F,IAhBS,WAmBmC,IAA9CxQ,IAAkBk0B,QAAQzyB,EAAKS,UAnBpB,wBAwBbgJ,EAAY,CACVL,SAAS,EACTC,QAAQ,mDAAD,OAAqDvK,IAAwB4zB,qBACpFppB,UAAU,EACVC,SAAS,EACTC,gBAAiB,WACfC,EAAY,CAAEL,SAAS,OA9Bd,iCAsCTupB,GAAY3yB,EAAKA,KAAK4yB,KAAO,KAAO,MAAMC,QAAQ,IACzC91B,KAvCA,wBA4Cb0M,EAAY,CACVL,SAAS,EACTC,QAAQ,iBAAD,OAAmBspB,EAAnB,wCAA2D51B,IAA3D,MACPuM,UAAU,EACVC,SAAS,EACTC,gBAAiB,WACfC,EAAY,CAAEL,SAAS,OAlDd,8BA2Df2oB,EAAQ,GAERtoB,EAAY,CACVL,SAAS,EACTC,QAAS,kBACTC,UAAU,EACVC,SAAS,KAMT,CAACvM,IAASmB,IAAKnB,IAASoB,KAAMpB,IAASqB,MAAMW,SAASgB,EAAKS,UAvE9C,kCAyEOoB,+BAAoB7B,EAAK8B,QAzEhC,eAyEPG,EAzEO,iBA2EEurB,GAAiB,CAC9BzmB,KAAMH,EACNgN,cACAwY,OACAziB,QAASkF,EAAIlF,QACb1H,QACA8qB,QACAC,YACAC,mBAAoBkC,KAnFT,QA2Eb2D,EA3Ea,gDAuFEhG,GAAY,CACzB/lB,KAAMH,EACNgN,cACAwY,OACAziB,QAASkF,EAAIlF,QACb7H,OAAQ9B,EAAK8B,OACbrB,SAAUT,EAAKS,SACfssB,QACAC,YACAC,mBAAoBkC,KAhGT,QAuFb2D,EAvFa,eAoGfxrB,EAAKiD,IAAWa,EAAQ0nB,EAAOpwB,KAAM4I,GApGtB,4CAAH,qDA4GVynB,GAAgB,uCAAG,WAAO5rB,GAAP,SAAApF,EAAA,sDACvBowB,EAAQhrB,GADe,4CAQnBorB,IAAc,GARK,2CAAH,sDAahBS,GAAuB,uCAAG,WAAO7rB,EAAOgd,GAAd,qBAAApiB,EAAA,sEACXkxB,GAAc9rB,EAAMnH,KAAMmkB,GADf,cACxBxhB,EADwB,OAExBlC,EAAWkC,EAAKP,KAFQ,SAGTO,EAAKL,cAHI,cAGxBR,EAHwB,gBAIToxB,GAAcvwB,GAJL,cAIxBsE,EAJwB,yBAKvB,CAAExG,WAAUqB,SAAQmF,WALG,4CAAH,wDAQvBgsB,GAAgB,SAACjzB,EAAMmkB,GAC3B,OAAO,IAAIlkB,QAAJ,uCAAY,WAAOC,EAAS8W,GAAhB,SAAAjV,EAAA,sDACjB,IAAIoxB,KAAWnzB,EAAf,2BACKmkB,GADL,IAEEiP,QAFF,SAEUzwB,GACNzC,EAAQyC,IAEVgD,MALF,SAKQuG,GACJ8K,EAAO9K,OAPM,2CAAZ,0DAaHgnB,GAAa,uCAAG,WAAOvwB,GAAP,SAAAZ,EAAA,+EACb,IAAI9B,SAAQ,SAACC,EAAS8W,GAC3B,IAAI/P,EAAS,IAAI7G,WACjB6G,EAAO9F,QAAU6V,EACjB/P,EAAOosB,OAAS,SAACx0B,GAAD,OAAOqB,EAAQ+G,EAAOrG,SACtCqG,EAAOC,cAAcvE,OALH,2CAAH,sDASb2wB,GAAiB,uCAAG,WAAOnsB,GAAP,SAAApF,EAAA,sEAClBwxB,GAA0BpsB,GADR,2CAAH,sDAIjBosB,GAAyB,uCAAG,WAAOpsB,GAAP,iBAAApF,EAAA,yDAE5BoF,EAAM1G,WAAazD,IAASE,IAFA,uBAG9Bk1B,EAASjrB,GACTkrB,EAAalrB,GAJiB,0CAQZ6rB,GAAwB7rB,EAAO2nB,IARnB,cAQ1B/B,EAR0B,OAShCqF,EAASrF,GATuB,UAWZiG,GAAwB7rB,EAAO+nB,IAXnB,QAW1BsE,EAX0B,OAYhCnB,EAAamB,GAZmB,4CAAH,sDAezBC,GAAiB,uCAAI,WAAOnzB,EAAQozB,EAAUC,GAAzB,SAAA5xB,EAAA,sDACL,KAAjBzB,EAAO8J,QAAc9J,EAAO8J,MAAQ,IACvC9J,EAAO8J,MAAQ+S,KAAKC,MAAMD,KAAK5K,IAAI4K,KAAK7K,IAAIhS,EAAO8J,MAAOupB,GAAWD,IAF5C,2CAAJ,0DAuBvB,OACE,eAAC,IAAD,CAAM9sB,MAAM,OAAO8O,OAAK,EAAxB,UACY,IAAToc,GACC,qCACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,KAAD,CACE1vB,KAAK,OACLsE,SAAU,SAAC7H,GAAD,OAAOgI,EAAShI,EAAEyB,OAAO8J,QACnCiI,YAAY,QACZ9L,MAAM,QACN6D,MAAOxD,IAGT,cAAC,KAAD,CACExE,KAAK,OACLsE,SAAU,SAAC7H,GAAD,OAAOmzB,EAAenzB,EAAEyB,OAAO8J,QACzCiI,YAAY,cACZ9L,MAAM,cACNyP,UAAU,OACV5L,MAAOwJ,IAGT,cAAC,KAAD,CACExR,KAAK,OACLsE,SAAU,SAAC7H,GAAD,OAAOozB,EAAQpzB,EAAEyB,OAAO8J,QAClCiI,YAAY,yDACZ9L,MAAM,OACN6D,MAAOgiB,IAGT,cAAC,KAAD,CACEhqB,KAAK,SACLkQ,IAAK,EACLC,IAAKnT,IACLsH,SAAU,SAAC7H,GAAD,OAAOqT,EAAUrT,EAAEyB,OAAO8J,QACpC6L,OAAS,SAACpX,GAAQ40B,GAAkB50B,EAAEyB,OAAQ,EAAGlB,KAAe8S,EAAUrT,EAAEyB,OAAO8J,QACnFiI,YAAW,oCAA+BjT,IAA/B,KACXmH,MAAM,WACN6D,MAAOgB,IAGT,cAAC,KAAD,CACEhJ,KAAK,SACLkQ,IAAKjT,IACLkT,IAAKjT,IACLoH,SAAU,SAAC7H,GAAD,OAAOqzB,EAAarzB,EAAEyB,OAAO8J,QACvC6L,OAAS,SAACpX,GAAQ40B,GAAkB50B,EAAEyB,OAAQjB,IAAeC,KAAgB4yB,EAAarzB,EAAEyB,OAAO8J,QACnGiI,YAAW,6CAAwChT,IAAxC,YAAyDC,IAAzD,MACXiH,MAAM,YACN6D,MAAOkB,SAKb,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,KAAD,CACE/E,MAAM,eACNE,kBAAmB3H,IACnB4H,SAAUqsB,SAKf/yB,GAAQsyB,IACP,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,KAAD,CACE/rB,MAAM,qBACNC,aAActH,IACduH,kBAAmBtH,IACnBuH,SAAU4sB,SAMlB,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAQniB,QA1KE,WACpB4gB,EAAQ,IAyKkC1gB,KAAG,EAACD,SAjG1ChG,GAAU,GACVA,EAAShM,KACTkM,EAAYjM,KACZiM,EAAYhM,MACXU,EA6FK,SACE,cAAC,IAAD,+BAOA,IAAT8xB,GACC,qCACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,qBAAK7oB,MAAO,CAAEuH,QAAS,QAAvB,SACE,cAAC,IAAD,CAAQW,QAAS,kBAAM4gB,EAAQ,IAAI1gB,KAAG,EAAtC,SACE,cAAC,IAAD,UACE,oDAOV,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,GAAD,CACE5Q,SAAUT,EAAKS,SACfsgB,IAAK/gB,EAAKiH,OACVL,MAAOA,EACPgN,YAAaA,EACbwY,KAAMA,QAKZ,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAQjb,QAASqhB,GAAYnhB,KAAG,EAAhC,SACE,cAAC,IAAD,+BAKN,cAAC,IAAD,UACE,eAAC,IAAD,WACE,+DACA,mEAAsC/F,EAAtC,oBexTZ,CACEumB,OAAO,EACPnvB,KAAM,aACNitB,UX1CwB,WAAO,IAAD,EACxBtY,EAAO4Y,cAAP5Y,GACFrD,EAAUhC,qBAAWpK,KAE3B,EAA8BjN,oBAAS,GAAvC,mBAAOiU,EAAP,KAAgBglB,EAAhB,KACA,EAAgCj5B,mBAAS,GAAzC,mBAAOk5B,EAAP,KAAiBC,EAAjB,KACA,EAAsBn5B,qBAAtB,mBAAO6uB,EAAP,KAAYuK,EAAZ,KACA,EAA0Bp5B,oBAAS,GAAnC,mBAAOgL,EAAP,KAAculB,EAAd,KAEMvhB,EAAO,UAAGqK,EAAQnF,WAAX,aAAG,EAAalF,QAE7B7O,qBAAU,WACRsc,EAAS,CAAEC,OACRtM,KADH,uCACQ,WAAOtL,GAAP,SAAAsC,EAAA,0DACAijB,MAAMC,QAAQxlB,GADd,gBAEFyrB,EACE,qEAEF0I,GAAW,GALT,sCAOI5f,EAAQjF,aAPZ,OAQFglB,EAAOt0B,GAEPm0B,GAAW,GAVT,2CADR,uDAcG3oB,OAAM,SAACpM,GACFA,EAAEiR,UAAYjR,EAAEiR,SAASlU,KAAK+J,MAChCulB,EAAS,SAAD,OACGrsB,EAAEiR,SAASlU,KAAK+J,MAAMquB,YADzB,aACyCn1B,EAAEiR,SAASlU,KAAK+J,MAAM0D,UAE9DxK,EAAEiR,UAAYjR,EAAEiR,SAASlU,KAClCsvB,EAAS,SAAD,OAAUrsB,EAAEiR,SAASmkB,OAArB,aAAgCp1B,EAAEiR,SAASlU,OAC1CiD,EAAE0hB,QACX2K,EAAS,qEAAD,OAC+DrsB,EAAEwK,UAGzE6hB,EAAS,qEAAD,OAC+DrsB,IAGzE+0B,GAAW,QAEd,IAEH,IAAMM,EAAMxE,GAAKmE,GAAUlE,UAE3B,OACE,eAAC,IAAD,CAAM/oB,MAAK,OAAE4iB,QAAF,IAAEA,OAAF,EAAEA,EAAK5pB,WAAWmH,KAA7B,UACG6H,GACC,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,QAKLjJ,GACC,eAAC,IAAD,WACE,cAAC,IAAD,UACE,4BAAIA,MAEN,cAAC,IAAD,UACE,cAAC,IAAD,CAAQuL,KAAK,oDAAb,SACE,cAAC,IAAD,UACE,sDAORtC,IAAYjJ,GACZ,qCACE,cAAC,IAAD,UACG6jB,EAAIjc,UACHuT,GAAgB,CACdrgB,SAAU+oB,EAAI5pB,WAAW6pB,QAAQ,GAAGhpB,SACpCsgB,IAAKyI,EAAI5pB,WAAW6pB,QAAQ,GAAG1I,IAAI7d,MAAM,MAAM,GAC/CwP,aAAa,EACbrE,SAAUmb,MAIhB,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,GAAD,2BAAcA,GAAd,IAAmBM,cAAY,SAInC,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,GAAD,UACG4F,GAAKhxB,KAAI,SAACy1B,EAAK3wB,GAGd,OAAO,OAAHgmB,QAAG,IAAHA,OAAA,EAAAA,EAAKjoB,SAAU4yB,EAAI9D,UACrBxwB,QAAQqL,IACN1M,OAAOC,KAAK+qB,EAAIjoB,QAAQvC,SAAS2K,GACjC6f,EAAI5pB,WAAW4B,SAASxC,SAAS2K,GACjC,QACAnL,OAAOC,KAAK+qB,EAAIjoB,QAAQvC,SAAS2K,IAC/B6f,EAAI5pB,WAAW4B,SAASxC,SAAS2K,KAGW,IAA9CnL,OAAOC,KAAK+qB,EAAIjoB,QAAQvC,SAAS2K,KACa,IAA9C6f,EAAI5pB,WAAW4B,SAASxC,SAAS2K,IAI1B,KAKT,cAAC,IAAD,CAAwBwH,QAAS,kBAAM2iB,EAAYtwB,IAAnD,SACE,cAAC,IAAD,CAASkO,SAAUmiB,IAAarwB,EAAhC,SACG2wB,EAAIvtB,SAFIutB,EAAIvtB,gBAW3B,cAACstB,EAAD,2BAAS1K,GAAT,IAAc7f,QAASA,aWnF/B,CACEkoB,OAAO,EACPnvB,KAAM,aACNitB,UPrDqB,WACvB,MAAwBh1B,mBAAS,IAAjC,mBAAOiB,EAAP,KAAa+0B,EAAb,KA2BA,OAzBA71B,qBAAU,WAqBR,OAnBAs5B,MAAM,6BACHrpB,MAAK,SAAClM,GAAD,OAAOA,EAAEw1B,UACdtpB,KAFH,uCAEQ,WAAOupB,GAAP,iBAAAvyB,EAAA,sDACEwyB,EAAI,GACN/oB,EAAI,EACR8oB,EAAUxzB,QAAV,uCAAkB,WAAO0zB,GAAP,SAAAzyB,EAAA,sEACVqV,EAAS,CAAEC,GAAImd,EAAQxH,YAAajiB,MAAK,SAAClM,GAC9C,IAAM41B,EAAQH,EAAU9P,MAAK,SAAC3lB,GAAD,OAAOA,EAAEqe,MAAQsX,EAAQtX,OACtDqX,EAAEvzB,KAAKxC,OAAOk2B,OAAO,GAAID,EAAO51B,MAChC2M,IAEU8oB,EAAU30B,SAClB40B,EAAErL,KAAKoH,IACPK,EAAQ4D,OARI,2CAAlB,uDAHI,2CAFR,uDAmBO,WACLzrB,SAAS6rB,KAAK1rB,MAAQ,MAEvB,IAED,cAAC,IAAD,CAAMrC,MAAM,YAAZ,SACE,cAAC,IAAD,CAAWiP,QAAM,EAAjB,SACE,cAAC,IAAD,UACE,cAAC,KAAD,UACGja,EAAK8C,KAAI,SAACG,GACT,IACA,EADuBA,EAAfe,WAC6B6pB,QAAQ,GAArChpB,EAAR,EAAQA,SAAUsgB,EAAlB,EAAkBA,IAElB,OACE,cAAC,IAAD,CAAoBxR,GAAE,UAAKlT,IAAKQ,QAAV,YAAqBgC,EAAEqe,KAA7C,SACE,qBAAK/hB,UAAWC,KAAO8wB,KAAvB,SACE,sBACEjjB,MAAO,CAAE+nB,cAAe,QACxB71B,UAAWC,KAAO6f,MAFpB,UAIG6F,GAAgB,CACfC,IAAKA,EAAI7d,MAAM,MAAM,GACrBzC,WACA4N,SAAUxP,EACV6T,aAAa,IAEf,qBAAKvX,UAAWC,KAAOsuB,OAAvB,SAAgC7qB,EAAEkI,aAZ3BlI,EAAEqe,kBOiB7B,CACE2U,OAAO,EACPnvB,KAAM,eACNitB,UE5DyB,WAC3B,IAAQtY,EAAO4Y,cAAP5Y,GACR,EAA4B1c,oBAAS,GAArC,mBAAOi6B,EAAP,KAAeC,EAAf,KACA,EAAoCl6B,mBAAS,IAA7C,mBAAOutB,EAAP,KAAmB4M,EAAnB,KACA,EAA0Bn6B,qBAA1B,mBAAOo6B,EAAP,KAAcC,EAAd,KAEMC,EAAY,SAAC5L,GACjB2L,EAAS3L,GACLA,EACFvgB,SAAS6rB,KAAK1rB,MAAM6P,SAAW,SAE/BhQ,SAAS6rB,KAAK1rB,MAAQ,IA4B1B,OAxBAnO,qBAAU,WAmBR,OAjBAs5B,MAAM,6BACHrpB,MAAK,SAAClM,GAAD,OAAOA,EAAEw1B,UACdtpB,MAAK,SAACupB,GACL,IAAMG,EAAQH,EAAU9P,MAAK,SAAC3lB,GAAD,OAAOA,EAAEqe,MAAQ7F,KAE1Cod,EACFL,MAAMK,EAAMxG,UACTljB,MAAK,SAAClM,GAAD,OAAOA,EAAEw1B,UACdtpB,MAAK,SAACnP,GACLk5B,EAAcl5B,GACdi5B,GAAU,MAGdvxB,MAAM,WAAD,OAAY+T,EAAZ,kBAIJ,WACLvO,SAAS6rB,KAAK1rB,MAAQ,MAEvB,CAACoO,IAGF,cAAC,IAAD,CAAMzQ,MAAK,OAAEshB,QAAF,IAAEA,OAAF,EAAEA,EAAYthB,MAAzB,SACIguB,EAOA,sBAAKz5B,UAAWC,KAAOgM,UAAvB,WACG,EAUD,cAAC,IAAD,UACE,cAAC,IAAD,UACE,iCAAS8gB,EAAWthB,YAIxB,cAAC,IAAD,UACE,cAAC,IAAD,UACE,4BAAIshB,EAAWtU,kBAInB,cAAC,IAAD,CAAWiC,QAAM,EAAjB,SACE,cAAC,IAAD,UACE,qBAAK1a,UAAWC,KAAO6e,QAAvB,SACGiO,EAAWtsB,KAAK8C,KAAI,SAACyyB,EAAQnuB,GAC5B,OACE,sBAAK7H,UAAWC,KAAO85B,MAAvB,UACE,cAAC,GAAD,CAAQ/D,OAAQA,IAChB,cAAC,KAAD,UACGA,EAAO1xB,MAAMf,KAAI,SAACe,GACjB,OACE,cAAC,GAAD,CAEEA,MAAOA,EACP0R,QAAS,SAACkY,GAAD,OAAU4L,EAAU5L,IAC7BqH,QAASxI,EAAWwI,SAHfjxB,UANf,gBAA4CuD,aAqBtD,cAACuX,EAAA,EAAD,UACGwa,GACC,sBAAK55B,UAAWC,KAAO25B,MAAvB,UACE,qBACE55B,UAAWC,KAAOmV,WAClBY,QAAS,kBAAM8jB,GAAU,MAE3B,cAAC,GAAD,CAAW5L,KAAM0L,IACjB,qBAAK55B,UAAWC,KAAO+5B,MAAOhkB,QAAS,kBAAM8jB,GAAU,IAAvD,6BA/DR,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,YFsBV,CACEpD,OAAO,EACPnvB,KAAM,UACNitB,UAAWjc,MAEb,CACEme,OAAO,EACPnvB,KAAM,UACNitB,UAAWgC,IAEb,CACEE,OAAO,EACPnvB,KAAM,YACNitB,UG9EgB,WAClB,IAAQtY,EAAO4Y,cAAP5Y,GACR,EAA0B1c,oBAAS,GAAnC,mBAAOgL,EAAP,KAAculB,EAAd,KACA,EAA0BvwB,mBAAS,IAAnC,mBAAOwwB,EAAP,KAAcC,EAAd,KACA,EAA0BzwB,mBAAS,GAAnC,mBAAO0wB,EAAP,KAAcC,EAAd,KACA,EAA8B3wB,oBAAS,GAAvC,mBAAO4wB,EAAP,KAAgBC,EAAhB,KA2BA,OArBA1wB,qBAAU,WACJ6K,EACF9F,QAAQqL,IAAI,sBAIdoM,EAAQ,CAAEC,IAAKF,EAAIG,KAAM6T,IACtBtgB,MAAK,SAACnK,GACL,IAAMgrB,EAAOT,EAAMU,OAAOjrB,GAC1BwqB,EAASQ,GAGLhrB,EAAOjB,OAAS,IAClB6rB,GAAW,MAGdvgB,OAAM,SAACpM,GACNqsB,GAAS,QAEZ,CAACG,EAAOhU,IAGT,cAAC,IAAD,CAAMzQ,MAAK,cAASyQ,GAApB,SACE,cAAC,KAAD,CACEyU,WAAYX,EAAMxrB,OAClBisB,KA7BW,WACfN,EAASD,EAAQ,IA6BbE,QAASA,EACTlW,OACE,cAAC,IAAD,CAAWQ,QAAM,EAAjB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,QAINkW,WACE,cAAC,IAAD,CAAWlW,QAAM,IAZrB,SAsBE,qBAAK1a,UAAWC,KAAOgM,UAAvB,SACE,cAAC,IAAD,CAAWyO,QAAM,EAAjB,SACE,cAAC,KAAD,UACGsV,EAAMzsB,KAAI,SAAC8qB,GACV,MAA0BA,EAAIC,QAAQ,GAA9BhpB,EAAR,EAAQA,SAAUsgB,EAAlB,EAAkBA,IAElB,OACE,cAAC,IAAD,CAEExR,GAAE,UAAKlT,IAAKO,MAAV,YAAmB4sB,EAAIjc,UAF3B,SAIE,sBAAKpS,UAAWC,KAAOgM,UAAvB,UACG0Z,GAAgB,CACfrgB,WACAsgB,IAAKA,EAAI7d,MAAM,MAAM,GACrBmL,SAAUmb,IAEZ,sBAAKruB,UAAWC,KAAOsuB,OAAvB,mBAAsCF,EAAIjc,gBATvCic,EAAIjc,yBHgB3B,CACEskB,OAAO,EACPnvB,KAAM,OACNitB,UAAWhI,KIzDAyN,GA9BH,WACV,MAA8Bz6B,oBAAS,GAAvC,mBAAOiU,EAAP,KAAgBglB,EAAhB,KASA,OANA94B,qBAAU,YnDIkB,WAC5B,IAAM6L,EAAWyP,YAAQ,aAAepN,YAAQ,WAAY,MAE5D,OAAO/I,QAAQo1B,IAAI,CACjB3tB,EAAM4C,IAAN,qBAAwB3D,EAAxB,UACAe,EAAM4C,IAAIqC,iFACVjF,EAAM4C,IAAIqC,iFACVjF,EAAM4C,IAAIqC,mFACT5B,MAAK,SAACgd,GAMP,OALApsB,YAAYosB,EAAQ,GAAGnsB,MACvBG,YAAkBgsB,EAAQ,GAAGnsB,MAC7BM,YAAmB6rB,EAAQ,GAAGnsB,MAC9BQ,YAAgB2rB,EAAQ,GAAGnsB,OAEpB,MmDjBP05B,GAAiBvqB,MAAK,WACpB6oB,GAAW,QAEZ,IAEChlB,EACK,cAAC,IAAD,IAIP,eAAChH,EAAA,EAAD,WACE,qBAAKqB,MAAO,CAACsH,WAAY,OAAQglB,MAAO,SAAxC,SACE,iDAAmB,mBAAGrkB,KAAK,4BAA4BjI,MAAO,CAACssB,MAAO,QAASC,UAAW,UAAvE,sBAAnB,eAEF,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,IAAD,UACG5D,GAAOlzB,KAAI,gBAAGmzB,EAAH,EAAGA,MAAOnvB,EAAV,EAAUA,KAAiB8S,EAA3B,EAAgBma,UAAhB,OACV,cAAC,IAAD,CAAOjtB,KAAMA,EAAMmvB,MAAOA,EAAkBlC,UAAWna,GAAjB9S,YCpB5B+yB,QACW,cAA7BpyB,OAAOwkB,SAAS6N,UAEe,UAA7BryB,OAAOwkB,SAAS6N,UAEhBryB,OAAOwkB,SAAS6N,SAASC,MACvB,2D,OCXNC,IAAS9N,OACP,cAAC,IAAD,UACE,cAAC,GAAD,MAEFhf,SAAS+sB,eAAe,SDwHpB,kBAAmBza,WACrBA,UAAU0a,cAAcC,MACrBhrB,MAAK,SAACirB,GACLA,EAAaC,gBAEdhrB,OAAM,SAACtF,GACN9F,QAAQ8F,MAAMA,EAAM0D,c","file":"static/js/main.a90ec9fc.chunk.js","sourcesContent":["import { useEffect, useState } from 'react'\nimport Masonry from 'react-masonry-css'\nimport styles from './styles.module.scss'\n\nexport const ResponsiveMasonry = ({ children }) => {\n  const getColumns = () => {\n    if (global.innerWidth > 1024) {\n      return 4\n    }\n\n    if (global.innerWidth > 600) {\n      return 3\n    }\n\n    return 1\n  }\n  const [colums, setColumns] = useState(getColumns())\n\n  useEffect(() => {\n    const resize = () => {\n      setColumns(getColumns())\n    }\n    global.addEventListener('resize', resize)\n\n    return () => global.removeEventListener('resize', resize)\n  }, [])\n\n  return (\n    <Masonry\n      breakpointCols={colums}\n      className={styles.grid}\n      columnClassName={styles.column}\n    >\n      {children}\n    </Masonry>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"styles_profile__3TJpq\",\"info\":\"styles_info__1pmjc\",\"menu\":\"styles_menu__3EDGn\",\"secondary-menu\":\"styles_secondary-menu__1vkW0\",\"container\":\"styles_container__WB30Y\",\"number\":\"styles_number__3kwPM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1pGa0\",\"objktContainer\":\"styles_objktContainer__3keuE\",\"edition\":\"styles_edition__-K8p4\",\"inline\":\"styles_inline__mZHhk\",\"top\":\"styles_top__2ZE35\",\"right\":\"styles_right__zU0qe\",\"bottom\":\"styles_bottom__zuAAM\",\"left\":\"styles_left__FGZer\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__pQJ-c\",\"image\":\"styles_image__3kUoH\",\"info\":\"styles_info__1NqAJ\",\"number\":\"styles_number__Ml7lu\",\"title\":\"styles_title__aRg7I\",\"description\":\"styles_description__3e4qG\",\"links\":\"styles_links__2F1AB\",\"collect\":\"styles_collect__3Z7tm\"};","let LANGUAGE = {}\nexport const setLanguage = (data) => (LANGUAGE = data)\nexport const getLanguage = () => LANGUAGE\n\nlet objktBlockList = []\nexport const setObjktBlockList = (data) => (objktBlockList = data)\nexport const getObjktBlockList = () => objktBlockList\n\nlet walletBlockList = []\nexport const setWalletBlockList = (data) => (walletBlockList = data)\nexport const getWalletBlockList = () => walletBlockList\n\nlet banBlockList = []\nexport const setBanBlockList = (data) => (banBlockList = data)\nexport const getBanBlockList = () => banBlockList\n\nexport const PATH = {\n  FEED: '/',\n  ISSUER: '/tz',\n  ABOUT: '/about',\n  FAQ: '/faq',\n  SYNC: '/sync',\n  MINT: '/mint',\n  OBJKT: '/objkt',\n  GALLERY: '/gallery',\n  TAGS: '/tags',\n}\n\nexport const MINT_MIN_LIMIT = 1\nexport const MINT_MAX_LIMIT = 10000\nexport const MINT_FILESIZE = 40\n\nexport const MIMETYPE = {\n  BMP: 'image/bmp',\n  GIF: 'image/gif',\n  JPEG: 'image/jpeg',\n  PNG: 'image/png',\n  SVG: 'image/svg+xml',\n  TIFF: 'image/tiff',\n  WEBP: 'image/webp',\n  MP4: 'video/mp4',\n  OGV: 'video/ogg',\n  QUICKTIME: 'video/quicktime',\n  WEBM: 'video/webm',\n  GLB: 'model/gltf-binary',\n  GLTF: 'model/gltf+json',\n  MP3: 'audio/mpeg',\n  OGA: 'audio/ogg',\n  WAV: 'audio/wav',\n  FLAC: 'audio/flac',\n  PDF: 'application/pdf',\n  ZIP: 'application/zip',\n  ZIP1: 'application/x-zip-compressed',\n  ZIP2: 'multipart/x-zip',\n}\n\nexport const IPFS_DIRECTORY_MIMETYPE = 'application/x-directory'\n\nexport const ALLOWED_MIMETYPES = Object.keys(MIMETYPE)\n  .map((k) => MIMETYPE[k])\n  .filter((e) => e !== MIMETYPE.GLTF) // disabling GLTF from new updates\n\nexport const ALLOWED_FILETYPES_LABEL = Object.entries(MIMETYPE)\n  .filter((e) => ALLOWED_MIMETYPES.includes(e[1]))\n  .filter((e) => !['ZIP1', 'ZIP2'].includes(e[0]))\n  .map((e) => (e[0] === 'ZIP' ? 'HTML (ZIP ARCHIVE)' : e[0]))\n  .join(', ')\n\nexport const ALLOWED_COVER_MIMETYPES = [\n  MIMETYPE.JPEG,\n  MIMETYPE.PNG,\n  MIMETYPE.GIF,\n]\n\nexport const ALLOWED_COVER_FILETYPES_LABEL = ['jpeg, png, gif']\n\nexport const MAX_EDITIONS = 10000  // Limited by contract\n\nexport const MIN_ROYALTIES = 10    // Limited by contract\n\nexport const MAX_ROYALTIES = 25    // Limited by contract\n\nexport const IPFS_DISPLAY_URI_BLACKCIRCLE =\n  'ipfs://QmNrhZHUaEqxhyLfqoq1mtHSipkWHeT31LNHb1QEbDHgnc'\n","import { MIMETYPE } from '../constants'\n\n/**\n * If a OBJKT is missing a relevant property, we filter it out.\n * As example http://localhost:3000/objkt/2862 (has no token_info)\n */\nexport const SanitiseOBJKT = (objkt) => {\n  return objkt.filter((o) => {\n    if (Object.keys(o).length === 0) {\n      // if empty object ignore\n      return true\n    } else if (!o.token_info) {\n      // if missing token_info flag as corrupt\n      console.warn('objkt flagged as corrupt', objkt)\n      return false\n    }\n    return true\n  })\n}\n\n// check for mymetype using FileReader API (should read any file including binaries)\nexport const getMimeType = (file) => {\n  return new Promise((resolve) => {\n    const filereader = new FileReader()\n    filereader.onloadend = function (e) {\n      if (e.target.readyState === FileReader.DONE) {\n        const uint = new Uint8Array(e.target.result)\n        let bytes = []\n        uint.forEach((byte) => {\n          bytes.push(byte.toString(16))\n        })\n        const hex = bytes.join('').toUpperCase()\n\n        let mimeType\n\n        switch (hex) {\n          case '7BA2020':\n            mimeType = MIMETYPE.GLTF\n            break\n          case '676C5446':\n            mimeType = MIMETYPE.GLB\n            break\n          default:\n            mimeType = 'Unknown MimeType'\n        }\n\n        resolve(mimeType)\n      }\n    }\n    filereader.onerror = () => resolve('Unknown MimeType')\n    filereader.readAsArrayBuffer(file.slice(0, 4))\n  })\n}\n\n/**\n * TODO:\n * Receives an array of objects and filters them out if they're part of the blocklist (o.json)\n */\nexport const filterObjkts = (items) => {\n  return items\n}\n\nexport const getTotalSales = ({ owners, creators }) => {\n  if (!owners) return 0\n  return Object.keys(owners).reduce((edition, ownerID) => {\n    // not the platform or the creator\n    if (\n      ownerID !== 'KT1Hkg5qeNhfwpKW4fXvq7HGZB9z2EnmCCA9' &&\n      !creators.includes(ownerID)\n    ) {\n      // add the count of market owned editions\n      edition = edition + Number(owners[ownerID])\n    }\n    return edition\n  }, 0)\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__lu2xv\",\"interactive\":\"styles_interactive__15Bjr\",\"preview\":\"styles_preview__2rSQU\",\"button\":\"styles_button__3WtNX\",\"gradient\":\"styles_gradient__3pShs\",\"warning\":\"styles_warning__16Ugt\",\"error\":\"styles_error__393uj\"};","import * as fflate from 'fflate'\nimport mime from 'mime-types'\nimport { IPFS_DIRECTORY_MIMETYPE } from '../constants'\n\nexport async function prepareFilesFromZIP(buffer) {\n  // unzip files\n  let files = await unzipBuffer(buffer)\n\n  // save raw index file\n  const indexBlob = files['index.html']\n  files['index_raw.html'] = new Blob([indexBlob], { type: indexBlob.type })\n\n  // inject CSP meta tag in all html files\n  for (let k in files) {\n    if (k.endsWith('.html') || k.endsWith('.htm')) {\n      const pageBuffer = await files[k].arrayBuffer()\n      const safePageBuffer = injectCSPMetaTagIntoBuffer(pageBuffer)\n      files[k] = new Blob([safePageBuffer], {\n        type: indexBlob.type,\n      })\n    }\n  }\n\n  // reformat\n  files = Object.entries(files).map((file) => {\n    return {\n      path: file[0],\n      blob: file[1],\n    }\n  })\n\n  // remove top level dir\n  files = files.filter((f) => f.path !== '')\n\n  return files\n}\n\nexport async function unzipBuffer(buffer) {\n  let entries = fflate.unzipSync(buffer)\n  entries = Object.entries(entries).map((entry) => {\n    return {\n      path: entry[0],\n      buffer: entry[1],\n    }\n  })\n\n  // Find root dir\n  let rootDir = null\n  for (let i = 0; i < entries.length; i++) {\n    const parts = entries[i].path.split('/')\n    const filename = parts[parts.length - 1]\n    if (filename === 'index.html') {\n      const parts = entries[i].path.split('/')\n      parts.pop()\n      rootDir = parts.join('/')\n      break\n    }\n  }\n\n  if (rootDir === null) {\n    const msg = 'No index.html file found!'\n    window.alert(msg)\n    throw new Error(msg)\n  }\n\n  // Create files map\n  const files = {}\n  entries.forEach((entry, index) => {\n    const relPath = entry.path.replace(`${rootDir}/`, '')\n    let type\n    if (entry.buffer.length === 0 && entry.path.endsWith('/')) {\n      type = IPFS_DIRECTORY_MIMETYPE\n    } else {\n      type = mime.lookup(entry.path)\n    }\n\n    files[relPath] = new Blob([entry.buffer], {\n      type,\n    })\n  })\n\n  return files\n}\n\nexport function injectCSPMetaTagIntoDataURI(dataURI) {\n  // data URI -> HTML\n  const prefix = 'data:text/html;base64,'\n  const base64 = dataURI.replace(prefix, '')\n  const html = atob(base64)\n\n  // inject CSP meta tag\n  const safeHTML = injectCSPMetaTagIntoHTML(html)\n\n  // HTML -> data URI\n  return `${prefix}${btoa(safeHTML)}`\n}\n\nexport function injectCSPMetaTagIntoBuffer(buffer) {\n  // buffer -> HTML\n  const html = new TextDecoder().decode(buffer)\n\n  // inject CSP meta tag\n  const safeHTML = injectCSPMetaTagIntoHTML(html)\n\n  // HTML -> buffer\n  return new TextEncoder().encode(safeHTML)\n}\n\nexport function injectCSPMetaTagIntoHTML(html) {\n  // HTML -> doc\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(html, 'text/html')\n\n  // remove any existing CSP meta tags\n  const existing = doc.head.querySelectorAll(\n    'meta[http-equiv=\"Content-Security-Policy\"]'\n  )\n  if (existing.length) {\n    for (let i = 0; i < existing.length; i++) {\n      existing[i].remove()\n    }\n  }\n\n  if (!doc.head) {\n    const msg = 'index.html is missing <head> tag!'\n    window.alert(msg)\n    throw new Error(msg)\n  }\n\n  // inject CSP meta tag\n  doc.head.insertAdjacentHTML(\n    'afterbegin',\n    `\n    <meta http-equiv=\"Content-Security-Policy\" content=\"\n    upgrade-insecure-requests;\n    default-src\n      'none';\n    frame-src\n      'self';\n    child-src\n      'self';\n    script-src\n      'self'\n      'unsafe-inline'\n      'unsafe-eval'\n      blob:;\n    style-src\n      'self'\n      'unsafe-inline';\n    img-src\n      'self'\n      'unsafe-inline'\n      data:\n      blob:\n      https://ipfs.infura.io\n      https://cloudflare-ipfs.com/\n      https://ipfs.io/\n      https://gateway.pinata.cloud/;\n    font-src\n      'self'\n      https://ipfs.infura.io\n      https://cloudflare-ipfs.com/\n      https://fonts.googleapis.com/\n      https://ipfs.io/\n      https://gateway.pinata.cloud/;\n    connect-src\n      'self'\n      https://better-call.dev\n      https://*.better-call.dev\n      https://*.cryptonomic-infra.tech\n      https://cryptonomic-infra.tech\n      https://*.infura.io\n      https://infura.io\n      blob:\n      ws:\n      wss:\n      bootstrap.libp2p.io\n      preload.ipfs.io\n      https://api.etherscan.io\n      https://api.thegraph.com\n      https://*.tzkt.io\n      https://api.tzstats.com\n      https://*.wikidata.org\n      https://*.coinmarketcap.com\n      https://api.openweathermap.org\n      https://hicetnunc.xyz\n      https://*.hicetnunc.xyz;\n    manifest-src\n      'self';\n    base-uri\n      'self';\n    form-action\n      'none';\n    media-src\n      'self'\n      'unsafe-inline'\n      data:\n      blob:\n      https://ipfs.infura.io\n      https://cloudflare-ipfs.com/\n      https://ipfs.io/\n      https://gateway.pinata.cloud/;\n    prefetch-src\n      'self'\n      https://ipfs.infura.io\n      https://cloudflare-ipfs.com/\n      https://fonts.googleapis.com/\n      https://ipfs.io/\n      https://gateway.pinata.cloud/;\n    worker-src\n      'self'\n      'unsafe-inline'\n      blob:;\">\n  `\n  )\n\n  // doc -> HTML\n  return `<!DOCTYPE html><html>${doc.documentElement.innerHTML}</html>`\n}\n\nexport function getCoverImagePathFromBuffer(buffer) {\n  // buffer -> html\n  const html = new TextDecoder().decode(buffer)\n\n  // html -> doc\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(html, 'text/html')\n\n  return getCoverImagePathFromDoc(doc)\n}\n\nfunction getCoverImagePathFromDoc(doc) {\n  let meta = doc.head.querySelector('meta[property=\"cover-image\"]')\n  if (!meta) {\n    meta = doc.head.querySelector('meta[property=\"og:image\"]')\n  }\n\n  if (!meta) return null\n\n  return meta.getAttribute('content')\n}\n\nexport async function validateFiles(files) {\n  // check for index.html file\n  if (!files['index.html']) {\n    return {\n      valid: false,\n      error: 'Missing index.html file',\n    }\n  }\n\n  const pageBlob = files['index.html']\n  let htmlString = await pageBlob.text()\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(htmlString, 'text/html')\n\n  // check for <head> tag\n  if (!doc.head) {\n    return {\n      valid: false,\n      error:\n        'Missing <head> tag in index.html. Please refer to the Interactive OBJKTs Guide..',\n    }\n  }\n\n  return {\n    valid: true,\n  }\n}\n\nexport function dataRUIToBuffer(dataURI) {\n  const parts = dataURI.split(',')\n  const base64 = parts[1]\n  const binaryStr = atob(base64)\n  const len = binaryStr.length\n  const bytes = new Uint8Array(len)\n  for (let i = 0; i < len; i++) {\n    bytes[i] = binaryStr.charCodeAt(i)\n  }\n  return bytes\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1q-zX\",\"content\":\"styles_content__3YwU-\",\"logo\":\"styles_logo__1x4uj\",\"right\":\"styles_right__1hTGF\",\"hamburger\":\"styles_hamburger__1Mv_n\",\"menu\":\"styles_menu__3_OV-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3vLk8\",\"close\":\"styles_close__3DGXq\",\"content\":\"styles_content__2XaX5\",\"block\":\"styles_block__39a-o\",\"modal\":\"styles_modal__2Yi2m\",\"background\":\"styles_background__1gOPk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3L678\",\"media\":\"styles_media__1WUZH\",\"info\":\"styles_info__2m5IH\",\"title\":\"styles_title__2zLPu\",\"description\":\"styles_description__3ViTs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"styles_loader__gGoGs\",\"container\":\"styles_container__3gSuG\",\"circle\":\"styles_circle__2oCav\",\"message\":\"styles_message__2jEl4\",\"flicker\":\"styles_flicker__2bDI7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3Wzyi\",\"content\":\"styles_content__Bluow\",\"message\":\"styles_message__29H4U\",\"buttons\":\"styles_buttons__ATAj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1LAgr\",\"swap\":\"styles_swap__1FCaL\",\"issuer\":\"styles_issuer__1JbeZ\",\"buttons\":\"styles_buttons__15n2t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__CmtLf\",\"image\":\"styles_image__2lina\",\"number\":\"styles_number__3kN1Q\",\"info\":\"styles_info__31_0L\"};","import React, { useState } from 'react'\nimport { getLanguage } from '../../constants'\nimport { getMimeType } from '../../utils/sanitise'\nimport styles from './styles.module.scss'\n\nconst Buffer = require('buffer').Buffer\n\nexport const Upload = ({\n  label,\n  allowedTypes,\n  allowedTypesLabel,\n  onChange = () => null,\n}) => {\n  const language = getLanguage()\n  const [title, setTitle] = useState(label)\n\n  const onFileChange = async (e) => {\n    const { files } = e.target\n    const file = files[0]\n\n    setTitle(file.name)\n    const mimeType = file.type !== '' ? file.type : await getMimeType(file)\n    const buffer = Buffer.from(await file.arrayBuffer())\n\n    // set reader for preview\n    const reader = new FileReader()\n    reader.addEventListener('load', (e) => {\n      onChange({ title, mimeType, file, buffer, reader: e.target.result })\n    })\n    reader.readAsDataURL(file)\n  }\n\n  const props = {\n    type: 'file',\n    name: 'file',\n  }\n\n  if (allowedTypes) {\n    props['accept'] = allowedTypes.join(',')\n  }\n\n  return (\n    <div className={styles.container}>\n      <label>\n        {title}\n        <input {...props} onChange={onFileChange} />\n      </label>\n      <div className={styles.allowed}>\n        {language.mint.supports}:&nbsp;{allowedTypesLabel}\n      </div>\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2dyud\",\"copy\":\"styles_copy__2Y7a-\",\"buttons\":\"styles_buttons__2Wjkl\",\"warning\":\"styles_warning__Jbe2P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1Yt5m\",\"large\":\"styles_large__3HUg_\",\"xlarge\":\"styles_xlarge__1dVRr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons\":\"styles_buttons__23vi5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2ex09\",\"arButton\":\"styles_arButton__lU3m5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__16cxk\",\"fullscreen\":\"styles_fullscreen__P9Gcw\",\"icon\":\"styles_icon__2Fs38\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"styles_item__1ymhI\",\"image\":\"styles_image__eL5g5\",\"number\":\"styles_number__aWecf\",\"title\":\"styles_title__8Wa6a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"artist\":\"styles_artist__2ObIM\",\"icon\":\"styles_icon__2jZ75\",\"text\":\"styles_text__2Uvfd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2ADv-\",\"number\":\"styles_number__3LWL0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3A2-N\",\"large\":\"styles_large__1NK1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2aeq3\",\"image\":\"styles_image__RLsyH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__wNbun\",\"video\":\"styles_video__32uJf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2vyQ4\",\"userTouch\":\"styles_userTouch__Ig7vu\",\"icons\":\"styles_icons__3ZNUL\"};","import React, { createContext, Component } from 'react'\nimport { withRouter } from 'react-router'\nimport { BeaconWallet } from '@taquito/beacon-wallet'\nimport { TezosToolkit } from '@taquito/taquito'\nimport { setItem } from '../utils/storage'\nimport { KeyStoreUtils } from 'conseiljs-softsigner'\n\nconst { NetworkType } = require('@airgap/beacon-sdk')\nvar ls = require('local-storage')\nconst axios = require('axios')\nconst eztz = require('eztz-lib')\n\nexport const HicetnuncContext = createContext()\n\n// This should be moved to a service so it is only done once on page load\n//const Tezos = new TezosToolkit('https://mainnet-tezos.giganode.io')\nconst Tezos = new TezosToolkit('https://mainnet.smartpy.io')\n\nconst wallet = new BeaconWallet({\n  name: 'hicetnunc.xyz',\n  preferredNetwork: 'mainnet',\n})\nTezos.setWalletProvider(wallet)\n\nclass HicetnuncContextProviderClass extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      // smart contracts\n\n      hDAO: 'KT1AFA2mwNUMNd4SsujE1YYp29vd8BZejyKW',\n      subjkt: 'KT1P69B8exDGuqNysBweuZJSqAmaD4dU3gtU',\n      objkt: 'KT1Hkg5qeNhfwpKW4fXvq7HGZB9z2EnmCCA9',\n\n      // fullscreen. DO NOT CHANGE!\n      fullscreen: false,\n      setFullscreen: (fullscreen) => this.setState({ fullscreen }),\n\n      // theme, DO NO CHANGE!\n      theme: 'light',\n      setTheme: (theme) => {\n        let root = document.documentElement\n\n        const light = theme === 'light'\n\n        setItem('theme', light ? 'light' : 'dark')\n\n        root.style.setProperty(\n          '--background-color',\n          light ? '#ffffff' : '#111111'\n        )\n        root.style.setProperty('--text-color', light ? '#000000' : '#dedede')\n        root.style.setProperty(\n          '--border-color',\n          light ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.3)'\n        )\n        root.style.setProperty(\n          '--shadow-color',\n          light ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.3)'\n        )\n\n        this.setState({ theme })\n      },\n\n      // --------------------\n      // feedback component\n      // --------------------\n      feedback: {\n        visible: false, // show or hide the component\n        message: 'OBJKT minted', // what message to display?\n        progress: true, // do we need to display a progress indicator?\n        confirm: true, // do we display a confirm button?\n        confirmCallback: () => null, // any function to run when the user clicks confirm\n      },\n\n      setFeedback: (props) =>\n        this.setState({ feedback: { ...this.state.feedback, ...props } }),\n\n      // --------------------\n      // feedback component end\n      // --------------------\n      pathname: '',\n\n      address: '',\n\n      op: undefined,\n\n      contract: '',\n\n      setAddress: (address) => this.setState({ address: address }),\n\n      setAuth: (address) => {\n        ls.set('auth', address)\n      },\n\n      updateLs: (key, value) => {\n        ls.set(key, value)\n      },\n\n      getLs: (key) => {\n        return ls.get(key)\n      },\n\n      getAuth: () => {\n        return ls.get('auth')\n      },\n\n      client: null,\n\n      setClient: (client) => {\n        this.setState({\n          client: client,\n        })\n      },\n\n      dAppClient: async () => {\n        this.state.client = wallet.client\n\n        // It doesn't look like this code is called, otherwise the active account should be checked, see below.\n        this.state.client\n          .requestPermissions({\n            network: {\n              type: NetworkType.MAINNET,\n              rpcUrl: 'https://mainnet.smartpy.io',\n            },\n          })\n          .then((permissions) => {\n            this.setState({\n              address: permissions.address,\n            })\n\n            this.state.setAuth(permissions.address)\n          })\n          .catch((error) => console.log(error))\n      },\n\n      mint: async (tz, amount, cid, royalties) => {\n        // show feedback component with followind message and progress indicator\n        this.state.setFeedback({\n          visible: true,\n          message: 'preparing OBJKT',\n          progress: true,\n          confirm: false,\n        })\n\n        // call mint method\n        await Tezos.wallet\n          .at(this.state.objkt)\n          .then((c) =>\n            c.methods\n              .mint_OBJKT(\n                tz,\n                parseFloat(amount),\n                ('ipfs://' + cid)\n                  .split('')\n                  .reduce(\n                    (hex, c) =>\n                      (hex += c.charCodeAt(0).toString(16).padStart(2, '0')),\n                    ''\n                  ),\n                parseFloat(royalties) * 10\n              )\n              .send({ amount: 0 })\n          )\n          .then((op) =>\n            op.confirmation(1).then(() => {\n              this.setState({ op: op.hash }) // save hash\n              // if everything goes okay, show the success message and redirect to profile\n              this.state.setFeedback({\n                message: 'OBJKT minted successfully',\n                progress: true,\n                confirm: false,\n              })\n\n              // hide after 1 second\n              setTimeout(() => {\n                this.state.setFeedback({\n                  visible: false,\n                })\n              }, 1000)\n            })\n          )\n          .catch((err) => {\n            // if any error happens\n            this.state.setFeedback({\n              message: 'an error occurred ',\n              progress: true,\n              confirm: false,\n            })\n\n            // hide after 1 second\n            setTimeout(() => {\n              this.state.setFeedback({\n                visible: false,\n              })\n            }, 1000)\n          })\n      },\n\n      collect: async (objkt_amount, swap_id, amount) => {\n        return await Tezos.wallet\n          .at(this.state.objkt)\n          .then((c) =>\n            c.methods\n              .collect(parseFloat(objkt_amount), parseFloat(swap_id))\n              .send({ amount: parseFloat(amount), mutez: true })\n          )\n          .catch((e) => e)\n      },\n\n      swap: async (objkt_amount, objkt_id, xtz_per_objkt) => {\n        console.log(objkt_amount)\n        return await Tezos.wallet\n          .at(this.state.objkt)\n          .then((c) =>\n            c.methods\n              .swap(\n                parseFloat(objkt_amount),\n                parseFloat(objkt_id),\n                parseFloat(xtz_per_objkt)\n              )\n              .send({ amount: 0 })\n          )\n          .catch((e) => e)\n      },\n\n      curate: async (objkt_id) => {\n        await axios\n          .get(process.env.REACT_APP_REC_CURATE)\n          .then((res) => {\n            return res.data.amount\n          })\n          .then((amt) => {\n            Tezos.wallet\n              .at(this.state.objkt)\n              .then((c) =>\n                c.methods\n                  .curate(\n                    ls.get('hDAO_config') != null\n                      ? parseInt(ls.get('hDAO_config'))\n                      : amt,\n                    objkt_id\n                  )\n                  .send()\n              )\n          })\n      },\n\n      claim_hDAO: async (hDAO_amount, objkt_id) => {\n        console.log('claiming', hDAO_amount, objkt_id)\n        await Tezos.wallet\n          .at('KT1TybhR7XraG75JFYKSrh7KnxukMBT5dor6')\n          .then((c) => {\n            c.methods\n              .claim_hDAO(parseInt(hDAO_amount), parseInt(objkt_id))\n              .send()\n          })\n      },\n\n      burn: async (objkt_id, amount) => {\n        var tz = await wallet.client.getActiveAccount()\n        console.log('trying to burn', parseInt(amount))\n\n        await Tezos.wallet\n          .at('KT1RJ6PbjHpwc3M5rw5s2Nbmefwbuwbdxton')\n          .then(async (c) =>\n            c.methods\n              .transfer([\n                {\n                  from_: tz.address,\n                  txs: [\n                    {\n                      to_: 'tz1burnburnburnburnburnburnburjAYjjX',\n                      token_id: parseInt(objkt_id),\n                      amount: parseInt(amount),\n                    },\n                  ],\n                },\n              ])\n              .send()\n          )\n      },\n\n      cancel: async (swap_id) => {\n        return await Tezos.wallet\n          .at(this.state.objkt)\n          .then((c) =>\n            c.methods.cancel_swap(parseFloat(swap_id)).send({ amount: 0 })\n          )\n          .catch((e) => e)\n      },\n\n      signStr: async (payload) => {\n        const signedPayload = await wallet.client.requestSignPayload(payload)\n        console.log(signedPayload, payload)\n        const signature = signedPayload\n        console.log(signature.signature, payload.payload, await wallet.getPKH())\n        /*         const r = await KeyStoreUtils.checkSignature(\n          signature.signature,\n          payload.payload,\n          await axios.get(`https://tezos-prod.cryptonomic-infra.tech/chains/main/blocks/head/context/contracts/${await wallet.getPKH()}/manager_key`).then(res => res.data)\n        ) */\n\n        const r = await eztz.crypto.verify(\n          payload.payload.toString(),\n          signature.signature,\n          await axios.get(\n            `https://tezos-prod.cryptonomic-infra.tech/chains/main/blocks/head/context/contracts/${await wallet.getPKH()}/manager_key`\n          )\n        )\n        console.log(r)\n      },\n\n      registry: async (alias, metadata) => {\n        return await Tezos.wallet.at(this.state.subjkt).then((c) =>\n          c.methods\n            .registry(\n              alias\n                .split('')\n                .reduce(\n                  (hex, c) =>\n                    (hex += c.charCodeAt(0).toString(16).padStart(2, '0')),\n                  ''\n                ),\n              ('ipfs://' + metadata.path)\n                .split('')\n                .reduce(\n                  (hex, c) =>\n                    (hex += c.charCodeAt(0).toString(16).padStart(2, '0')),\n                  ''\n                )\n            )\n            .send({ amount: 0 })\n        )\n      },\n\n      hDAO_update_operators: async (address) => {\n        return await Tezos.wallet.at(this.state.hDAO).then((c) =>\n          c.methods\n            .update_operators([\n              {\n                add_operator: {\n                  owner: address,\n                  operator: this.state.subjkt,\n                  token_id: 0,\n                },\n              },\n            ])\n            .send({ amount: 0 })\n        )\n      },\n\n      load: false,\n      loading: () => this.setState({ load: !this.state.load }),\n      /* taquito */\n      Tezos: null,\n      wallet: null,\n      acc: null,\n\n      updateMessage: (message) => this.setState({ message: message }),\n\n      setAccount: async () => {\n        this.setState({\n          acc:\n            Tezos !== undefined\n              ? await wallet.client.getActiveAccount()\n              : undefined,\n          address: await wallet.client.getActiveAccount(),\n        })\n      },\n\n      syncTaquito: async () => {\n        const network = {\n          type: 'mainnet',\n          rpcUrl: 'https://mainnet.smartpy.io',\n        }\n\n        // We check the storage and only do a permission request if we don't have an active account yet\n        // This piece of code should be called on startup to \"load\" the current address from the user\n        // If the activeAccount is present, no \"permission request\" is required again, unless the user \"disconnects\" first.\n        const activeAccount = await wallet.client.getActiveAccount()\n        console.log(activeAccount)\n        if (activeAccount === undefined) {\n          console.log('permissions')\n          await wallet.requestPermissions({ network })\n        }\n\n        this.setState({\n          Tezos: Tezos,\n          address: await wallet.getPKH(),\n          acc: await wallet.client.getActiveAccount(),\n          wallet,\n        })\n        this.state.setAuth(await wallet.getPKH())\n        console.log(this.state)\n      },\n\n      disconnect: async () => {\n        console.log('disconnect wallet')\n        // This will clear the active account and the next \"syncTaquito\" will trigger a new sync\n        await wallet.client.clearActiveAccount()\n        this.setState({\n          address: undefined,\n          acc: undefined,\n        })\n      },\n\n      /* \n                airgap/thanos interop methods\n            */\n      operationRequest: async (obj) => {\n        var op = obj.result\n        delete op.mutez\n        op.destination = op.to\n        op.kind = 'transaction'\n        delete op.to\n        console.log(obj.result)\n\n        this.state.client.requestOperation({\n          operationDetails: [obj.result],\n        })\n      },\n\n      timeout: (delay) => {\n        return new Promise((res) => setTimeout(res, delay))\n      },\n\n      signPayload: async (obj) => {\n        await wallet.client\n          .requestSignPayload({\n            payload: obj.payload,\n          })\n          .then(async (response) => {\n            return response.signature\n          })\n          .catch((signPayloadError) => console.error(signPayloadError))\n      },\n\n      balance: 0,\n\n      getBalance: (address) => {\n        axios\n          .get(`https://api.tzkt.io/v1/accounts/${address}/balance_history`, {\n            params: {\n              address: address,\n            },\n          })\n          .then((res) => {\n            console.log(\n              'balance',\n              parseFloat(res.data[res.data.length - 1].balance / 1000000)\n            )\n          })\n          .catch((e) => console.log('balance error', e))\n      },\n\n      collapsed: true,\n\n      toogleNavbar: () => {\n        this.setState({ collapsed: !this.state.collapsed })\n      },\n\n      setMenu: (collapsed) => {\n        this.setState({ collapsed })\n      },\n\n      getStyle: (style) =>\n        style ? { background: 'white' } : { display: 'none' },\n\n      lastPath: '',\n\n      setPath: (path) => {\n        this.setState({\n          lastPath: path,\n        })\n      },\n      title: '',\n      setTitle: (title) => {\n        this.setState({\n          title: title,\n        })\n      },\n      hDAO_vote: ls.get('hDAO_vote'),\n    }\n  }\n\n  render() {\n    return (\n      <HicetnuncContext.Provider\n        value={{\n          ...this.state,\n        }}\n      >\n        {this.props.children}\n      </HicetnuncContext.Provider>\n    )\n  }\n}\n\nconst HicetnuncContextProvider = withRouter(HicetnuncContextProviderClass)\nexport default HicetnuncContextProvider\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__16Osc\",\"interactive\":\"styles_interactive__3dnh5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1DKyt\",\"square\":\"styles_square__3HCRn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"identicon\":\"styles_identicon__1F5nd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"styles_grid__1QPCO\",\"column\":\"styles_column__m8LQL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2hTuV\",\"allowed\":\"styles_allowed__3eXuT\",\"selected\":\"styles_selected__2EdAr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__MNIXz\",\"tag\":\"styles_tag__3C_88\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2t8VV\",\"owner\":\"styles_owner__2rtkt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__17XUG\",\"bio\":\"styles_bio__13kqN\"};","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport classnames from 'classnames'\nimport styles from './styles.module.scss'\n\nexport const Button = ({\n  to = null,\n  href = null,\n  onClick = () => null,\n  children,\n  disabled,\n  fit,\n}) => {\n  const classes = classnames({\n    [styles.container]: true,\n    [styles.disabled]: disabled,\n    [styles.fit]: fit,\n  })\n\n  if (to) {\n    return (\n      <Link to={to} className={classes}>\n        {children}\n      </Link>\n    )\n  }\n\n  if (href) {\n    return (\n      <a\n        href={href}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className={classes}\n      >\n        {children}\n      </a>\n    )\n  }\n  return (\n    <button onClick={onClick} className={classes}>\n      {children}\n    </button>\n  )\n}\n\nexport const Primary = ({ children = null, selected }) => {\n  const classes = classnames({\n    [styles.primary]: true,\n    [styles.selected]: selected,\n  })\n  return <div className={classes}>{children}</div>\n}\n\nexport const Secondary = ({ children = null, selected }) => {\n  const classes = classnames({\n    [styles.secondary]: true,\n    [styles.selected]: selected,\n  })\n  return <div className={classes}>{children}</div>\n}\n\nexport const Purchase = ({ children = null, selected }) => {\n  const classes = classnames({\n    [styles.purchase]: true,\n    [styles.selected]: selected,\n  })\n  return <div className={classes}>{children}</div>\n}\n\nexport const Curate = ({ children = null, selected }) => {\n  const classes = classnames({\n    [styles.curate]: true,\n    [styles.selected]: selected,\n  })\n  return <div className={classes}>{children}</div>\n}\n","import React, { useState, useContext } from 'react'\nimport { HicetnuncContext } from '../../../context/HicetnuncContext'\nimport { Container, Padding } from '../../../components/layout'\nimport { Button, Curate } from '../../../components/button'\nimport { Input } from '../../../components/input'\nimport { Loading } from '../../../components/loading'\n\nexport const Burn = (props) => {\n  const { burn, address } = useContext(HicetnuncContext)\n  const [message, setMessage] = useState() // eslint-disable-line\n  const [amount, setAmount] = useState('')\n  const [progress, setProgress] = useState() // eslint-disable-line\n\n  const totalOwned =\n    (props.owners[address?.address] &&\n      parseInt(props.owners[address?.address])) ||\n    0 // check total the user owns of this token\n\n  const handleSubmit = () => {\n    if (amount === '') {\n      alert('Error: No amount specified.')\n      return\n    }\n\n    if (amount > totalOwned) {\n      alert(\n        `Error: You're trying to burn ${amount}, but you only own ${totalOwned}.`\n      )\n      return\n    }\n\n    const r = global.confirm(\n      `Are you sure you want to burn ${amount} of ${totalOwned}?`\n    )\n    if (r) {\n      setProgress(true)\n      setMessage('burning OBJKT')\n      burn(props.token_id, amount)\n    }\n  }\n\n  return (\n    <>\n      <Container>\n        <Padding>\n          <p>\n            You own {totalOwned} editions of OBJKT#{props.token_id}. How many\n            would you like to burn?\n          </p>\n        </Padding>\n      </Container>\n      <Container>\n        <Padding>\n          <Input\n            type=\"number\"\n            placeholder=\"OBJKTs to burn\"\n            min={1}\n            max={totalOwned}\n            onChange={(e) => setAmount(e.target.value)}\n            disabled={progress}\n          />\n        </Padding>\n      </Container>\n\n      <Container>\n        <Padding>\n          <p>\n            Burning will transfer the OBJKTs from your possession to a burn address. Once\n            in the burn address, the OBJKT can't be recovered or sold. You can\n            only burn tokens that you own. If you have them swapped, you first\n            need to cancel that swap before you try to burn them.\n          </p>\n          <br />\n          <p>\n            <strong>NB: This action is not reversable.</strong>\n          </p>\n        </Padding>\n      </Container>\n\n      <Container>\n        <Padding>\n          <Button onClick={handleSubmit} fit>\n            <Curate>burn</Curate>\n          </Button>\n          <div>\n            <p>{message}</p>\n            {progress && <Loading />}\n          </div>\n        </Padding>\n      </Container>\n    </>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__GZzHE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__qxBg_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1VTzs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__33sGH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"styles_menu__1oMTN\"};","import React, { useEffect, useRef, useState } from 'react'\nimport styles from './styles.module.scss'\n\n/* DOCS: https://modelviewer.dev/ */\nexport const GLBComponent = ({ src, interactive }) => {\n  const ref = useRef()\n  const [width, setWidth] = useState('100px')\n  const [height, setHeight] = useState('100px')\n\n  const props = {\n    className: styles.glb,\n    src,\n    autoplay: true,\n    'auto-rotate': true,\n    'data-js-focus-visible': true,\n    'interaction-prompt': 'none'\n  }\n\n  if (interactive) {\n    props['ar'] = true\n    props['ar-modes'] = 'webxr scene-viewer quick-look'\n    props['camera-controls'] = true\n  }\n\n  const handleResize = () => {\n    if (ref.current) {\n      const { width, height } = ref.current.getBoundingClientRect()\n      setWidth(width)\n      setHeight(height)\n    }\n  }\n\n  useEffect(() => {\n    handleResize()\n    global.addEventListener('resize', handleResize)\n\n    return () => {\n      global.removeEventListener('resize', handleResize)\n    }\n  }, [width, height])\n\n  return (\n    <div className={styles.container} ref={ref}>\n      <model-viewer {...props} style={{ width, height }}>\n        <button slot=\"ar-button\" className={styles.arButton}>\n          AR\n        </button>\n      </model-viewer>\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__34mLF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1Wfg2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__161Xd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__qTtAh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3snt0\"};","import {\n  ALLOWED_MIMETYPES,\n  ALLOWED_FILETYPES_LABEL,\n  ALLOWED_COVER_MIMETYPES,\n  ALLOWED_COVER_FILETYPES_LABEL,\n  MINT_FILESIZE,\n  MIMETYPE,\n} from '../../constants'\nimport React, { Component } from 'react'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\nimport { Container, Padding, Page } from '../../components/layout'\nimport { Input } from '../../components/input'\nimport { Button, Curate, Primary } from '../../components/button'\nimport { Upload } from '../../components/upload'\n\nimport { SigningType } from '@airgap/beacon-sdk'\nimport { char2Bytes } from '@taquito/utils'\nconst { create } = require('ipfs-http-client')\nconst infuraUrl = 'https://ipfs.infura.io:5001'\n\nconst ls = require('local-storage')\n\nexport class Config extends Component {\n  static contextType = HicetnuncContext\n\n  state = {\n    vote: 0,\n    subjkt: '',\n    description: '',\n    social_media: '',\n    subjktUri: '', // uploads image\n  }\n\n  componentWillMount = () => {\n    this.context.syncTaquito()\n  }\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value })\n    console.log(this.state)\n  }\n\n  // config subjkt\n\n  subjkt_config = async () => {\n    const ipfs = create(infuraUrl)    \n    const [file] = this.state.selectedFile\n\n    const buffer = Buffer.from(await file.arrayBuffer())\n\n    this.setState({ avatar : 'ipfs://' + (await ipfs.add(buffer)).path })\n\n    this.context.registry(\n      this.state.subjkt,\n      await ipfs.add(\n        Buffer.from(JSON.stringify({ description: this.state.description }))\n      )\n    )\n    /*     \n\n    signature study\n    \n    const bytes =\n          '05' +\n          char2Bytes(\n            JSON.stringify({\n              alias: this.state.alias,\n              description: this.state.description,\n            })\n          )\n        console.log(bytes)\n        const payload = {\n          signingType: SigningType.MICHELINE,\n          payload: bytes,\n          sourceAddress: this.context.addr,\n        }\n        console.log(payload)\n        this.context.sign(payload) \n        \n        */\n  }\n\n  // upload file\n\n  onFileChange = event => {\n    \n    this.setState({       selectedFile: event.target.files,\n      fileTitle: event.target.files[0].name })\n  \n  }\n  \n  hDAO_operators = () => {\n    this.context.hDAO_update_operators(this.context.acc.address)\n  }\n\n  hDAO_config = () => {\n    // convert float to 10^6\n    ls.set('hDAO_config', this.state.vote)\n  }\n\n  // signature tests\n\n  sign = () => {\n    console.log(this.context.addr)\n    this.context.signStr({\n      /*       payload : \"05\" + char2Bytes(this.state.str) */\n      payload: this.state.str\n        .split('')\n        .reduce(\n          (hex, c) => (hex += c.charCodeAt(0).toString(16).padStart(2, '0')),\n          ''\n        ),\n      /*         sourceAddress: this.context.addr,\n       */\n    })\n  }\n  // delete account\n\n  render() {\n    return (\n      <Page>\n        <Container>\n          <Padding>\n            <div>\n              <button onClick={this.hDAO_operators}>\n                allow subjkt operators \n              </button>\n            </div>\n            <div>\n              <input\n                type=\"text\"\n                name=\"subjkt\"\n                onChange={this.handleChange}\n                placeholder=\"subjkt\"\n              ></input>\n              <br />\n              <input\n                type=\"text\"\n                name=\"description\"\n                onChange={this.handleChange}\n                placeholder=\"description\"\n              ></input>\n              <br />\n              {/* social media */}\n              <Container>\n                <Padding>\n                  <input type=\"file\" onChange={this.onFileChange} />\n                </Padding>\n              </Container>\n              <button onClick={this.subjkt_config}>config</button>\n            </div>\n            <div>\n              <Input\n                type=\"text\"\n                name=\"vote\"\n                onChange={this.handleChange}\n                placeholder=\"\"\n              />\n              <p style={{ fontSize: '12px' }}>\n                hic et nunc DAO  curation parameter\n              </p>\n              <Button onClick={this.hDAO_config} fit>\n                config\n              </Button>\n            </div>\n            {/*             <div>\n              <input type=\"text\" name=\"str\" onChange={this.handleChange} placeholder=\"sign\"></input>\n              <button onClick={this.sign}>sign</button>\n            </div> */}\n          </Padding>\n        </Container>\n      </Page>\n    )\n  }\n}\n","import React from 'react'\nimport styles from './styles.module.scss'\n\nexport const Loading = ({ message }) => {\n  return (\n    <div className={styles.container}>\n      <div className={styles.circle} />\n      {message && <p className={styles.message}>{message}</p>}\n    </div>\n  )\n}\n\nexport const LoadingContainer = ({ loading, children = null }) => {\n  if (loading) {\n    return (\n      <div className={styles.loader}>\n        <Loading />\n      </div>\n    )\n  }\n  return children\n}\n","import React from 'react'\nimport styles from './styles.module.scss'\n\nexport const VisuallyHidden = ({ children = null, as: Comp = 'span' }) => {\n  return <Comp className={styles.container}>{children}</Comp>\n}\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport classnames from 'classnames'\nimport { VisuallyHidden } from '../../visually-hidden'\nimport styles from './styles.module.scss'\n\nexport const Page = ({ title = 'hic et nunc', children = null, large }) => {\n  const classes = classnames({\n    [styles.container]: true,\n    [styles.large]: large,\n  })\n  return (\n    <main className={classes}>\n      <Helmet>\n        {title !== '' ? (\n          <title>hic et nunc - {title}</title>\n        ) : (\n          <title>hic et nunc</title>\n        )}\n      </Helmet>\n      <VisuallyHidden as=\"h1\">{title}</VisuallyHidden>\n      {children}\n    </main>\n  )\n}\n","import React from 'react'\nimport classnames from 'classnames'\nimport styles from './styles.module.scss'\n\nexport const Container = ({ children = null, large, xlarge }) => {\n  const classes = classnames({\n    [styles.container]: true,\n    [styles.large]: large,\n    [styles.xlarge]: xlarge,\n  })\n  return <div className={classes}>{children}</div>\n}\n","import React from 'react'\nimport styles from './styles.module.scss'\n\nexport const Padding = ({ children = null }) => {\n  return <div className={styles.container}>{children}</div>\n}\n","import React from 'react'\nimport styles from './styles.module.scss'\n\nexport const Input = ({\n  type = 'text',\n  placeholder = 'placeholder',\n  name = 'input-name-not-set',\n  min,\n  max,\n  maxlength = 500,\n  label,\n  onChange = () => null,\n  onBlur = () => null,\n  disabled,\n  value,\n}) => (\n  <div className={styles.container}>\n    <label>\n      <input\n        type={type}\n        placeholder={placeholder}\n        name={name}\n        min={min}\n        max={max}\n        maxLength={maxlength}\n        defaultValue={value}\n        onChange={onChange}\n        onBlur={onBlur}\n        disabled={disabled}\n      />\n      <p>{label}</p>\n    </label>\n  </div>\n)\n","export const getItem = (prop) => {\n  return JSON.parse(localStorage.getItem(prop))\n}\n\nexport const setItem = (prop, value) => {\n  localStorage.setItem(prop, JSON.stringify(value))\n\n  return getItem(prop)\n}\n\nexport const removeItem = (prop) => {\n  localStorage.removeItem(prop)\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2e6-S\",\"fit\":\"styles_fit__3eUTf\",\"disabled\":\"styles_disabled__FvkPc\",\"primary\":\"styles_primary__2LQRG\",\"selected\":\"styles_selected__3MM1R\",\"secondary\":\"styles_secondary__zQrlQ\",\"purchase\":\"styles_purchase__UxMYZ\",\"curate\":\"styles_curate__rRIDz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons\":\"styles_buttons__3QtO2\"};","import { createRef, PureComponent } from 'react'\n\nexport class Visualiser extends PureComponent {\n  ref = createRef()\n\n  componentDidMount() {\n    this.ctx = this.ref.current.getContext('2d')\n    this.ratio = Math.max(1, Math.min(global.devicePixelRatio, 2))\n  }\n\n  componentDidUpdate() {\n    this.resize()\n  }\n\n  componentWillUnmount() {\n    cancelAnimationFrame(this.raf)\n  }\n\n  init() {\n    this.audio = new Audio()\n    this.audio.src = this.props.src\n    this.audio.controls = false\n    this.audio.loop = true\n    this.audio.autoplay = false\n    this.audio.crossOrigin = 'anonymous'\n\n    this.audioCtx = new AudioContext()\n\n    this.analyser = this.audioCtx.createAnalyser()\n    // this.analyser.fftSize = 2048\n\n    this.source = this.audioCtx.createMediaElementSource(this.audio)\n    this.source.connect(this.analyser)\n\n    this.source.connect(this.audioCtx.destination)\n\n    this.data = new Float32Array(this.analyser.frequencyBinCount)\n    this.analyser.getFloatTimeDomainData(this.data)\n\n    this.style = getComputedStyle(document.body)\n  }\n\n  play() {\n    this.audio.play()\n\n    this.raf = requestAnimationFrame(this.update)\n  }\n\n  pause(reset) {\n    this.audio.pause()\n\n    cancelAnimationFrame(this.raf)\n\n    if (reset) {\n      this.audio.currentTime = 0\n    }\n  }\n\n  resize() {\n    const width = 320\n    const height = 320\n    this.ctx.canvas.width = width * this.ratio\n    this.ctx.canvas.height = height * this.ratio\n    this.ctx.canvas.style.width = `${width}px`\n    this.ctx.canvas.style.height = `${height}px`\n  }\n\n  update = () => {\n    // this.analyser.getByteFrequencyData(this.data)\n    this.analyser.getFloatTimeDomainData(this.data)\n\n    this.resize()\n\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height)\n\n    // FIRST OPTION (traditional)\n    // let space = this.ctx.canvas.width / this.data.length\n    // this.data.forEach((value, i) => {\n    //   this.ctx.beginPath()\n    //   this.ctx.strokeStyle = 'red'\n    //   this.ctx.moveTo(space * i, this.ctx.canvas.height) //x,y\n    //   this.ctx.lineTo(space * i, this.ctx.canvas.height - value) //x,y\n    //   this.ctx.stroke()\n    // })\n\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height)\n    this.ctx.beginPath()\n\n    for (let i = 0; i < this.data.length; i++) {\n      const x = i\n      const y = (0.5 + this.data[i] / 2) * this.ctx.canvas.height\n\n      if (i === 0) {\n        this.ctx.moveTo(x, y)\n      } else {\n        this.ctx.lineTo(x, y)\n      }\n    }\n\n    this.ctx.strokeStyle = this.style.getPropertyValue('--text-color')\n    this.ctx.lineWidth = 2 * global.devicePixelRatio\n    this.ctx.stroke()\n    this.raf = requestAnimationFrame(this.update)\n  }\n\n  render() {\n    return <canvas ref={this.ref}></canvas>\n  }\n}\n","// import { WalletPostMessageTransport } from '@airgap/beacon-sdk'\nimport { SanitiseOBJKT } from '../utils/sanitise'\nimport { getItem, setItem } from '../utils/storage'\nimport {\n  setLanguage,\n  setObjktBlockList,\n  getObjktBlockList,\n  setWalletBlockList,\n  getWalletBlockList,\n  setBanBlockList,\n} from '../constants'\n\nconst axios = require('axios')\n\n/**\n * This loads the initial data (language.json, o.json, w.json, b.json)\n */\nexport const getInitialData = () => {\n  const language = getItem('language') || setItem('language', 'en')\n\n  return Promise.all([\n    axios.get(`/languages/${language}.json`), // loads language file\n    axios.get(process.env.REACT_APP_BLOCKLIST_OBJKT), // loads blocked objkt\n    axios.get(process.env.REACT_APP_BLOCKLIST_WALLET), // loads blocked wallets\n    axios.get(process.env.REACT_APP_BLOCKLIST_BAN), // blocked wallets (dont allow to visualise in /tz/walletid)\n  ]).then((results) => {\n    setLanguage(results[0].data)\n    setObjktBlockList(results[1].data)\n    setWalletBlockList(results[2].data)\n    setBanBlockList(results[3].data)\n\n    return true\n  })\n}\n\n// filter all feeds to remove objkt and wallets that are blocked.\n// DO NOT CHANGE! (Andre)\nconst filterFeeds = (original) => {\n  const oblock = getObjktBlockList()\n  const wblock = getWalletBlockList()\n\n  const filtered = SanitiseOBJKT(original)\n    // filters objkt's out if they are flagged\n    .filter((i) => !oblock.includes(i.token_id))\n    // filter objkt's out if they're from flagged wallets\n    .filter((i) => !wblock.includes(i.token_info.creators[0]))\n  return filtered\n}\n\n/**\n * Gets Feed for homepage\n * filters it against a blocklist json\n */\nexport const GetLatestFeed = async ({ counter, max_time }) => {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(process.env.REACT_APP_FEED, {\n        params: { counter: counter, max_time: max_time },\n      })\n      .then((res) => {\n        resolve(filterFeeds(res.data.result))\n      })\n  })\n}\n\n/**\n * Gets Feed for homepage hDAO\n */\nexport const GethDAOFeed = async ({ counter }) => {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(process.env.REACT_APP_FEED_HDAO, {\n        params: { counter: counter },\n      })\n      .then((res) => {\n        resolve(filterFeeds(res.data.result))\n      })\n  })\n}\n\n/**\n * Gets Feed for Featured\n */\nexport const GetFeaturedFeed = async ({ counter, max_time }) => {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(process.env.REACT_APP_FEATURED, {\n        params: { counter: counter, max_time: max_time },\n      })\n      .then((res) => {\n        resolve(filterFeeds(res.data.result))\n      })\n  })\n}\n\n/**\n * Get Random Feed\n */\nexport const GetRandomFeed = async ({ counter }) => {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(process.env.REACT_APP_RANDOM, {\n        params: { counter: counter },\n      })\n      .then((res) => {\n        resolve(filterFeeds(res.data.result))\n      })\n  })\n}\n\n/**\n * Get OBJKT detail page\n */\nexport const GetOBJKT = async ({ id }) => {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(process.env.REACT_APP_OBJKT, {\n        params: { id: id },\n      })\n      .then((res) => {\n        resolve(res.data.result)\n      })\n      .catch((e) => reject(e))\n  })\n}\n\n/**\n * Get OBJKT detail page\n */\nexport const GetTags = async ({ tag, page }) => {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(process.env.REACT_APP_TAGS, {\n        params: { tag, page },\n      })\n      .then((res) => {\n        resolve(res.data.result)\n      })\n      .catch((e) => reject(e)) // TODO: send error message to context. have an error component to display the error\n  })\n}\n\n/**\n * Get User Metadata from tzkt.io\n */\nexport const GetUserMetadata = async (walletAddr) => {\n  return await axios.get(\n    `https://api.tzkt.io/v1/accounts/${walletAddr}/metadata`\n  )\n}\n","import React, { useContext } from 'react'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\nimport styles from './styles.module.scss'\n\nexport const ButtonTheme = () => {\n  const context = useContext(HicetnuncContext)\n  return (\n    <div\n      className={styles.container}\n      onClick={() =>\n        context.setTheme(context.theme === 'light' ? 'dark' : 'light')\n      }\n    />\n  )\n}\n","import React from 'react'\nimport { ButtonLanguage } from '../button-language'\nimport { ButtonTheme } from '../button-theme'\nimport { getLanguage } from '../../constants'\nimport styles from './styles.module.scss'\n\nexport const Footer = () => {\n  const language = getLanguage()\n\n  return (\n    <footer className={styles.container}>\n      <div>\n        <div className={styles.copy}>{language.footer.mint}</div>\n        <div className={styles.buttons}>\n          {false && <ButtonLanguage />}\n          <ButtonTheme />\n        </div>\n      </div>\n\n      {false && (\n        <div>\n          <div className={styles.warning}>{language.footer.warning}</div>\n        </div>\n      )}\n    </footer>\n  )\n}\n","import React from 'react'\nimport { motion } from 'framer-motion'\nimport styles from './styles.module.scss'\n\nconst transition = {\n  duration: 0.5,\n  ease: [0.43, 0.13, 0.23, 0.96],\n}\n\nexport const Menu = ({ isOpen = false }) => {\n  const variant = isOpen ? 'opened' : 'closed'\n\n  const top = {\n    closed: {\n      rotate: 0,\n      translateY: 0,\n    },\n    opened: {\n      rotate: 45,\n      translateY: 3,\n    },\n  }\n  const center = {\n    closed: {\n      opacity: 1,\n    },\n    opened: {\n      opacity: 0,\n    },\n  }\n  const bottom = {\n    closed: {\n      rotate: 0,\n      translateY: 0,\n    },\n    opened: {\n      rotate: -45,\n      translateY: -3,\n    },\n  }\n  const lineProps = {\n    strokeWidth: 2,\n    vectorEffect: 'non-scaling-stroke',\n    initial: 'closed',\n    animate: variant,\n    transition,\n  }\n\n  return (\n    <div className={styles.menu}>\n      <motion.svg\n        viewBox=\"0 0 14 14\"\n        overflow=\"visible\"\n        preserveAspectRatio=\"none\"\n      >\n        <motion.line\n          x1=\"2\"\n          x2=\"12\"\n          y1=\"4\"\n          y2=\"4\"\n          variants={top}\n          {...lineProps}\n        />\n        {true && (\n          <motion.line\n            x1=\"2\"\n            x2=\"12\"\n            y1=\"7\"\n            y2=\"7\"\n            variants={center}\n            {...lineProps}\n          />\n        )}\n        {true && (\n          <motion.line\n            x1=\"2\"\n            x2=\"12\"\n            y1=\"10\"\n            y2=\"10\"\n            variants={bottom}\n            {...lineProps}\n          />\n        )}\n      </motion.svg>\n    </div>\n  )\n}\n","export const walletPreview = (wallet) => {\n  try {\n    return `${wallet.slice(0, 5)}...${wallet.slice(\n      wallet.length - 5,\n      wallet.length\n    )}`\n  } catch (e) {\n    return ''\n  }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useContext, useEffect } from 'react'\nimport { useHistory } from 'react-router'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\nimport { Footer } from '../footer'\nimport { Container, Padding } from '../layout'\nimport { Button, Primary } from '../button'\nimport { fadeIn } from '../../utils/motion'\nimport { Menu } from '../icons'\nimport { walletPreview } from '../../utils/string'\nimport { VisuallyHidden } from '../visually-hidden'\nimport styles from './styles.module.scss'\nimport { getItem, setItem } from '../../utils/storage'\n\n/* import { BeaconWallet } from '@taquito/beacon-wallet'\n\nconst wallet = new BeaconWallet({\n  name: 'hicetnunc.xyz',\n  preferredNetwork: 'mainnet',\n}) */\n\nexport const Header = () => {\n  const history = useHistory()\n  const context = useContext(HicetnuncContext)\n\n  useEffect(() => {\n    context.setAccount()\n    context.setTheme(getItem('theme') || setItem('theme', 'dark'))\n  }, [])\n\n  // we assume user isn't connected\n  let button = 'sync'\n\n  // but if they are\n  if (context.acc?.address) {\n    // is menu closed?\n    if (context.collapsed) {\n      button = walletPreview(context.acc.address)\n    } else {\n      // menu is open\n      button = 'unsync'\n    }\n  }\n\n  //const activeAccount = await wallet.client.getActiveAccount()\n  //console.log(activeAccount)\n  const handleRoute = (path) => {\n    context.setMenu(true)\n    history.push(path)\n  }\n\n  const handleSyncUnsync = () => {\n    if (context.acc?.address && !context.collapsed) {\n      // disconnect wallet\n      context.disconnect()\n    } else {\n      // connect wallet\n      context.syncTaquito()\n    }\n  }\n\n  return (\n    <>\n      <header className={styles.container}>\n        <div className={styles.content}>\n          <Button onClick={() => handleRoute('/')}>\n            <div className={styles.logo}>\n              <svg viewBox=\"0 0 196.87 53.23\">\n                <path\n                  d=\"M228.9,79.31H211.51a2.26,2.26,0,0,1-.35-.34.75.75,0,0,1-.16-.42c0-11.42,0-22.85,0-34.43H193.24v35H175.41V26.27H228.9Z\"\n                  transform=\"translate(-32.03 -26.27)\"\n                />\n                <path\n                  d=\"M67.74,43.78V26.42H85.41V79.19H67.91V62.38a4.24,4.24,0,0,0-.52-.57.77.77,0,0,0-.42-.17H50V79.08H32V26.48H49.78v17.3Z\"\n                  transform=\"translate(-32.03 -26.27)\"\n                />\n                <path\n                  d=\"M103.62,43.79V26.43h53.6c.09,5.62,0,11.41.05,17.36Z\"\n                  transform=\"translate(-32.03 -26.27)\"\n                />\n                <path\n                  d=\"M103.71,61.71h53.38V78.84c-4.05.69-38.16.91-53.38.31Z\"\n                  transform=\"translate(-32.03 -26.27)\"\n                />\n              </svg>\n            </div>\n          </Button>\n\n          <div className={styles.right}>\n            <Button onClick={handleSyncUnsync} secondary>\n              <Primary>{button}</Primary>\n            </Button>\n\n            <Button onClick={context.toogleNavbar} secondary>\n              <VisuallyHidden>\n                {`${context.collapsed ? 'show' : 'hide'} menu`}\n              </VisuallyHidden>\n              <Menu isOpen={!context.collapsed} />\n            </Button>\n          </div>\n        </div>\n      </header>\n\n      <AnimatePresence>\n        {!context.collapsed && (\n          <motion.div className={styles.menu} {...fadeIn()}>\n            <Container>\n              <Padding>\n                <nav className={styles.content}>\n                  <ul>\n                    <li>\n                      <Button onClick={() => handleRoute('/hdao')}>\n                        <Primary></Primary>\n                      </Button>\n                    </li>\n                    <li>\n                      <Button onClick={() => handleRoute('/random')}>\n                        <Primary>random</Primary>\n                      </Button>\n                    </li>\n                    <li>\n                      <Button onClick={() => handleRoute('/galleries')}>\n                        <Primary>galleries</Primary>\n                      </Button>\n                    </li>\n                    <li>\n                      <Button onClick={() => handleRoute('/mint')}>\n                        <Primary>\n                          OBJKT<span style={{ fontSize: '16px' }}> (mint)</span>\n                        </Primary>\n                      </Button>\n                    </li>\n                    <li>\n                      <Button onClick={() => handleRoute('/sync')}>\n                        <Primary>manage assets</Primary>\n                      </Button>\n                    </li>\n                    {/*                     <li>\n                      <Button onClick={() => handleRoute('/config')}>\n                        <Primary>config</Primary>\n                      </Button>\n                    </li> */}\n                    <li>\n                      <Button onClick={() => handleRoute('/about')}>\n                        <Primary>about</Primary>\n                      </Button>\n                    </li>\n                    <li>\n                      <Button onClick={() => handleRoute('/faq')}>\n                        <Primary>faq</Primary>\n                      </Button>\n                    </li>\n                  </ul>\n                </nav>\n              </Padding>\n            </Container>\n            <Footer />\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  )\n}\n","export const fadeIn = () => {\n  return {\n    initial: { opacity: 0, transition: { duration: 0.2, ease: 'easeOut' } },\n    animate: { opacity: 1, transition: { duration: 0.2, ease: 'easeOut' } },\n    exit: { opacity: 0, transition: { duration: 0.2, ease: 'easeOut' } },\n  }\n}\n","import { useContext } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\nimport { Loading } from '../loading'\nimport { Button, Purchase } from '../button'\nimport { fadeIn } from '../../utils/motion'\nimport styles from './styles.module.scss'\n\nexport const FeedbackComponent = () => {\n  const context = useContext(HicetnuncContext)\n  const { visible, message, progress, confirm, confirmCallback } =\n    context.feedback\n\n  return (\n    <AnimatePresence>\n      {visible && (\n        <motion.div className={styles.container} {...fadeIn()}>\n          <div className={styles.content}>\n            {progress && <Loading />}\n            <div className={styles.message}>{message}</div>\n\n            {confirm && (\n              <div className={styles.buttons}>\n                <Button onClick={() => confirmCallback()}>\n                  <Purchase>close</Purchase>\n                </Button>\n              </div>\n            )}\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  )\n}\n","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { HicetnuncContext } from '../context/HicetnuncContext'\nimport { Page, Container, Padding } from '../components/layout'\nimport { LoadingContainer } from '../components/loading'\nimport { Button, Primary } from '../components/button'\n\nexport default class Sync extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      addr: '',\n    }\n  }\n\n  static contextType = HicetnuncContext\n\n  componentWillMount = async () => {\n    if (this.context.acc == null) {\n      await this.context.syncTaquito()\n      await this.context.setAccount()\n    } else {\n      await this.context.setAccount()\n    }\n  }\n\n  render() {\n    return this.context.acc !== undefined ? (\n      <Redirect to={`/tz/${this.context.acc.address}`} />\n    ) : (\n      <Page title=\"\">\n        <Container>\n          <Padding>\n            <p>requesting permissions</p>\n            <Button to=\"/sync\">\n              <Primary>try again?</Primary>\n            </Button>\n            <LoadingContainer />\n          </Padding>\n        </Container>\n      </Page>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Page, Container, Padding } from '../../components/layout'\nimport { Button, Primary } from '../../components/button'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\nimport { getLanguage } from '../../constants'\nimport styles from './styles.module.scss'\n\nexport class About extends Component {\n  static contextType = HicetnuncContext\n\n  language = getLanguage()\n\n  state = {\n    reveal: false,\n  }\n\n  reveal = () => {\n    this.setState({\n      reveal: !this.state.reveal,\n    })\n  }\n\n  render() {\n    return (\n      <Page title=\"about\" large>\n        <Container>\n          <Padding>\n            <strong>hic et nunc</strong>\n          </Padding>\n        </Container>\n\n        <Container>\n          <Padding>\n            <p>{this.language.about.paragraphs[0]}</p>\n          </Padding>\n        </Container>\n\n        <Container>\n          <Padding>\n            <p>{this.language.about.paragraphs[1]}</p>\n          </Padding>\n        </Container>\n\n        <Container>\n          <Padding>\n            <p>{this.language.about.paragraphs[2]}</p>\n          </Padding>\n        </Container>\n\n        <Container>\n          <Padding>\n            <div className={styles.buttons}>\n              <p>For consulting, networking or questions get in touch by</p>\n              &nbsp;\n              <Button href=\"mailto:hicetnunc2000@protonmail.com\">\n                <Primary>\n                  <strong>email</strong>\n                </Primary>\n              </Button>\n              <p>,</p>&nbsp;\n              <Button href=\"https://discord.gg/jKNy6PynPK\">\n                <Primary>\n                  <strong>discord</strong>\n                </Primary>\n              </Button>\n              <p>,</p>&nbsp;\n              <Button href=\"https://reddit.com/r/hicetnunc\">\n                <Primary>\n                  <strong>reddit</strong>\n                </Primary>\n              </Button>\n              <p>, or on</p>&nbsp;\n              <Button href=\"https://t.me/hicetnunc2000\">\n                <Primary>\n                  <strong>telegram</strong>\n                </Primary>\n              </Button>\n            </div>\n          </Padding>\n        </Container>\n\n        <Container>\n          <Padding>\n            <div className={styles.buttons}>\n              <p>WIKI is available on</p>&nbsp;\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki\">\n                <Primary>\n                  <strong>github</strong>\n                </Primary>\n              </Button>\n            </div>\n          </Padding>\n        </Container>\n        <Container>\n          <Padding>\n            <p>Community tools:</p>&nbsp;\n            <Button href=\"https://projects.stroep.nl/hicetnunc\">\n              <Primary>\n                <strong>hicetnunc discovery</strong>\n              </Primary>\n            </Button>\n            {false && (\n              <Button href=\"https://projects.stroep.nl/hicetnunc\">\n                <Primary>\n                  <strong>example tool2</strong>\n                </Primary>\n              </Button>\n            )}\n          </Padding>\n        </Container>\n\n        <Container>\n          <Padding>\n            <div className={styles.buttons}>\n              <p>Report</p>&nbsp;\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/issues\">\n                <Primary>\n                  <strong>issues</strong>\n                </Primary>\n              </Button>\n            </div>\n          </Padding>\n        </Container>\n      </Page>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Page, Container, Padding } from '../../components/layout'\nimport { Button, Primary } from '../../components/button'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\nimport styles from './styles.module.scss'\n\nexport class FAQ extends Component {\n  static contextType = HicetnuncContext\n\n  state = {\n    reveal: false,\n  }\n\n  reveal = () => {\n    this.setState({\n      reveal: !this.state.reveal,\n    })\n  }\n\n  render() {\n    return (\n      <Page title=\"faq\" large>\n        <Container>\n          <Padding>\n            <div className={styles.buttons}>\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/Getting-Started-with-Tezos\">\n                <Primary>\n                  <strong>how do I get tezos/make a wallet?</strong>\n                </Primary>\n              </Button>\n            </div>\n            <div className={styles.buttons}>\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/Introduction\">\n                <Primary>\n                  <strong>how do I mint?</strong>\n                </Primary>\n              </Button>\n            </div>\n            <div className={styles.buttons}>\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/Edit-your-profile\">\n                <Primary>\n                  <strong>how do I edit my profile?</strong>\n                </Primary>\n              </Button>\n            </div>\n            <div className={styles.buttons}>\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/How-to-swap-%F0%9F%94%83\">\n                <Primary>\n                  <strong>how do I add/change the price of my OBJKT?</strong>\n                </Primary>\n              </Button>\n            </div>\n            <div className={styles.buttons}>\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/How-to-burn-%F0%9F%94%A5\">\n                <Primary>\n                  <strong>how do I burn my OBJKT?</strong>\n                </Primary>\n              </Button>\n            </div>\n            <div className={styles.buttons}>\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/How-to-resell-%F0%9F%8F%AA\">\n                <Primary>\n                  <strong>how do I resell an OBJKT?</strong>\n                </Primary>\n              </Button>\n            </div>\n            <div className={styles.buttons}>\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/hDAO\">\n                <Primary>\n                  <strong>what is hDAO ?</strong>\n                </Primary>\n              </Button>\n            </div>\n          </Padding>\n        </Container>\n        <Container>\n          <Padding>\n            <div className={styles.buttons}>\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/General\">\n                <Primary>\n                  <strong>general faq</strong>\n                </Primary>\n              </Button>\n            </div>\n            <div className={styles.buttons}>\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/Troubleshooting\">\n                <Primary>\n                  <strong>troubleshooting</strong>\n                </Primary>\n              </Button>\n            </div>\n            <div className={styles.buttons}>\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/Tools-made-by-the-community\">\n                <Primary>\n                  <strong>useful tools</strong>\n                </Primary>\n              </Button>\n            </div>\n          </Padding>\n        </Container>\n        {/*         <Container>\n          <Padding>\n            <div className={styles.buttons}>\n              <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/pt:Home\">\n                <Primary>\n                  <strong>portugus</strong>\n                </Primary>\n              </Button>\n            </div>\n          </Padding>\n        </Container> */}\n      </Page>\n    )\n  }\n}\n","import React from 'react'\nimport { LazyLoadImage } from 'react-lazy-load-image-component'\nimport styles from './styles.module.scss'\n\nexport const ImageComponent = ({ src }) => (\n  <div className={styles.container}>\n    <LazyLoadImage className={styles.image} src={src} alt=\"\" />\n  </div>\n)\n","export const iOS =\n  [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod',\n  ].includes(navigator.platform) ||\n  // iPad on iOS 13 detection\n  (navigator.userAgent.includes('Mac') && 'ontouchend' in document)\n","import React, { useEffect, useRef } from 'react'\nimport { iOS } from '../../../utils/os'\nimport styles from './styles.module.scss'\n\nexport const VideoComponent = ({ src, interactive, inView }) => {\n  const domElement = useRef()\n\n  useEffect(() => {\n    // https://developers.google.com/web/updates/2017/06/play-request-was-interrupted\n    // let promise\n    // if (inView) {\n    //   promise = domElement.current.play()\n    // } else {\n    //   if (promise !== undefined) {\n    //     promise\n    //       .then(() => {\n    //         // Automatic playback started!\n    //         // Show playing UI.\n    //         // We can now safely pause video...\n    //         domElement.current.pause()\n    //       })\n    //       .catch((error) => {\n    //         // Auto-play was prevented\n    //         // Show paused UI.\n    //       })\n    //   }\n    // }\n\n    const isVideoAvailable = (video) => iOS || video.readyState > 2\n\n    const isVideoPlaying = (video) =>\n      !!(\n        video.currentTime > 0 &&\n        !video.paused &&\n        !video.ended &&\n        video.readyState > 2\n      )\n\n    if (inView) {\n      // play\n      if (isVideoAvailable(domElement.current)) {\n        try {\n          domElement.current.play()\n        } catch (err) {\n          console.log(err)\n        }\n      }\n    } else {\n      // pause\n      if (\n        isVideoAvailable(domElement.current) &&\n        isVideoPlaying(domElement.current)\n      ) {\n        try {\n          domElement.current.pause()\n        } catch (err) {\n          console.log(err)\n        }\n      }\n    }\n  }, [inView])\n\n  return (\n    <div className={styles.container}>\n      <video\n        ref={domElement}\n        className={styles.video}\n        autoPlay={inView}\n        playsInline\n        muted\n        loop\n        controls={interactive}\n        src={src}\n      />\n    </div>\n  )\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useRef, useState } from 'react'\nimport classnames from 'classnames'\nimport { PauseIcon, PlayIcon } from './icons'\nimport { Visualiser } from './visualiser'\nimport styles from './styles.module.scss'\n\nexport const AudioComponent = ({ src }) => {\n  const visualiser = useRef()\n  const [userTouched, setUserTouched] = useState(false)\n  const [play, setPlay] = useState(false)\n\n  const togglePlay = () => {\n    setUserTouched(true)\n    setPlay(!play)\n  }\n\n  // user interaction\n  useEffect(() => {\n    if (userTouched) {\n      visualiser.current.init()\n    }\n  }, [userTouched])\n\n  useEffect(() => {\n    if (userTouched) {\n      if (play) {\n        visualiser.current.play()\n      } else {\n        visualiser.current.pause()\n      }\n    }\n  }, [play])\n\n  const classes = classnames({\n    [styles.container]: true,\n    [styles.userTouch]: userTouched,\n  })\n  return (\n    <>\n      <div className={classes}>\n        <audio src={src} controls />\n        {false && <img src=\"/test.png\" alt=\"album cover\" />}\n        {false && <Visualiser ref={visualiser} src={src} />}\n        {false && (\n          <div className={styles.icons} onClick={togglePlay}>\n            {play ? <PauseIcon /> : <PlayIcon />}\n          </div>\n        )}\n      </div>\n    </>\n  )\n}\n","import React, { useContext } from 'react'\nimport classnames from 'classnames'\nimport { HicetnuncContext } from '../../../context/HicetnuncContext'\nimport styles from './styles.module.scss'\n\nexport const VectorComponent = ({ src, interactive, preview, token_info }) => {\n  const context = useContext(HicetnuncContext)\n  const classes = classnames({\n    [styles.container]: true,\n    [styles.interactive]: interactive,\n  })\n\n  let _creator_ = false\n  let _viewer_ = false\n\n  if (token_info && token_info.creators[0]) {\n    _creator_ = token_info.creators[0]\n  }\n\n  if (context.address && context.address.address) {\n    _viewer_ = context.address.address\n  }\n\n  let iframeSrc\n  if (preview) {\n    // can't pass creator/viewer query params to data URI\n    iframeSrc = src\n  } else {\n    iframeSrc = `${src}?creator=${_creator_}&viewer=${_viewer_}`\n  }\n\n  return (\n    <div className={classes}>\n      <iframe\n        title=\"hic et nunc SVG renderer\"\n        src={iframeSrc}\n        sandbox=\"allow-scripts\"\n        scrolling=\"no\"\n      />\n    </div>\n  )\n}\n// svg version:     src={`${src}?author=${_creator_}&viewer=${_viewer_}`}\n// iframe version:  src={`https://hicetnunc2000.github.io/hicetnunc/gh-pages/sandbox-svg.html?src=${src}&creator=${_creator_}&viewer=${_viewer_}`}\n","import React, { useContext, useState, useRef, useEffect } from 'react'\nimport classnames from 'classnames'\nimport { HicetnuncContext } from '../../../context/HicetnuncContext'\nimport { Button } from '../../button'\nimport {\n  dataRUIToBuffer,\n  prepareFilesFromZIP,\n  validateFiles,\n} from '../../../utils/html'\nimport { VisuallyHidden } from '../../visually-hidden'\nimport styles from './styles.module.scss'\n\nconst uid = Math.round(Math.random() * 100000000).toString()\n\nexport const HTMLComponent = ({\n  src,\n  interactive,\n  preview,\n  token_info,\n  displayUri,\n}) => {\n  const context = useContext(HicetnuncContext)\n  const [viewing, setViewing] = useState(interactive)\n\n  let _creator_ = false\n  let _viewer_ = false\n\n  if (token_info && token_info.creators[0]) {\n    _creator_ = token_info.creators[0]\n  }\n\n  if (context.address && context.address.address) {\n    _viewer_ = context.address.address\n  }\n\n  // preview\n  const iframeRef = useRef(null)\n  const unpackedFiles = useRef(null)\n  const unpacking = useRef(false)\n  const [validHTML, setValidHTML] = useState(null)\n  const [validationError, setValidationError] = useState(null)\n\n  const unpackZipFiles = async () => {\n    unpacking.current = true\n\n    const buffer = dataRUIToBuffer(src)\n    const filesArr = await prepareFilesFromZIP(buffer)\n    const files = {}\n    filesArr.forEach((f) => {\n      files[f.path] = f.blob\n    })\n\n    unpackedFiles.current = files\n\n    const result = await validateFiles(unpackedFiles.current)\n    if (result.error) {\n      console.error(result.error)\n      setValidationError(result.error)\n    } else {\n      setValidationError(null)\n    }\n    setValidHTML(result.valid)\n\n    unpacking.current = false\n  }\n\n  if (preview && !unpackedFiles.current && !unpacking.current) {\n    unpackZipFiles()\n  }\n\n  useEffect(() => {\n    const handler = async (event) => {\n      if (event.data !== uid) {\n        return\n      }\n\n      iframeRef.current.contentWindow.postMessage(\n        {\n          target: 'hicetnunc-html-preview',\n          data: unpackedFiles.current,\n        },\n        '*'\n      )\n    }\n\n    window.addEventListener('message', handler)\n\n    return () => window.removeEventListener('message', handler)\n  }, [src])\n\n  const classes = classnames({\n    [styles.container]: true,\n    [styles.interactive]: interactive,\n  })\n\n  if (preview) {\n    // creator is viewer in preview\n    _creator_ = _viewer_\n\n    if (validHTML) {\n      return (\n        <div className={classes}>\n          <iframe\n            ref={iframeRef}\n            title=\"html-zip-embed\"\n            src={`https://hicetnunc2000.github.io/hicetnunc/gh-pages/html-preview/?uid=${uid}&creator=${_creator_}&viewer=${_viewer_}`}\n            sandbox=\"allow-scripts allow-same-origin allow-modals\"\n            allow=\"accelerometer; camera; gyroscope; microphone; xr-spatial-tracking;\"\n          />\n        </div>\n      )\n    } else if (validHTML === false) {\n      return (\n        <div className={styles.error}>Preview Error: {validationError}</div>\n      )\n    }\n  }\n\n  if (!viewing) {\n    return (\n      <div className={classes}>\n        <div className={styles.preview}>\n          <img src={displayUri} alt=\"thumbnail\" />\n          <div className={styles.button}>\n            <Button onClick={() => setViewing(true)}>\n              <VisuallyHidden>View</VisuallyHidden>\n              <svg\n                width=\"54\"\n                height=\"54\"\n                viewBox=\"0 0 54 54\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <g filter=\"url(#filter0_d)\">\n                  <circle cx=\"27\" cy=\"23\" r=\"23\" fill=\"white\" />\n                </g>\n                <path\n                  d=\"M32.8837 35.3528C31.3991 35.3528 29.6798 34.8834 27.7044 33.946C25.4989 32.9004 24.4365 32.9415 23.7354 32.9705C23.1684 32.9964 22.58 33.0162 21.9978 32.434C21.7935 32.2297 20.8653 31.117 22.6898 29.2925C23.5997 28.3826 24.8481 28.1204 25.9318 28.1052L19.6124 21.7858C18.7481 20.9215 18.7497 19.5132 19.6169 18.6459C20.4827 17.7801 21.8911 17.7771 22.7568 18.6428L25.3831 21.2691C25.4867 21.0618 25.6254 20.8682 25.7976 20.6959C26.4012 20.0924 27.267 19.9095 28.026 20.1442C28.1327 19.8424 28.308 19.5589 28.5489 19.3165C29.375 18.4889 30.6965 18.4493 31.5683 19.2007C31.6735 18.9888 31.8153 18.7937 31.986 18.623C32.8532 17.7573 34.2601 17.7542 35.1259 18.62L39.2412 22.7354C41.8217 25.3159 41.5382 29.0517 38.5508 32.0483C38.5492 32.0498 38.5477 32.0514 38.5462 32.0529C38.5401 32.059 38.5325 32.0666 38.5264 32.0742L36.8177 33.7829C35.7554 34.8285 34.4506 35.3528 32.8837 35.3528ZM24.1484 31.4356C24.9807 31.4356 26.2595 31.5728 28.3583 32.5681C32.9081 34.7264 34.7524 33.6762 35.7462 32.6976L37.4625 30.9814C37.4671 30.9768 37.4716 30.9722 37.4747 30.9692C39.29 29.1355 40.5429 26.1892 38.1773 23.8236L34.0498 19.6961C33.7784 19.4263 33.3395 19.4278 33.0651 19.6991C32.7923 19.9719 32.7908 20.4124 33.0605 20.6838L34.0894 21.7126C34.2388 21.862 34.3119 22.0571 34.3119 22.2522C34.3119 22.4473 34.2372 22.6424 34.0894 22.7917C33.7922 23.089 33.309 23.089 33.0118 22.7917L30.6111 20.3911C30.3398 20.1228 29.9008 20.1244 29.628 20.3957C29.3552 20.6685 29.3536 21.109 29.6234 21.3803L31.3382 23.0951C31.4875 23.2444 31.5607 23.4395 31.5607 23.6346C31.5607 23.8297 31.486 24.0248 31.3382 24.1742C31.041 24.4714 30.5578 24.4714 30.2606 24.1742L27.8599 21.7736C27.5886 21.5038 27.1496 21.5068 26.8768 21.7781C26.604 22.051 26.6024 22.4915 26.8722 22.7628L28.587 24.4775C28.7363 24.6269 28.8095 24.822 28.8095 25.0171C28.8095 25.2122 28.7348 25.4073 28.587 25.5567C28.2897 25.8539 27.8066 25.8539 27.5093 25.5567L21.6792 19.7265C21.4094 19.4568 20.9689 19.4583 20.6946 19.7296C20.4217 20.0024 20.4202 20.4429 20.69 20.7142L28.5778 28.6021C28.8247 28.849 28.872 29.23 28.6937 29.5288C28.5153 29.8275 28.1541 29.9693 27.8233 29.8717C27.7944 29.8641 25.063 29.0807 23.7659 30.3763C23.176 30.9661 23.0891 31.3289 23.1043 31.4112C23.1699 31.4569 23.1821 31.4722 23.6744 31.4539C23.8162 31.4417 23.9732 31.4356 24.1484 31.4356Z\"\n                  fill=\"black\"\n                />\n                <path\n                  d=\"M15.9442 23.9226C15.7674 23.9226 15.5814 23.8616 15.4442 23.7489C14.0282 22.5874 13.2158 20.8727 13.2158 19.0451C13.2158 15.6827 15.9503 12.9482 19.3127 12.9482C20.215 12.9482 21.0686 13.1372 21.852 13.5107C22.2316 13.6921 22.3931 14.1463 22.2118 14.5273C22.0304 14.9069 21.5792 15.0684 21.1951 14.887C20.6189 14.6112 19.9864 14.4725 19.3127 14.4725C16.7916 14.4725 14.74 16.5241 14.74 19.0451C14.74 20.3986 15.336 21.6713 16.377 22.5417C16.5706 22.6804 16.6987 22.906 16.6987 23.1605C16.6987 23.5827 16.3649 23.9226 15.9442 23.9226Z\"\n                  fill=\"black\"\n                />\n                <defs>\n                  <filter\n                    id=\"filter0_d\"\n                    x=\"0\"\n                    y=\"0\"\n                    width=\"54\"\n                    height=\"54\"\n                    filterUnits=\"userSpaceOnUse\"\n                    colorInterpolationFilters=\"sRGB\"\n                  >\n                    <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n                    <feColorMatrix\n                      in=\"SourceAlpha\"\n                      type=\"matrix\"\n                      values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n                    />\n                    <feOffset dy=\"4\" />\n                    <feGaussianBlur stdDeviation=\"2\" />\n                    <feColorMatrix\n                      type=\"matrix\"\n                      values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0\"\n                    />\n                    <feBlend\n                      mode=\"normal\"\n                      in2=\"BackgroundImageFix\"\n                      result=\"effect1_dropShadow\"\n                    />\n                    <feBlend\n                      mode=\"normal\"\n                      in=\"SourceGraphic\"\n                      in2=\"effect1_dropShadow\"\n                      result=\"shape\"\n                    />\n                  </filter>\n                </defs>\n              </svg>\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className={classes}>\n      <iframe\n        title=\"html-embed\"\n        src={`${src}?creator=${_creator_}&viewer=${_viewer_}`}\n        sandbox=\"allow-scripts allow-same-origin\"\n        allow=\"accelerometer; camera; gyroscope; microphone; xr-spatial-tracking;\"\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport styles from './styles.module.scss'\n\nexport const UnknownComponent = ({ mimeType }) => {\n  return (\n    <div className={styles.container}>\n      <div className={styles.square}>{mimeType} NOT SUPPORTED (yet)</div>\n    </div>\n  )\n}\n","import React from 'react'\nimport styles from './styles.module.scss'\n\nexport const PdfComponent = ({ src }) => (\n  <div className={styles.container}>\n    <iframe\n      title=\"hic et nunc PDF renderer\"\n      src={`${src}#zoom=50`}\n      scrolling=\"no\"\n    />\n  </div>\n)\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useContext, useEffect, useRef } from 'react'\nimport screenfull from 'screenfull'\nimport { useInView } from 'react-intersection-observer'\nimport classnames from 'classnames'\nimport { iOS } from '../../utils/os'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\nimport styles from './styles.module.scss'\n\n/**\n * Currently fullscreen is disabled on iOS\n * this is mainly because Safari iOS doesn't support fullscreen api.\n */\n\n/**\n * This component handles fullscreen mode\n * and inView prop for lazy loading\n */\nexport const Container = ({\n  children = null,\n  interactive,\n  nofullscreen = false,\n}) => {\n  const context = useContext(HicetnuncContext)\n  const domElement = useRef()\n\n  const { ref, inView } = useInView({\n    threshold: 0,\n  })\n\n  const toggleFullScreen = () => {\n    if (!screenfull.isFullscreen) {\n      screenfull.request(domElement.current, { navigationUI: 'hide' })\n    } else {\n      screenfull.exit()\n    }\n  }\n\n  const fullscreenChange = (e) => {\n    if (iOS) {\n      return\n    }\n\n    if (screenfull.isFullscreen) {\n      context.setFullscreen(true)\n    } else {\n      context.setFullscreen(false)\n    }\n    // simulates resize to fix GLB player\n    window.dispatchEvent(new Event('resize'))\n  }\n\n  useEffect(() => {\n    if (nofullscreen || !iOS) {\n      document.addEventListener('fullscreenchange', fullscreenChange)\n      document.addEventListener(\n        'webkitfullscreenchange',\n        fullscreenChange,\n        false\n      )\n    }\n\n    return () => {\n      if (nofullscreen || !iOS) {\n        document.removeEventListener('fullscreenchange', fullscreenChange)\n        document.removeEventListener(\n          'webkitfullscreenchange',\n          fullscreenChange,\n          false\n        )\n      }\n    }\n  }, [])\n\n  const classes = classnames({\n    [styles.container]: true,\n    [styles.fullscreen]: context.fullscreen,\n  })\n\n  const childrenWithProps = React.Children.map(children, (child) => {\n    if (React.isValidElement(child)) {\n      return React.cloneElement(child, { inView, interactive })\n    }\n    return child\n  })\n\n  return (\n    <div ref={ref}>\n      <div ref={domElement} className={classes}>\n        {interactive && !iOS && !nofullscreen && (\n          <div onClick={toggleFullScreen} className={styles.icon}>\n            {context.fullscreen ? (\n              <svg viewBox=\"0 0 14 14\">\n                <g\n                  fill=\"none\"\n                  fillRule=\"evenodd\"\n                  id=\"Page-1\"\n                  stroke=\"none\"\n                  strokeWidth=\"1\"\n                >\n                  <g\n                    fill=\"#000000\"\n                    transform=\"translate(-257.000000, -257.000000)\"\n                  >\n                    <g transform=\"translate(257.000000, 257.000000)\">\n                      <path d=\"M0,11 L3,11 L3,14 L5,14 L5,9 L0,9 L0,11 L0,11 Z M3,3 L0,3 L0,5 L5,5 L5,0 L3,0 L3,3 L3,3 Z M9,14 L11,14 L11,11 L14,11 L14,9 L9,9 L9,14 L9,14 Z M11,3 L11,0 L9,0 L9,5 L14,5 L14,3 L11,3 L11,3 Z\" />\n                    </g>\n                  </g>\n                </g>\n              </svg>\n            ) : (\n              <svg viewBox=\"0 0 14 14\">\n                <g fill=\"none\" fillRule=\"evenodd\" stroke=\"none\" strokeWidth=\"1\">\n                  <g\n                    fill=\"#000000\"\n                    transform=\"translate(-215.000000, -257.000000)\"\n                  >\n                    <g transform=\"translate(215.000000, 257.000000)\">\n                      <path d=\"M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z\" />\n                    </g>\n                  </g>\n                </g>\n              </svg>\n            )}\n          </div>\n        )}\n        {childrenWithProps}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport ipfsClient from 'ipfs-http-client'\nimport { GLBComponent } from './glb'\nimport { ImageComponent } from './image'\nimport { VideoComponent } from './video'\nimport { AudioComponent } from './audio'\nimport { VectorComponent } from './vector'\nimport { HTMLComponent } from './html'\nimport { UnknownComponent } from './unknown'\nimport { PdfComponent } from './pdf'\nimport { MIMETYPE, IPFS_DIRECTORY_MIMETYPE } from '../../constants'\nimport { Container } from './container'\n\nconst CLOUDFLARE = 'https://cloudflare-ipfs.com/ipfs/'\n// const PINATA = 'https://gateway.pinata.cloud/ipfs/'\nconst IPFS = 'https://ipfs.io/ipfs/'\n\nfunction getInfuraUrl(hash) {\n  const cidv1 = new ipfsClient.CID(hash).toV1()\n  const subomain = cidv1.toString()\n  return `https://${subomain}.ipfs.infura-ipfs.io/`\n}\n\nexport const renderMediaType = (props) => {\n  const {\n    mimeType,\n    uri,\n    interactive = false,\n    preview = false,\n    metadata,\n  } = props\n  const path = uri\n  let url = preview ? uri : `${CLOUDFLARE}${path}`\n\n  switch (mimeType) {\n    /* IMAGES */\n    case MIMETYPE.BMP:\n    case MIMETYPE.GIF:\n    case MIMETYPE.JPEG:\n    case MIMETYPE.PNG:\n    case MIMETYPE.TIFF:\n    case MIMETYPE.WEBP:\n      return (\n        <Container interactive={interactive}>\n          <ImageComponent src={url} />\n        </Container>\n      )\n    /* VECTOR */\n    case MIMETYPE.SVG:\n      return (\n        <Container interactive={interactive}>\n          <VectorComponent {...metadata} src={url} preview={preview} />\n        </Container>\n      )\n    /* HTML ZIP */\n    case IPFS_DIRECTORY_MIMETYPE:\n    case MIMETYPE.ZIP:\n    case MIMETYPE.ZIP1:\n    case MIMETYPE.ZIP2:\n      if (!preview) {\n        url = getInfuraUrl(path)\n      }\n      let displayUri = ''\n      // old\n      if (metadata && metadata.token_info && metadata.token_info.displayUri) {\n        displayUri = metadata.token_info.displayUri.replace(\n          'ipfs://',\n          CLOUDFLARE\n        )\n      }\n\n      // new\n      // if (metadata && metadata.display_uri) {\n      //   displayUri = metadata.display_uri.replace('ipfs://', CLOUDFLARE)\n      // }\n\n      return (\n        <Container interactive={interactive}>\n          <HTMLComponent\n            {...metadata}\n            src={url}\n            preview={preview}\n            displayUri={displayUri}\n          />\n        </Container>\n      )\n    /* VIDEOS */\n    case MIMETYPE.MP4:\n    case MIMETYPE.OGV:\n    case MIMETYPE.QUICKTIME:\n    case MIMETYPE.WEBM:\n      url = preview ? uri : `${IPFS}${path}`\n      return (\n        <Container interactive={interactive} nofullscreen>\n          <VideoComponent src={url} />\n        </Container>\n      )\n    /* 3D */\n    case MIMETYPE.GLB:\n    case MIMETYPE.GLTF:\n      return (\n        <Container interactive={interactive}>\n          <GLBComponent src={url} />\n        </Container>\n      )\n    /* AUDIO */\n    case MIMETYPE.MP3:\n    case MIMETYPE.OGA:\n    case MIMETYPE.FLAC:\n    case MIMETYPE.WAV:\n      url = preview ? uri : `${IPFS}${path}`\n      return (\n        <Container interactive={interactive}>\n          <AudioComponent {...metadata} src={url} />\n        </Container>\n      )\n    /* PDF */\n    case MIMETYPE.PDF:\n      return (\n        <Container interactive={interactive}>\n          <PdfComponent src={url} />\n        </Container>\n      )\n    default:\n      return <UnknownComponent mimeType={mimeType} />\n  }\n}\n","import React from 'react'\nimport base from 'base-x'\nimport styles from './styles.module.scss'\n\nconst alphabet58 = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\nconst base58 = base(alphabet58)\n\nconst s = 64\n\nfunction bound(n, sq) {\n  return Math.abs((sq - n) % sq)\n}\n\nfunction corner({ x, y }) {\n  const d = 13\n  const d2 = d * 2\n  const s2 = s - d\n  const q = s * 2 - d2\n  return x + y < d || x + y > q || (x > s2 && y < d) || (y > s2 && x < d)\n}\n\nfunction newPath(path) {\n  return path.substr(-2) !== 'M '\n}\n\nfunction avatar(address) {\n  const decoded = base58.decode(address.trim().substr(3))\n  const hex = decoded.toString('hex')\n  const check = hex.split('').reduce((sum, x) => sum + parseInt(x, 16), 0)\n  const sum = hex\n    .split('')\n    .slice(-5)\n    .reduce((sum, x) => sum + parseInt(x, 16), 0)\n\n  const xsb = []\n  for (let i = 0; i < hex.length - 2; i++) {\n    const n = parseInt(`${hex[i]}${hex[i + 1]}${hex[i + 2]}`, 16) + check\n    const x = bound(Math.round((n || s / 2) / s), s)\n    const y = bound(Math.round(n / (x || s / 2)), s)\n    xsb.push({ x, y, n })\n  }\n\n  let path = 'M '\n  let disk = false\n  for (let i = 0; i < xsb.length; i++) {\n    const n = xsb[i]\n    if (newPath(path)) {\n      if (corner(n) && n.n % 2 === 0 && (n.x + n.y) % 7 < 2) {\n        const r = (n.x % 5) + (n.y % 7)\n        path += `\n          M ${bound(n.x + s / 10, s) - r}, ${bound(n.y + s / 10, s)}\n          a ${r},${r} 0 1,0 ${r * 2},0\n          a ${r},${r} 0 1,0 -${r * 2},0\n        `\n        disk = true\n      } else if (n.n % 7 === 3) {\n        const r = (n.x % 5) + (n.y % 7)\n        path += `\n          M ${bound(n.x + s / 10, s) - r}, ${bound(n.y + s / 10, s)}\n          a ${r},${r} 0 1,0 ${r * 2},0\n          a ${r},${r} 0 1,0 -${r * 2},0\n        `\n        disk = true\n      } else if (n.n % 2 === 0 && n.x % 5 < 3) {\n        path += ` M ${n.x},${n.y}`\n        path += ` L ${n.x},${n.y}`\n        disk = false\n      } else if (n.n % 2 === 1) {\n        path += ` M ${n.x},${n.y}`\n        path += ` L ${n.y},${n.x}`\n        disk = false\n      } else {\n        path += ` M ${n.x},${n.y}`\n        path += ` L ${n.x},${n.y}`\n        disk = false\n        if (i < xsb.length - 2) {\n          path += ` ${xsb[i + 1].x},${xsb[i + 1].y}`\n          path += ` ${xsb[i + 2].x},${xsb[i + 2].y}`\n        }\n      }\n    } else if (!disk) {\n      path += ` ${n.x},${n.y}`\n      disk = false\n    } else {\n      path += ` M ${n.x},${n.y}`\n      path += ` L ${n.x},${n.y}`\n      disk = false\n    }\n  }\n  return [path, sum]\n}\n\nconst identicons = [\n  (path, _address) => (\n    <svg viewBox={`0 0 ${s} ${s}`} xmlns=\"http://www.w3.org/2000/svg\">\n      <path id=\"path\" d={`${path}`} />\n    </svg>\n  ),\n  (path, address) => (\n    <svg viewBox={`0 0 ${s} ${s}`} xmlns=\"http://www.w3.org/2000/svg\">\n      <filter\n        id={`filter${address}`}\n        x=\"0%\"\n        y=\"0%\"\n        width=\"100%\"\n        height=\"100%\"\n        filterUnits=\"objectBoundingBox\"\n        primitiveUnits=\"userSpaceOnUse\"\n      >\n        <feMorphology\n          operator=\"erode\"\n          radius=\"3 1\"\n          x=\"0%\"\n          y=\"0%\"\n          width=\"100%\"\n          height=\"100%\"\n          in=\"SourceGraphic\"\n          result=\"morphology\"\n        />\n      </filter>\n      <path\n        id=\"path\"\n        d={`${path}`}\n        style={{ filter: `url(#filter${address})` }}\n      />\n    </svg>\n  ),\n  (path, address) => (\n    <svg viewBox={`0 0 ${s} ${s}`} xmlns=\"http://www.w3.org/2000/svg\">\n      <filter id={`filter${address}`}>\n        <feTurbulence\n          type=\"turbulence\"\n          baseFrequency=\"0.005\"\n          numOctaves=\"4\"\n          result=\"turbulence\"\n        />\n        <feDisplacementMap\n          in2=\"turbulence\"\n          in=\"SourceGraphic\"\n          scale=\"30\"\n          xChannelSelector=\"R\"\n          yChannelSelector=\"G\"\n        />\n        <feMorphology operator=\"dilate\" radius=\"0.5\" />\n        <feMorphology operator=\"erode\" radius=\"0.5\" />\n      </filter>\n      <path\n        id=\"path\"\n        d={`${path}`}\n        style={{ filter: `url(#filter${address})` }}\n      />\n    </svg>\n  ),\n  (path, address) => (\n    <svg viewBox={`0 0 ${s} ${s}`} xmlns=\"http://www.w3.org/2000/svg\">\n      <filter id={`filter${address}`}>\n        <feTurbulence\n          type=\"turbulence\"\n          baseFrequency=\"0.005\"\n          numOctaves=\"4\"\n          result=\"turbulence\"\n        />\n        <feDisplacementMap\n          in2=\"turbulence\"\n          in=\"SourceGraphic\"\n          scale=\"50\"\n          xChannelSelector=\"R\"\n          yChannelSelector=\"G\"\n        />\n        <feMorphology operator=\"erode\" radius=\"0.5\" />\n      </filter>\n      <path\n        id=\"path\"\n        d={`${path}`}\n        style={{ filter: `url(#filter${address})` }}\n      />\n    </svg>\n  ),\n  (path, address) => (\n    <svg viewBox={`0 0 ${s} ${s}`} xmlns=\"http://www.w3.org/2000/svg\">\n      <filter id={`filter${address}`}>\n        <feTurbulence\n          type=\"turbulence\"\n          baseFrequency=\"0.5 0\"\n          numOctaves=\"1\"\n          result=\"turbulence\"\n        />\n        <feDisplacementMap\n          in2=\"turbulence\"\n          in=\"SourceGraphic\"\n          scale=\"10\"\n          xChannelSelector=\"R\"\n          yChannelSelector=\"G\"\n        />\n      </filter>\n      <path\n        id=\"path\"\n        d={`${path}`}\n        style={{ filter: `url(#filter${address})` }}\n      />\n    </svg>\n  ),\n  (path, address) => (\n    <svg viewBox={`0 0 ${s} ${s}`} xmlns=\"http://www.w3.org/2000/svg\">\n      <filter id={`filter${address}`}>\n        <feTurbulence\n          type=\"turbulence\"\n          baseFrequency=\"0.05 0.5\"\n          numOctaves=\"1\"\n          result=\"turbulence\"\n        />\n        <feDisplacementMap\n          in2=\"turbulence\"\n          in=\"SourceGraphic\"\n          scale=\"10\"\n          xChannelSelector=\"R\"\n          yChannelSelector=\"G\"\n        />\n      </filter>\n      <path\n        id=\"path\"\n        d={`${path}`}\n        style={{ filter: `url(#filter${address})` }}\n      />\n    </svg>\n  ),\n  (path, address) => (\n    <svg viewBox={`0 0 ${s} ${s}`} xmlns=\"http://www.w3.org/2000/svg\">\n      <filter id={`filter${address}`}>\n        <feMorphology operator=\"erode\" radius=\"1\" />\n      </filter>\n      <path\n        id=\"path\"\n        d={`${path}`}\n        style={{ filter: `url(#filter${address})` }}\n      />\n    </svg>\n  ),\n  (path, address) => (\n    <svg viewBox={`0 0 ${s} ${s}`} xmlns=\"http://www.w3.org/2000/svg\">\n      <filter id={`filter${address}`}>\n        <feMorphology operator=\"dilate\" radius=\"1.2\" />\n      </filter>\n      <path\n        id=\"path\"\n        d={`${path}`}\n        style={{ filter: `url(#filter${address})` }}\n      />\n    </svg>\n  ),\n  (path, address) => (\n    <svg viewBox={`0 0 ${s} ${s}`} xmlns=\"http://www.w3.org/2000/svg\">\n      <filter id={`filter${address}`} x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">\n        <feTile in=\"SourceGraphic\" x=\"16\" y=\"16\" width=\"98\" height=\"98\" />\n        <feTile />\n      </filter>\n      <path\n        id=\"path\"\n        d={`${path}`}\n        style={{ filter: `url(#filter${address})` }}\n      />\n    </svg>\n  ),\n  (path, address) => (\n    <svg viewBox={`0 0 ${s} ${s}`} xmlns=\"http://www.w3.org/2000/svg\">\n      <filter id={`filter${address}`}>\n        <feTurbulence\n          type=\"turbulence\"\n          baseFrequency=\"0.05\"\n          numOctaves=\"2\"\n          result=\"turbulence\"\n        />\n        <feDisplacementMap\n          in2=\"turbulence\"\n          in=\"SourceGraphic\"\n          scale=\"20\"\n          xChannelSelector=\"R\"\n          yChannelSelector=\"G\"\n        />\n      </filter>\n      <path\n        id=\"path\"\n        d={`${path}`}\n        style={{ filter: `url(#filter${address})` }}\n      />\n    </svg>\n  ),\n]\n\nexport const Identicon = ({ address = '', logo }) => {\n  if (logo) {\n    return (\n      <div className={styles.identicon}>\n        <img\n          src={`https://services.tzkt.io/v1/avatars2/${address}`}\n          alt=\"identicon\"\n        />\n      </div>\n    )\n  }\n\n  const [path, xsa] = avatar(address)\n  const identicon = identicons[xsa % identicons.length](path, address)\n\n  return <div className={styles.identicon}>{identicon}</div>\n}\n","import SimpleSelect from \"./SimpleSelect\"\n\nexport default SimpleSelect","import React from \"react\";\nimport \"./SimpleSelect.scss\";\nimport \"./SimpleSelect-cancel.css\";\nimport \"./SimpleSelect-openArrow.css\";\nimport \"./SimpleSelect-legend.css\";\nimport \"./SimpleSelect-options.scss\";\nimport \"./SimpleSelect-display.css\";\n\n//https://jasonwatmore.com/post/2018/04/14/react-npm-how-to-publish-a-react-component-to-npm\nclass SimpleSelect extends React.Component {\n  constructor(props) {\n    const createTime = new Date().getTime();\n    super(props);\n    this.optionContainerRef = React.createRef();\n    this.dropdownButton = React.createRef();\n    this.optionSelected = this.optionSelected.bind(this);\n    this.cancelSelection = this.cancelSelection.bind(this);\n    this.openSelect = this.openSelect.bind(this);\n    this.handleOutsideOptionsClick = this.handleOutsideOptionsClick.bind(this);\n    this.handleKeyboard = this.handleKeyboard.bind(this);\n    this.renderOption = this.renderOption.bind(this);\n    this.renderOptionLabel = this.renderOptionLabel.bind(this);\n    this.setOption = this.setOption.bind(this);\n\n    const optionValidation = this.checkOptionType(props.options);\n\n\n    //add index to each option for ease of rendering and value retrieval (this is what allows us to let value be any data type)\n    const initialOptions = props.options ? props.options : [];\n    const optionsWithIndexProp = initialOptions.map((x, idx) => {\n      x._idx = idx;\n      return x;\n    });\n    const blankValue = { value: \"\", label: \"\" };\n    const defaultValue =\n      props.defaultValue &&\n      optionsWithIndexProp.find(x => x.value === props.defaultValue)\n        ? optionsWithIndexProp.find(x => x.value === props.defaultValue)\n        : blankValue;\n\n    this.state = {\n      createTime: createTime,\n      blankValue: blankValue,\n      validOptions: optionValidation.valid,\n      invalidReason: optionValidation.reason,\n      currentOptionSelected: defaultValue,\n      //add in initial currentOptionIndex\n      legendLabel: props.legendLabel ? props.legendLabel : \"\",\n      selectOpen: false,\n      options: optionsWithIndexProp,\n      width: props.width ? props.width : \"\",\n      focusedOptionIndex: 0,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleOutsideOptionsClick);\n    document.addEventListener(\"keydown\", this.handleKeyboard);\n    const finishTime = new Date().getTime();\n    // console.log(\n    //   `Id: ${this.props.id} CreateTime: ${finishTime - this.state.createTime}ms`\n    // );\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleOutsideOptionsClick);\n    document.removeEventListener(\"keydown\", this.handleKeyboard);\n  }\n\n  checkOptionType(options) {\n    if (!Array.isArray(options))\n      return { valid: false, reason: \"Illegal options. Expected an array.\" };\n    //check first item as a courtesy\n    const opt1 = options[0];\n    if (\n      !(\n        typeof opt1 === \"object\" &&\n        opt1.value !== undefined &&\n        opt1.label !== undefined\n      )\n    ) {\n      console.error(\n        \"Options expected to be objects with at least 2 props 'value' and 'label'\",\n        opt1\n      );\n      return {\n        valid: false,\n        reason:\n          \"Options expected to be objects with at least 2 props 'value' and 'label'\"\n      };\n    }\n    return {\n      valid: true,\n      reason: \"\"\n    };\n  }\n\n  handleOutsideOptionsClick(e) {\n    //console.log(\"outside Click handler\", e.target, this.dropdownButton);\n    const clickContainsOptionContainer =\n      this.optionContainerRef.current &&\n      this.optionContainerRef.current.contains(e.target);\n    const clickContainsDropDownButton =\n      this.dropdownButton.current &&\n      this.dropdownButton.current.contains(e.target);\n    if (!clickContainsOptionContainer && !clickContainsDropDownButton) {\n      this.setState({\n        ...this.state,\n        focusedOptionIndex: 0,\n        selectOpen: false\n      });\n    }\n  }\n\n  handleKeyboard(e) {\n    if (this.state.selectOpen) {\n      //find current focused/hovered item and move relative to that.\n      const maxOptionIndex = this.state.options.length - 1;\n      if (e.key === 'ArrowDown') {\n        const newIndex = this.state.focusedOptionIndex === maxOptionIndex ? 0 : this.state.focusedOptionIndex + 1;\n        this.optionContainerRef.current.querySelector(`div[index=\"${newIndex}\"]`).scrollIntoViewIfNeeded(false);\n        this.setState({\n          ...this.state,\n          focusedOptionIndex: newIndex\n        })\n      }\n      if (e.key === 'ArrowUp') {\n        const newIndex = (this.state.focusedOptionIndex === 0) ? maxOptionIndex : this.state.focusedOptionIndex - 1;\n        this.optionContainerRef.current.querySelector(`div[index=\"${newIndex}\"]`).scrollIntoViewIfNeeded(true);\n        this.setState({\n          ...this.state,\n          focusedOptionIndex: newIndex\n        })\n      }\n      if (e.key === 'Enter') {\n        const optionIndex = this.state.focusedOptionIndex;\n        const optionByIndex = this.state.options[optionIndex];\n        if (this.props.onChange) {\n          this.props.onChange(e, optionByIndex.value, optionByIndex);\n        }\n        this.setOption(optionByIndex, optionIndex);\n      }\n    }\n  }\n\n  findOptionWrapper(el) {\n    if (el.getAttribute(\"index\")) return el;\n    return this.findOptionWrapper(el.parentNode);\n  }\n\n  optionSelected(e) {\n    const optionWrapper = this.findOptionWrapper(e.target)\n    const optionIndex = parseInt(optionWrapper.getAttribute(\"index\"), 10);\n    const optionByIndex = this.state.options[optionIndex];\n    if (this.props.onChange) {\n      this.props.onChange(e, optionByIndex.value, optionByIndex);\n    }\n    this.setOption(optionByIndex, optionIndex);\n  }\n\n  setOption(option, knownIndex) {\n    const index = (knownIndex) ? knownIndex : this.state.options.findIndex(opt => opt.value === option.value && opt.label === option.label);\n    this.setState({\n      ...this.state,\n      currentOptionSelected: option,\n      currentOptionIndex: index,\n      focusedOptionIndex: 0, //reset focus\n      selectOpen: false //resetOpen\n    });\n  }\n\n  openSelect(e) {\n    const selectOpen = this.state.selectOpen;\n    this.setState({\n      ...this.state,\n      selectOpen: !selectOpen\n    });\n  }\n\n  cancelSelection(e) {\n    if (this.props.onChange) {\n      this.props.onChange(e);\n    }\n    this.setState({\n      ...this.state,\n      currentOptionSelected: this.state.blankValue,\n      focusedOptionIndex: 0,\n      selectOpen: false\n    });\n    e.stopPropagation(); //since cancel and dropdown are part of same dom tree we don't want the open/close to fire as well.\n  }\n\n  renderOptionLabel(opt) {\n    if (this.props.renderOptionLabel && opt !== this.state.blankValue) {\n      return this.props.renderOptionLabel(opt);\n    } else {\n      return opt.label;\n    }\n  }\n\n  renderOption(opt) {\n    const focusedClass = opt._idx === this.state.focusedOptionIndex ? ' focused_option' : '';\n    return (\n      <div\n        onClick={this.optionSelected}\n        key={`_select_opts${opt._idx}`}\n        index={opt._idx}\n        className={`select_option${focusedClass}`}\n      >\n        {this.renderOptionLabel(opt)}\n      </div>\n    );\n  }\n\n  render() {\n    if (!this.state.validOptions)\n      return <div>Invalid Options: {this.state.invalidReason}</div>;\n    const opts = this.state.options.map(x => {\n      return this.renderOption(x);\n    });\n\n    const style = {\n      width: this.state.width ? this.state.width : \"100%\",\n      display: this.props.inline ? 'inline-block' : 'block'\n    };\n    const fixedHeightClassName = this.props.fixedHeight ? \"fixedHeight\" : \"\";\n    const cornerClassName = this.props.hasSharpCorners ? \"\" : \"roundedCorners\";\n    const selectOpenClosedClass = this.state.selectOpen ? \"selectOpen\" : \"selectClosed\";\n    const valueSelected = this.state.currentOptionSelected.value === \"\" ? \"\" : \"valueSelected\";\n    const coreCssClassNames = ['mySelectDefault', selectOpenClosedClass, valueSelected, fixedHeightClassName, cornerClassName];\n    const cancelButton = (\n      <div className=\"cancelContainer\" onClick={this.cancelSelection}>\n        <div className=\"cancelContent\">\n          <svg\n            aria-hidden=\"true\"\n            focusable=\"false\"\n            height=\"20\"\n            viewBox=\"0 0 20 20\"\n            width=\"20\"\n          >\n            <path d=\"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z\" />\n          </svg>\n        </div>\n      </div>\n    );\n    const cancelSection = this.props.nonCancelable ? '' : cancelButton;\n    return (\n      <div className={coreCssClassNames.filter(x => x).join(\" \")} style={style}>\n        <div className=\"fieldset\">\n          <div className=\"legend\">{this.state.legendLabel}</div>\n          <div className=\"mainSectionWrapper\" onClick={this.openSelect} ref={this.dropdownButton}>\n            <div className=\"selectedDisplay\">\n              {this.renderOptionLabel(this.state.currentOptionSelected)}\n            </div>\n            {cancelSection}\n            <div className=\"downArrowContainer\">\n              <div className=\"downArrowContent\">\n                <svg\n                  aria-hidden=\"true\"\n                  focusable=\"false\"\n                  height=\"20\"\n                  viewBox=\"0 0 20 20\"\n                  width=\"20\"\n                >\n                  <path d=\"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n          <div\n            className={`mySelectDefaultOptions`}\n            ref={this.optionContainerRef}\n          >\n            {opts}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SimpleSelect;\n","import React, { Component } from 'react'\nimport { Button, Primary, Secondary } from '../../components/button'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\nimport { Page, Container, Padding } from '../../components/layout'\nimport { Loading } from '../../components/loading'\nimport { renderMediaType } from '../../components/media-types'\nimport { Identicon } from '../../components/identicons'\nimport { walletPreview } from '../../utils/string'\nimport { SanitiseOBJKT } from '../../utils/sanitise'\nimport { PATH } from '../../constants'\nimport { VisuallyHidden } from '../../components/visually-hidden'\nimport { GetUserMetadata } from '../../data/api'\nimport { ResponsiveMasonry } from '../../components/responsive-masonry'\nimport Select from '../../components/select'\nimport styles from './styles.module.scss'\nimport _ from \"lodash\"\n\nconst axios = require('axios')\n\nconst sortByTokenId = (a, b) => {\n  return b.token_id - a.token_id\n}\n\nconst sortOptions = [\n  {value: \"newest\", label: \"newest\", sortFunction: (arr) => { return _.sortBy(arr, \"token_id\").reverse() }},\n  {value: \"oldest\", label: \"oldest\", sortFunction: (arr) => { return _.sortBy(arr, \"token_id\") }},\n  {value: \"random\", label: \"random\", sortFunction: (arr) => { return _.shuffle(arr) }}\n]\n\nexport default class Display extends Component {\n  static contextType = HicetnuncContext\n\n  state = {\n    wallet: '',\n    walletPrev:\n      window.location.pathname.split('/')[1] === 'tz'\n        ? walletPreview(window.location.pathname.split('/')[2])\n        : window.location.pathname.split('/')[1],\n    subjkt: '',\n    render: false,\n    loading: true,\n    results: [],\n    objkts: [],\n    creations: [],\n    collection: [],\n    market: [],\n    creationsState: true,\n    collectionState: false,\n    marketState: false,\n    hdao: 0,\n    sorting: \"newest\"\n  }\n\n  componentWillMount = async () => {\n    if (window.location.pathname.split('/')[1] === 'tz') {\n      this.setState({\n        wallet: window.location.pathname.split('/')[2],\n        walletPreview: walletPreview(window.location.pathname.split('/')[2]),\n      })\n\n      await GetUserMetadata(window.location.pathname.split('/')[2]).then(\n        (data) => {\n          if (data.data.alias) this.setState({ alias: data.data.alias })\n          if (data.data.description)\n            this.setState({ description: data.data.description })\n          if (data.data.site) this.setState({ site: data.data.site })\n          if (data.data.telegram)\n            this.setState({ telegram: data.data.telegram })\n          if (data.data.twitter) this.setState({ twitter: data.data.twitter })\n          if (data.data.github) this.setState({ github: data.data.github })\n          if (data.data.reddit) this.setState({ reddit: data.data.reddit })\n          if (data.data.instagram)\n            this.setState({ instagram: data.data.instagram })\n          if (data.data.logo) this.setState({ logo: data.data.logo })\n        }\n      )\n    } else {\n      await axios\n        .post(process.env.REACT_APP_SUBJKT, {\n          subjkt: window.location.pathname.split('/')[1],\n        })\n        .then((res) => {\n          this.setState({\n            wallet: res.data.result[0].tz,\n            walletPrev: window.location.pathname.split('/')[1],\n            subjkt: window.location.pathname.split('/')[1],\n          })\n        })\n    }\n\n    this.context.setPath(window.location.pathname)\n    /*     if (window.location.pathname.split('/')[3] === 'creations') {\n      this.setState({\n        creationsState: true,\n        collectionState: false,\n        marketState: false,\n      })\n    } else if (window.location.pathname.split('/')[3] === 'collection') {\n      this.setState({\n        creationsState: false,\n        collectionState: true,\n        marketState: false,\n      })\n    } else if (window.location.pathname.split('/')[3] === 'market') {\n      this.setState({\n        creationsState: false,\n        collectionState: false,\n        marketState: true,\n      })\n    } */\n\n    await axios\n      .get(process.env.REACT_APP_TZ, {\n        params: { tz: this.state.wallet },\n      })\n      .then(async (res) => {\n        this.setState({\n          hdao: res.data.hdao / 1_000_000,\n        })\n\n        const sanitised = SanitiseOBJKT(res.data.result)\n\n        const creations = sanitised.filter(\n          (e) => this.state.wallet === e.token_info.creators[0]\n        )\n        const collection = sanitised.filter(\n          (e) => this.state.wallet !== e.token_info.creators[0]\n        )\n\n        const market = {}\n\n        // filter market that were created by the user\n        Object.keys(res.data.swaps).forEach((e) => {\n          // all swaps include swaps on OBJKT you purchased and OBJKT you minted.\n          // setting it to false will only display OBJKT that you purchased and put up for sale\n          // but will NOT include your own art.\n          const allSwaps = true\n\n          if (allSwaps) {\n            market[e] = res.data.swaps[e]\n          } else {\n            const id = Number(e)\n            const found = sanitised.find((e) => {\n              return e.token_id === id\n            })\n            if (!found) {\n              market[e] = res.data.swaps[e]\n            }\n          }\n        })\n\n        this.setState({\n          creations: creations.sort(sortByTokenId),\n          loading: false,\n          collection: collection.sort(sortByTokenId),\n          market,\n        })\n      })\n  }\n\n  creations = () => {\n    this.setState({\n      creationsState: true,\n      collectionState: false,\n      marketState: false,\n    })\n    //this.props.history.push(`/tz/${this.state.wallet}`)\n  }\n\n  collection = () => {\n    this.setState({\n      creationsState: false,\n      collectionState: true,\n      marketState: false,\n    })\n    //this.props.history.push(`/tz/${this.state.wallet}/collection`)\n  }\n\n  market = () => {\n    this.setState({\n      creationsState: false,\n      collectionState: false,\n      marketState: true,\n    })\n    //this.props.history.push(`/tz/${this.state.wallet}/market`)\n  }\n\n  \n\n  render() {\n    const sortFunction = _.find(sortOptions, p => p.value === this.state.sorting).sortFunction\n    console.log(sortFunction)\n    console.log(this.state.creations)\n    return (\n      <Page title={this.state.alias}>\n        <Container>\n          <Padding>\n            <div className={styles.profile}>\n              <Identicon address={this.state.wallet} logo={this.state.logo} />\n\n              <div className={styles.info}>\n                {this.state.alias && (\n                  <p>\n                    <strong>{this.state.alias}</strong>\n                  </p>\n                )}\n                {this.state.description && <p>{this.state.description}</p>}\n                <Button href={`https://tzkt.io/${this.state.wallet}`}>\n                  <Primary>{this.state.walletPrev}</Primary>\n                </Button>\n\n                <p>{this.state.hdao} </p>\n\n                <div>\n                  {this.state.site && (\n                    <Button href={this.state.site}>\n                      <VisuallyHidden>{this.state.site}</VisuallyHidden>\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"16\"\n                        height=\"16\"\n                        fill=\"currentColor\"\n                        viewBox=\"0 0 16 16\"\n                        style={{\n                          fill: 'var(--text-color)',\n                          stroke: 'transparent',\n                          marginRight: '10px',\n                        }}\n                      >\n                        <path d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z\" />\n                      </svg>\n                    </Button>\n                  )}\n                  {this.state.telegram && (\n                    <Button href={`https://t.me/${this.state.telegram}`}>\n                      <VisuallyHidden>{`https://t.me/${this.state.telegram}`}</VisuallyHidden>\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"16\"\n                        height=\"16\"\n                        fill=\"currentColor\"\n                        viewBox=\"0 0 16 16\"\n                        style={{\n                          fill: 'var(--text-color)',\n                          stroke: 'transparent',\n                          marginRight: '10px',\n                        }}\n                      >\n                        <path d=\"M9.78,18.65L10.06,14.42L17.74,7.5C18.08,7.19 17.67,7.04 17.22,7.31L7.74,13.3L3.64,12C2.76,11.75 2.75,11.14 3.84,10.7L19.81,4.54C20.54,4.21 21.24,4.72 20.96,5.84L18.24,18.65C18.05,19.56 17.5,19.78 16.74,19.36L12.6,16.3L10.61,18.23C10.38,18.46 10.19,18.65 9.78,18.65Z\"></path>\n                      </svg>\n                    </Button>\n                  )}\n                  {this.state.twitter && (\n                    <Button href={`https://twitter.com/${this.state.twitter}`}>\n                      <VisuallyHidden>{`https://twitter.com/${this.state.twitter}`}</VisuallyHidden>\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"16\"\n                        height=\"16\"\n                        fill=\"currentColor\"\n                        viewBox=\"0 0 16 16\"\n                        style={{\n                          fill: 'var(--text-color)',\n                          stroke: 'transparent',\n                          marginRight: '10px',\n                        }}\n                      >\n                        <path d=\"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z\" />\n                      </svg>\n                    </Button>\n                  )}\n                  {this.state.instagram && (\n                    <Button\n                      href={`https://instagram.com/${this.state.instagram}`}\n                    >\n                      <VisuallyHidden>{`https://instagram.com/${this.state.instagram}`}</VisuallyHidden>\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"16\"\n                        height=\"16\"\n                        fill=\"currentColor\"\n                        viewBox=\"0 0 16 16\"\n                        style={{\n                          fill: 'var(--text-color)',\n                          stroke: 'transparent',\n                          marginRight: '10px',\n                        }}\n                      >\n                        <path d=\"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z\" />\n                      </svg>\n                    </Button>\n                  )}\n                  {this.state.github && (\n                    <Button href={`https://github.com/${this.state.github}`}>\n                      <VisuallyHidden>{`https://github.com/${this.state.github}`}</VisuallyHidden>\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"16\"\n                        height=\"16\"\n                        fill=\"currentColor\"\n                        viewBox=\"0 0 16 16\"\n                        style={{\n                          fill: 'var(--text-color)',\n                          stroke: 'transparent',\n                          marginRight: '10px',\n                        }}\n                      >\n                        <path d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z\" />\n                      </svg>\n                    </Button>\n                  )}\n                  {this.state.reddit && (\n                    <Button href={`https://reddit.com/${this.state.reddit}`}>\n                      <VisuallyHidden>{`https://reddit.com/${this.state.reddit}`}</VisuallyHidden>\n                      <svg\n                        height=\"16\"\n                        viewBox=\"0 0 512 512\"\n                        width=\"16\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        style={{\n                          fill: 'var(--text-color)',\n                          stroke: 'transparent',\n                          marginRight: '10px',\n                        }}\n                      >\n                        <path d=\"m309.605469 343.347656c-11.46875 11.46875-36.042969 15.5625-53.554688 15.5625-17.5625 0-42.085937-4.09375-53.554687-15.5625-2.714844-2.714844-7.066406-2.714844-9.777344 0-2.714844 2.714844-2.714844 7.066406 0 9.777344 18.175781 18.175781 53.09375 19.609375 63.332031 19.609375s45.105469-1.433594 63.335938-19.609375c2.660156-2.714844 2.660156-7.066406 0-9.777344-2.714844-2.714844-7.066407-2.714844-9.78125 0zm0 0\" />\n                        <path d=\"m224 282.675781c0-14.695312-11.980469-26.675781-26.675781-26.675781-14.691407 0-26.675781 11.980469-26.675781 26.675781 0 14.691407 11.984374 26.675781 26.675781 26.675781 14.695312 0 26.675781-11.980468 26.675781-26.675781zm0 0\" />\n                        <path d=\"m256 0c-141.363281 0-256 114.636719-256 256s114.636719 256 256 256 256-114.636719 256-256-114.636719-256-256-256zm148.53125 290.148438c.5625 3.6875.871094 7.425781.871094 11.214843 0 57.445313-66.867188 103.988281-149.351563 103.988281s-149.351562-46.542968-149.351562-103.988281c0-3.839843.308593-7.628906.871093-11.316406-13.003906-5.835937-22.066406-18.890625-22.066406-34.046875 0-20.582031 16.691406-37.324219 37.324219-37.324219 10.035156 0 19.097656 3.941407 25.804687 10.394531 25.90625-18.6875 61.75-30.621093 101.632813-31.644531 0-.511719 18.636719-89.292969 18.636719-89.292969.359375-1.738281 1.382812-3.226562 2.867187-4.195312 1.484375-.972656 3.277344-1.28125 5.019531-.921875l62.054688 13.207031c4.351562-8.804687 13.308594-14.898437 23.804688-14.898437 14.746093 0 26.675781 11.929687 26.675781 26.675781s-11.929688 26.675781-26.675781 26.675781c-14.285157 0-25.855469-11.265625-26.519532-25.394531l-55.554687-11.828125-16.996094 80.027344c39.167969 1.378906 74.34375 13.257812 99.839844 31.691406 6.707031-6.5 15.820312-10.496094 25.90625-10.496094 20.636719 0 37.324219 16.691407 37.324219 37.324219 0 15.257812-9.164063 28.3125-22.117188 34.148438zm0 0\" />\n                        <path d=\"m314.675781 256c-14.695312 0-26.675781 11.980469-26.675781 26.675781 0 14.691407 11.980469 26.675781 26.675781 26.675781 14.691407 0 26.675781-11.984374 26.675781-26.675781 0-14.695312-11.980468-26.675781-26.675781-26.675781zm0 0\" />\n                      </svg>\n                    </Button>\n                  )}\n                </div>\n              </div>\n            </div>\n          </Padding>\n        </Container>\n\n        <Container>\n          <Padding>\n            <p>\n              <strong>OBJKTs</strong>\n            </p>\n            <div className={styles.menu}>\n              <Button onClick={this.creations}>\n                <Primary selected={this.state.creationsState}>\n                  creations\n                </Primary>\n              </Button>\n\n              <Button onClick={this.collection}>\n                <Primary selected={this.state.collectionState}>\n                  collection\n                </Primary>\n              </Button>\n\n              {/* <Button onClick={this.market}>\n                <Primary selected={this.state.marketState}>market</Primary>\n              </Button> */}\n            </div>\n          </Padding>\n        </Container>\n\n        {this.state.loading && (\n          <Container>\n            <Padding>\n              <Loading />\n            </Padding>\n          </Container>\n        )}\n        {!this.state.loading && this.state.creationsState && (\n          <div style={{marginTop: -40}}>\n            <Container>\n              <Padding>\n                <div className={styles['secondary-menu']} >\n                  <p>Sort by:</p>\n                  <div>\n                  <Select\n                    defaultValue={this.state.sorting}\n                    options={sortOptions}\n                    nonCancelable={true}\n                    width=\"110px\"\n                    onChange={(e, value) => { this.setState({sorting: value}) }}\n                    />\n                  </div>\n                </div>\n                {false && (\n                  <div>\n                  {sortOptions.map((option, i) => {\n                      return (\n                        <Button>\n                          <Secondary>\n                            {option.label}\n                          </Secondary>\n                        </Button>\n                      )\n                    })}\n                  </div>\n                )}\n                \n              </Padding>\n            </Container>\n          </div>\n        )}\n\n        {!this.state.loading && this.state.creationsState && (\n          <Container xlarge>\n            <ResponsiveMasonry>\n              {sortFunction(this.state.creations).map((nft, i) => {\n                const { mimeType, uri } = nft.token_info.formats[0]\n\n                return (\n                  <Button\n                    key={nft.token_id}\n                    to={`${PATH.OBJKT}/${nft.token_id}`}\n                  >\n                    <div className={styles.container}>\n                      {renderMediaType({\n                        mimeType,\n                        uri: uri.split('//')[1],\n                        metadata: nft,\n                      })}\n                      <div className={styles.number}>OBJKT#{nft.token_id}</div>\n                    </div>\n                  </Button>\n                )\n              })}\n            </ResponsiveMasonry>\n          </Container>\n        )}\n\n        {!this.state.loading && this.state.collectionState && (\n          <Container xlarge>\n            <ResponsiveMasonry>\n              {sortFunction(this.state.collection).map((nft, i) => {\n                const { mimeType, uri } = nft.token_info.formats[0]\n                return (\n                  <Button\n                    key={nft.token_id}\n                    to={`${PATH.OBJKT}/${nft.token_id}`}\n                  >\n                    <div className={styles.container}>\n                      {renderMediaType({\n                        mimeType,\n                        uri: uri.split('//')[1],\n                        metadata: nft,\n                      })}\n                      <div className={styles.number}>OBJKT#{nft.token_id}</div>\n                    </div>\n                  </Button>\n                )\n              })}\n            </ResponsiveMasonry>\n          </Container>\n        )}\n\n        {!this.state.loading && this.state.marketState && (\n          <>\n            {Object.keys(this.state.market).length === 0 && (\n              <Container>\n                <Padding>\n                  <p>\n                    You currently don't have any OBJKT on the secondary market.\n                  </p>\n                </Padding>\n              </Container>\n            )}\n            {Object.keys(this.state.market).map((key) => {\n              return (\n                <Container key={key}>\n                  <Padding>\n                    <Button to={`${PATH.OBJKT}/${key}`}>\n                      <Primary>\n                        <strong>OBJKT#{key}</strong>\n                      </Primary>\n                    </Button>\n                  </Padding>\n                </Container>\n              )\n            })}\n          </>\n        )}\n      </Page>\n    )\n  }\n}\n","import React, { useContext } from 'react'\nimport { PATH } from '../../constants'\nimport { Button, Primary, Purchase } from '../button'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\nimport { walletPreview } from '../../utils/string'\nimport styles from './styles.module.scss'\n\nconst _ = require('lodash')\n\nexport const ItemInfo = ({\n  token_id,\n  token_info,\n  owners,\n  swaps,\n  // transfered,\n  feed,\n  // total_amount,\n  hDAO_balance,\n  isDetailView,\n}) => {\n  const { syncTaquito, collect, curate, claim_hDAO, acc } =\n    useContext(HicetnuncContext)\n  const reducer = (accumulator, currentValue) =>\n    parseInt(accumulator) + parseInt(currentValue)\n\n  // subtract burned pieces from total\n  let total = 0\n\n  try {\n    total =\n      _.values(owners).length !== 0 ? _.values(owners).reduce(reducer) : 'X'\n    total = _.keys(owners).includes('tz1burnburnburnburnburnburnburjAYjjX')\n      ? total - owners['tz1burnburnburnburnburnburnburjAYjjX']\n      : total\n  } catch (e) {\n    total =\n      _.values(owners).length !== 0 ? _.values(owners).reduce(reducer) : 'X'\n  }\n\n  let ed =\n    swaps.length !== 0 ? swaps.map((e) => e.objkt_amount).reduce(reducer) : 'X'\n  let s = _.minBy(swaps, (o) => Number(o.xtz_per_objkt))\n  let maxPrice = _.maxBy(swaps, (o) => Number(o.xtz_per_objkt))\n\n  var message = ''\n\n  try {\n    message =\n      swaps[0] !== undefined\n        ? 'collect for ' + Number(s.xtz_per_objkt) / 1000000 + ' tez'\n        : 'not for sale'\n  } catch (e) {\n    message = 'not for sale'\n  }\n\n  const handleCollect = () => {\n    if (acc == null) {\n      syncTaquito()\n    } else {\n      collect(1, s.swap_id, s.xtz_per_objkt * 1)\n    }\n  }\n\n  const curateOrClaim = (id, balance = 0) => {\n    // if user is creator and there's hDAO balance\n    if (acc && acc.address === token_info.creators[0] && balance > 0) {\n      claim_hDAO(balance, id)\n    } else {\n      curate(id)\n    }\n  }\n\n  const renderHDAObutton = (id, balance) => {\n    return (\n      <Button onClick={() => curateOrClaim(id, balance)}>\n        <Primary>\n          <span\n            className={styles.top}\n            data-position={'top'}\n            data-tooltip={\n              acc && acc.address === token_info.creators[0] &&\n              parseInt(hDAO_balance) > 0\n                ? 'collect hDAO'\n                : 'curate'\n            }\n          >\n            \n          </span>\n          {balance && balance !== -1\n            ? ` ${parseInt(hDAO_balance) / 1000000}`\n            : ''}\n        </Primary>\n      </Button>\n    )\n  }\n\n  return (\n    <>\n      <div className={styles.container}>\n        <div className={styles.edition}>\n          <div className={styles.inline}>\n            <p>Issuer:&nbsp;</p>\n            <Button to={`${PATH.ISSUER}/${token_info.creators[0]}`}>\n              <Primary>{walletPreview(token_info.creators[0])}</Primary>\n            </Button>\n          </div>\n          {!feed && (\n            <div>\n              <p>\n                <span>\n                  Editions:\n                  <span>\n                    {ed}/{total}\n                  </span>\n                </span>\n              </p>\n              {false && (\n                <p>\n                  Price range: {(Number(s.xtz_per_objkt) / 1000000).toFixed(2)}-\n                  {(Number(maxPrice.xtz_per_objkt) / 1000000).toFixed(2)}\n                </p>\n              )}\n            </div>\n          )}\n        </div>\n        {feed && (\n          <div className={styles.objktContainer}>\n            <Button to={`${PATH.OBJKT}/${token_id}`} disabled={isDetailView}>\n              <Primary>OBJKT#{token_id}</Primary>\n            </Button>\n            <div style={{ paddingLeft: '20px', marginBottom: '2px' }}>\n              {renderHDAObutton(token_id, hDAO_balance)}\n            </div>\n          </div>\n        )}\n      </div>\n      <div className={styles.container}>\n        {isDetailView && (\n          <div className={styles.container}>\n            <p>OBJKT#{token_id}</p>\n            <Button onClick={() => handleCollect()}>\n              <Purchase>{message}</Purchase>\n            </Button>\n          </div>\n        )}\n      </div>\n      <div className={styles.container}>\n        {!feed && <div>{renderHDAObutton(token_id, hDAO_balance)}</div>}\n      </div>\n    </>\n  )\n}\n","import React from 'react'\nimport { PATH } from '../../constants'\nimport { Padding } from '../layout'\nimport { Button } from '../button'\nimport { ItemInfo } from '../item-info'\nimport { renderMediaType } from '../media-types'\nimport { VisuallyHidden } from '../visually-hidden'\nimport styles from './styles.module.scss'\n\nexport const FeedItem = (props) => {\n  const { token_info, token_id, owners, swaps, total_amount } = props\n  const { mimeType, uri } = token_info.formats[0]\n\n  // const url =\n  //   token_info.displayUri !== ''\n  //     ? token_info.displayUri\n  //     : token_info.artifactUri\n\n  return (\n    <>\n      <Button to={`${PATH.OBJKT}/${token_id}`}>\n        <VisuallyHidden>{`Go to OBJKT: ${token_info.name}`}</VisuallyHidden>\n        <div className={styles.container}>\n          {renderMediaType({\n            mimeType,\n            uri: uri.split('//')[1],\n            metadata: props,\n          })}\n        </div>\n      </Button>\n      <Padding>\n        {/* \n        \nrender only\n\n        */}\n\n        <ItemInfo\n          token_info={token_info}\n          owners={owners}\n          token_id={token_id}\n          swaps={swaps}\n          total_amount={total_amount}\n          feed={true}\n        />\n      </Padding>\n    </>\n  )\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport {\n  GetLatestFeed,\n  GethDAOFeed,\n  GetRandomFeed,\n  GetFeaturedFeed,\n} from '../../data/api'\nimport { Page, Container, Padding } from '../../components/layout'\nimport { FeedItem } from '../../components/feed-item'\nimport { Loading } from '../../components/loading'\n\nconst customFloor = function (value, roundTo) {\n  return Math.floor(value / roundTo) * roundTo\n}\n\nconst ONE_MINUTE_MILLIS = 60 * 1000\n\nexport const Feeds = ({ type = 0 }) => {\n  const [error, setError] = useState(false)\n  const [items, setItems] = useState([])\n  const [count, setCount] = useState(0)\n  const [hasMore, setHasMore] = useState(true)\n  const startTime = customFloor(Date.now(), ONE_MINUTE_MILLIS)\n  const loadMore = () => {\n    setCount(count + 1)\n  }\n\n  useEffect(() => {\n    if (error) {\n      console.log('returning on error')\n      return\n    }\n\n    if (type === 0) {\n      GetLatestFeed({ counter: count, max_time: startTime })\n        .then((result) => {\n          const next = items.concat(result)\n          setItems(next)\n\n          // if original returns less than 10, then there's no more data coming from API\n          if (result.length < 10) {\n            setHasMore(false)\n          }\n        })\n        .catch((e) => {\n          setError(true)\n        })\n    } else if (type === 1) {\n      GethDAOFeed({ counter: count })\n        .then((result) => {\n          const next = items.concat(result)\n          setItems(next)\n\n          // if original returns less than 10, then there's no more data coming from API\n          if (result.length < 10) {\n            setHasMore(false)\n          }\n        })\n        .catch((e) => {\n          setError(true)\n        })\n    } else if (type === 2) {\n      GetRandomFeed({ counter: count })\n        .then((result) => {\n          // filtered isn't guaranteed to always be 10. if we're filtering they might be less.\n          const next = items.concat(result)\n          setItems(next)\n\n          // if original returns less than 10, then there's no more data coming from API\n          if (result.length < 10) {\n            setHasMore(false)\n          }\n        })\n        .catch((e) => {\n          setError(true)\n        })\n    } else if (type === 3) {\n      GetFeaturedFeed({ counter: count, max_time: startTime })\n        .then((result) => {\n          // filtered isn't guaranteed to always be 10. if we're filtering they might be less.\n          const next = items.concat(result)\n          setItems(next)\n\n          // if original returns less than 10, then there's no more data coming from API\n          if (result.length < 10) {\n            setHasMore(false)\n          }\n        })\n        .catch((e) => {\n          setError(true)\n        })\n    }\n  }, [count, type])\n\n  return (\n    <Page title=\"\">\n      <InfiniteScroll\n        dataLength={items.length}\n        next={loadMore}\n        hasMore={hasMore}\n        loader={\n          <Container>\n            <Padding>\n              <Loading />\n            </Padding>\n          </Container>\n        }\n        endMessage={\n          <p>\n            mint mint mint{' '}\n            <span role=\"img\" aria-labelledby={'Sparkles emoji'}>\n              \n            </span>\n          </p>\n        }\n      >\n        <div>\n          <Container>\n            <Padding>\n              {items.map((item, index) => (\n                <FeedItem key={`${item.token_id}-${index}`} {...item} />\n              ))}\n            </Padding>\n          </Container>\n        </div>\n      </InfiniteScroll>\n    </Page>\n  )\n}\n","import React from 'react'\nimport { PATH } from '../../constants'\nimport { Button } from '../button'\nimport styles from './styles.module.scss'\n\nexport const Tags = ({ tags }) => {\n  return (\n    <div className={styles.container}>\n      {tags\n        .filter((e) => e !== '')\n        .map((tag, index) => {\n          return (\n            <Button\n              key={`tag${tag}${index}`}\n              to={`${PATH.TAGS}/${encodeURI(tag)}`}\n            >\n              <div className={styles.tag}>{tag}</div>\n            </Button>\n          )\n        })}\n    </div>\n  )\n}\n","import { Button, Primary } from '../../button'\nimport styles from './styles.module.scss'\n\nexport function HTMLWarning() {\n  return (\n    <div className={styles.warning}>\n      <p>IMPORTANT: Please read the guide before minting!</p>\n      <Button href=\"https://github.com/hicetnunc2000/hicetnunc/wiki/Interactive-OBJKTs\">\n        <Primary>\n          <strong>Interactive OBJKTs Guide</strong>\n        </Primary>\n      </Button>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Tags } from '../tags'\nimport { MIMETYPE } from '../../constants'\nimport { renderMediaType } from '../media-types'\nimport { HTMLWarning } from '../media-types/html/warning'\nimport styles from './styles.module.scss'\n\nfunction isHTML(mimeType) {\n  return (\n    mimeType === MIMETYPE.ZIP ||\n    mimeType === MIMETYPE.ZIP1 ||\n    mimeType === MIMETYPE.ZIP2\n  )\n}\n\nexport const Preview = ({ title, description, mimeType, uri, tags }) => {\n  const t = tags !== '' ? tags.replace(/\\s/g, '').split(',') : []\n  return (\n    <div className={styles.container}>\n      {isHTML(mimeType) && <HTMLWarning />}\n      <div className={styles.media}>\n        {renderMediaType({\n          mimeType,\n          uri,\n          interactive: true,\n          preview: true,\n        })}\n      </div>\n      <div className={styles.info}>\n        <div>TITLE</div>\n        <div className={styles.title}>{title}</div>\n        <div>DESCRIPTION</div>\n        <div className={styles.description}>{description}</div>\n        <Tags tags={t} />\n      </div>\n    </div>\n  )\n}\n","import {\n  IPFS_DIRECTORY_MIMETYPE,\n  IPFS_DISPLAY_URI_BLACKCIRCLE,\n} from '../constants'\n\nconst { create } = require('ipfs-http-client')\nconst Buffer = require('buffer').Buffer\nconst axios = require('axios')\nconst readJsonLines = require('read-json-lines-sync').default\nconst { getCoverImagePathFromBuffer } = require('../utils/html')\n\nconst infuraUrl = 'https://ipfs.infura.io:5001'\n\nexport const prepareFile = async ({\n  name,\n  description,\n  tags,\n  address,\n  buffer,\n  mimeType,\n  cover,\n  thumbnail,\n  generateDisplayUri,\n}) => {\n  const ipfs = create(infuraUrl)\n\n  // upload main file\n  const info = await ipfs.add(buffer)\n  const hash = info.path\n  const cid = `ipfs://${hash}`\n\n  // upload cover image\n  let displayUri = ''\n  if (generateDisplayUri) {\n    const coverInfo = await ipfs.add(cover.buffer)\n    const coverHash = coverInfo.path\n    displayUri = `ipfs://${coverHash}`\n  }\n\n  // upload thumbnail image\n  let thumbnailUri = IPFS_DISPLAY_URI_BLACKCIRCLE\n  if (generateDisplayUri) {\n    const thumbnailInfo = await ipfs.add(thumbnail.buffer)\n    const thumbnailHash = thumbnailInfo.path\n    thumbnailUri = `ipfs://${thumbnailHash}`\n  }\n\n  return await uploadMetadataFile({\n    name,\n    description,\n    tags,\n    cid,\n    address,\n    mimeType,\n    displayUri,\n    thumbnailUri,\n  })\n}\n\nexport const prepareDirectory = async ({\n  name,\n  description,\n  tags,\n  address,\n  files,\n  cover,\n  thumbnail,\n  generateDisplayUri,\n}) => {\n  // upload directory of files\n  const hashes = await uploadFilesToDirectory(files)\n  const cid = `ipfs://${hashes.directory}`\n\n  // upload cover image\n  const ipfs = create(infuraUrl)\n\n  let displayUri = ''\n  if (generateDisplayUri) {\n    const coverInfo = await ipfs.add(cover.buffer)\n    const coverHash = coverInfo.path\n    displayUri = `ipfs://${coverHash}`\n  } else if (hashes.cover) {\n    // TODO: Remove this once generateDisplayUri option is gone\n    displayUri = `ipfs://${hashes.cover}`\n  }\n\n  // upload thumbnail image\n  let thumbnailUri = IPFS_DISPLAY_URI_BLACKCIRCLE\n  if (generateDisplayUri) {\n    const thumbnailInfo = await ipfs.add(thumbnail.buffer)\n    const thumbnailHash = thumbnailInfo.path\n    thumbnailUri = `ipfs://${thumbnailHash}`\n  }\n\n  return await uploadMetadataFile({\n    name,\n    description,\n    tags,\n    cid,\n    address,\n    mimeType: IPFS_DIRECTORY_MIMETYPE,\n    displayUri,\n    thumbnailUri,\n  })\n}\n\nfunction not_directory(file) {\n  return file.blob.type !== IPFS_DIRECTORY_MIMETYPE\n}\n\nasync function uploadFilesToDirectory(files) {\n  files = files.filter(not_directory)\n\n  const form = new FormData()\n\n  files.forEach((file) => {\n    form.append('file', file.blob, encodeURIComponent(file.path))\n  })\n  const endpoint = `${infuraUrl}/api/v0/add?pin=true&recursive=true&wrap-with-directory=true`\n  const res = await axios.post(endpoint, form, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  })\n\n  const data = readJsonLines(res.data)\n\n  // TODO: Remove this once generateDisplayUri option is gone\n  // get cover hash\n  let cover = null\n  const indexFile = files.find((f) => f.path === 'index.html')\n  if (indexFile) {\n    const indexBuffer = await indexFile.blob.arrayBuffer()\n    const coverImagePath = getCoverImagePathFromBuffer(indexBuffer)\n\n    if (coverImagePath) {\n      const coverEntry = data.find((f) => f.Name === coverImagePath)\n      if (coverEntry) {\n        cover = coverEntry.Hash\n      }\n    }\n  }\n\n  const rootDir = data.find((e) => e.Name === '')\n\n  const directory = rootDir.Hash\n\n  return { directory, cover }\n}\n\nasync function uploadMetadataFile({\n  name,\n  description,\n  tags,\n  cid,\n  address,\n  mimeType,\n  displayUri = '',\n  thumbnailUri = IPFS_DISPLAY_URI_BLACKCIRCLE,\n}) {\n  const ipfs = create(infuraUrl)\n\n  return await ipfs.add(\n    Buffer.from(\n      JSON.stringify({\n        name,\n        description,\n        tags: tags.replace(/\\s/g, '').split(','),\n        symbol: 'OBJKT',\n        artifactUri: cid,\n        displayUri,\n        thumbnailUri,\n        creators: [address],\n        formats: [{ uri: cid, mimeType }],\n        decimals: 0,\n        isBooleanAmount: false,\n        shouldPreferSymbol: false,\n      })\n    )\n  )\n}\n","import React, { useContext, useState } from 'react'\nimport Compressor from 'compressorjs'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\nimport { Page, Container, Padding } from '../../components/layout'\nimport { Input } from '../../components/input'\nimport { Button, Curate, Primary } from '../../components/button'\nimport { Upload } from '../../components/upload'\nimport { Preview } from '../../components/preview'\nimport { prepareFile, prepareDirectory } from '../../data/ipfs'\nimport { prepareFilesFromZIP } from '../../utils/html'\nimport {\n  ALLOWED_MIMETYPES,\n  ALLOWED_FILETYPES_LABEL,\n  ALLOWED_COVER_MIMETYPES,\n  ALLOWED_COVER_FILETYPES_LABEL,\n  MINT_FILESIZE,\n  MIMETYPE,\n  MAX_EDITIONS,\n  MIN_ROYALTIES,\n  MAX_ROYALTIES,\n} from '../../constants'\n\nconst coverOptions = {\n  quality: 0.85,\n  maxWidth: 1024,\n  maxHeight: 1024,\n}\n\nconst thumbnailOptions = {\n  quality: 0.85,\n  maxWidth: 350,\n  maxHeight: 350,\n}\n\n// @crzypathwork change to \"true\" to activate displayUri and thumbnailUri\nconst GENERATE_DISPLAY_AND_THUMBNAIL = false\n\nexport const Mint = () => {\n  const { mint, getAuth, acc, setAccount, setFeedback, syncTaquito } =\n    useContext(HicetnuncContext)\n  // const history = useHistory()\n  const [step, setStep] = useState(0)\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const [tags, setTags] = useState('')\n  const [amount, setAmount] = useState()\n  const [royalties, setRoyalties] = useState()\n  const [file, setFile] = useState() // the uploaded file\n  const [cover, setCover] = useState() // the uploaded or generated cover image\n  const [thumbnail, setThumbnail] = useState() // the uploaded or generated cover image\n  const [needsCover, setNeedsCover] = useState(false)\n\n  const handleMint = async () => {\n    if (!acc) {\n      // warning for sync\n      setFeedback({\n        visible: true,\n        message: 'sync your wallet',\n        progress: true,\n        confirm: false,\n      })\n\n      await syncTaquito()\n\n      setFeedback({\n        visible: false,\n      })\n    } else {\n      await setAccount()\n\n      // check mime type\n      if (ALLOWED_MIMETYPES.indexOf(file.mimeType) === -1) {\n        // alert(\n        //   `File format invalid. supported formats include: ${ALLOWED_FILETYPES_LABEL.toLocaleLowerCase()}`\n        // )\n\n        setFeedback({\n          visible: true,\n          message: `File format invalid. supported formats include: ${ALLOWED_FILETYPES_LABEL.toLocaleLowerCase()}`,\n          progress: false,\n          confirm: true,\n          confirmCallback: () => {\n            setFeedback({ visible: false })\n          },\n        })\n\n        return\n      }\n\n      // check file size\n      const filesize = (file.file.size / 1024 / 1024).toFixed(4)\n      if (filesize > MINT_FILESIZE) {\n        // alert(\n        //   `File too big (${filesize}). Limit is currently set at ${MINT_FILESIZE}MB`\n        // )\n\n        setFeedback({\n          visible: true,\n          message: `File too big (${filesize}). Limit is currently set at ${MINT_FILESIZE}MB`,\n          progress: false,\n          confirm: true,\n          confirmCallback: () => {\n            setFeedback({ visible: false })\n          },\n        })\n\n        return\n      }\n\n      // file about to be minted, change to the mint screen\n\n      setStep(2)\n\n      setFeedback({\n        visible: true,\n        message: 'preparing OBJKT',\n        progress: true,\n        confirm: false,\n      })\n\n      // upload file(s)\n      let nftCid\n      if (\n        [MIMETYPE.ZIP, MIMETYPE.ZIP1, MIMETYPE.ZIP2].includes(file.mimeType)\n      ) {\n        const files = await prepareFilesFromZIP(file.buffer)\n\n        nftCid = await prepareDirectory({\n          name: title,\n          description,\n          tags,\n          address: acc.address,\n          files,\n          cover,\n          thumbnail,\n          generateDisplayUri: GENERATE_DISPLAY_AND_THUMBNAIL,\n        })\n      } else {\n        // process all other files\n        nftCid = await prepareFile({\n          name: title,\n          description,\n          tags,\n          address: acc.address,\n          buffer: file.buffer,\n          mimeType: file.mimeType,\n          cover,\n          thumbnail,\n          generateDisplayUri: GENERATE_DISPLAY_AND_THUMBNAIL,\n        })\n      }\n\n      mint(getAuth(), amount, nftCid.path, royalties)\n    }\n  }\n\n  const handlePreview = () => {\n    setStep(1)\n  }\n\n  const handleFileUpload = async (props) => {\n    setFile(props)\n\n    if (GENERATE_DISPLAY_AND_THUMBNAIL) {\n      if (props.mimeType.indexOf('image') === 0) {\n        setNeedsCover(false)\n        await generateCoverAndThumbnail(props)\n      } else {\n        setNeedsCover(true)\n      }\n    }\n  }\n\n  const generateCompressedImage = async (props, options) => {\n    const blob = await compressImage(props.file, options)\n    const mimeType = blob.type\n    const buffer = await blob.arrayBuffer()\n    const reader = await blobToDataURL(blob)\n    return { mimeType, buffer, reader }\n  }\n\n  const compressImage = (file, options) => {\n    return new Promise(async (resolve, reject) => {\n      new Compressor(file, {\n        ...options,\n        success(blob) {\n          resolve(blob)\n        },\n        error(err) {\n          reject(err)\n        },\n      })\n    })\n  }\n\n  const blobToDataURL = async (blob) => {\n    return new Promise((resolve, reject) => {\n      let reader = new FileReader()\n      reader.onerror = reject\n      reader.onload = (e) => resolve(reader.result)\n      reader.readAsDataURL(blob)\n    })\n  }\n\n  const handleCoverUpload = async (props) => {\n    await generateCoverAndThumbnail(props)\n  }\n\n  const generateCoverAndThumbnail = async (props) => {\n    // TMP: skip GIFs to avoid making static\n    if (props.mimeType === MIMETYPE.GIF) {\n      setCover(props)\n      setThumbnail(props)\n      return\n    }\n\n    const cover = await generateCompressedImage(props, coverOptions)\n    setCover(cover)\n\n    const thumb = await generateCompressedImage(props, thumbnailOptions)\n    setThumbnail(thumb)\n  }\n\n  const limitNumericField  = async (target, minValue, maxValue) => {\n    if(target.value === '') target.value = ''; // Seems redundant but actually cleans up e.g. '234e'\n    target.value = Math.round(Math.max(Math.min(target.value, maxValue), minValue));\n  }\n\n  const handleValidation = () => {\n    if (amount <= 0 ||\n        amount > MAX_EDITIONS ||\n        royalties < MIN_ROYALTIES ||\n        royalties > MAX_ROYALTIES ||\n        !file) {\n      return true;\n    }\n    if (GENERATE_DISPLAY_AND_THUMBNAIL) {\n      if (cover && thumbnail) {\n        return false\n      }\n    } else {\n      return false\n    }\n    return true\n  }\n\n  return (\n    <Page title=\"mint\" large>\n      {step === 0 && (\n        <>\n          <Container>\n            <Padding>\n              <Input\n                type=\"text\"\n                onChange={(e) => setTitle(e.target.value)}\n                placeholder=\"title\"\n                label=\"title\"\n                value={title}\n              />\n\n              <Input\n                type=\"text\"\n                onChange={(e) => setDescription(e.target.value)}\n                placeholder=\"description\"\n                label=\"description\"\n                maxlength=\"2000\"\n                value={description}\n              />\n\n              <Input\n                type=\"text\"\n                onChange={(e) => setTags(e.target.value)}\n                placeholder=\"tags (comma separated. example: illustration, digital)\"\n                label=\"tags\"\n                value={tags}\n              />\n\n              <Input\n                type=\"number\"\n                min={1}\n                max={MAX_EDITIONS}\n                onChange={(e) => setAmount(e.target.value) }\n                onBlur={ (e) => { limitNumericField(e.target, 1, MAX_EDITIONS); setAmount(e.target.value) } }\n                placeholder={`editions (no. editions, 1-${MAX_EDITIONS})`}\n                label=\"editions\"\n                value={amount}\n              />\n\n              <Input\n                type=\"number\"\n                min={MIN_ROYALTIES}\n                max={MAX_ROYALTIES}\n                onChange={(e) => setRoyalties(e.target.value) }\n                onBlur={ (e) => { limitNumericField(e.target, MIN_ROYALTIES, MAX_ROYALTIES); setRoyalties(e.target.value) } }\n                placeholder={`royalties after each sale (between ${MIN_ROYALTIES}-${MAX_ROYALTIES}%)`}\n                label=\"royalties\"\n                value={royalties}\n              />\n            </Padding>\n          </Container>\n\n          <Container>\n            <Padding>\n              <Upload\n                label=\"Upload OBJKT\"\n                allowedTypesLabel={ALLOWED_FILETYPES_LABEL}\n                onChange={handleFileUpload}\n              />\n            </Padding>\n          </Container>\n\n          {file && needsCover && (\n            <Container>\n              <Padding>\n                <Upload\n                  label=\"Upload cover image\"\n                  allowedTypes={ALLOWED_COVER_MIMETYPES}\n                  allowedTypesLabel={ALLOWED_COVER_FILETYPES_LABEL}\n                  onChange={handleCoverUpload}\n                />\n              </Padding>\n            </Container>\n          )}\n\n          <Container>\n            <Padding>\n              <Button onClick={handlePreview} fit disabled={handleValidation()}>\n                <Curate>Preview</Curate>\n              </Button>\n            </Padding>\n          </Container>\n        </>\n      )}\n\n      {step === 1 && (\n        <>\n          <Container>\n            <Padding>\n              <div style={{ display: 'flex' }}>\n                <Button onClick={() => setStep(0)} fit>\n                  <Primary>\n                    <strong>back</strong>\n                  </Primary>\n                </Button>\n              </div>\n            </Padding>\n          </Container>\n\n          <Container>\n            <Padding>\n              <Preview\n                mimeType={file.mimeType}\n                uri={file.reader}\n                title={title}\n                description={description}\n                tags={tags}\n              />\n            </Padding>\n          </Container>\n\n          <Container>\n            <Padding>\n              <Button onClick={handleMint} fit>\n                <Curate>mint OBJKT</Curate>\n              </Button>\n            </Padding>\n          </Container>\n\n          <Container>\n            <Padding>\n              <p>this operation costs 0.08~ tez</p>\n              <p>Your royalties upon each sale are {royalties}%</p>\n            </Padding>\n          </Container>\n        </>\n      )}\n    </Page>\n  )\n}\n","import React from 'react'\nimport styles from './styles.module.scss'\n\nexport const Menu = ({ children = null }) => {\n  return <div className={styles.container}>{children}</div>\n}\n","import React from 'react'\nimport { Button, Primary } from '../button'\nimport { walletPreview } from '../../utils/string'\nimport styles from './styles.module.scss'\n\nexport const OwnerList = ({ owners, creator, acc }) => (\n  <div className={styles.container}>\n    {owners.map(({ amount, wallet }, index) => (\n      <div key={`${wallet}-${index}`} className={styles.owner}>\n        {amount}&nbsp;x&nbsp;\n        <Button href={`https://hicetnunc.xyz/tz/${wallet}`}>\n          <Primary>{walletPreview(wallet)}</Primary>\n        </Button>\n      </div>\n    ))}\n  </div>\n)\n","import React from 'react'\nimport { Button, Primary, Purchase } from '../button'\nimport { walletPreview } from '../../utils/string'\nimport styles from './styles.module.scss'\n\nconst sortByPrice = (a, b) => {\n  return Number(a.xtz_per_objkt) - Number(b.xtz_per_objkt)\n}\nexport const OwnerSwaps = ({ swaps, handleCollect, acc, cancel }) => {\n  return (\n    <div className={styles.container}>\n      {swaps.sort(sortByPrice).map((swap, index) => {\n        return (\n          <div key={`${swap.swap_id}-${index}`} className={styles.swap}>\n            <div className={styles.issuer}>\n              {swap.objkt_amount} x&nbsp;\n              <Button to={`/tz/${swap.issuer}`}>\n                <Primary>{walletPreview(swap.issuer)}</Primary>\n              </Button>\n            </div>\n\n            <div className={styles.buttons}>\n              <Button\n                onClick={() => handleCollect(swap.swap_id, swap.xtz_per_objkt)}\n              >\n                <Purchase>\n                  collect for {parseFloat(swap.xtz_per_objkt / 1000000)} tez\n                </Purchase>\n              </Button>\n              {swap.issuer === (acc !== undefined ? acc.address : '') && (\n                <Button onClick={() => cancel(swap.swap_id)}>\n                  <Purchase>cancel</Purchase>\n                </Button>\n              )}\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useContext, useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\nimport { GetOBJKT } from '../../data/api'\nimport { Loading } from '../../components/loading'\nimport { Button, Primary } from '../../components/button'\nimport { Page, Container, Padding } from '../../components/layout'\nimport { renderMediaType } from '../../components/media-types'\nimport { ItemInfo } from '../../components/item-info'\nimport { Menu } from '../../components/menu'\nimport { Info, Collectors, Swap, Burn } from './tabs'\n\nconst TABS = [\n  { title: 'info', component: Info }, // public tab\n  { title: 'collectors', component: Collectors }, // public tab\n  { title: 'swap', component: Swap, private: true }, // private tab (users only see if they are the creators or own a copy)\n  { title: 'burn', component: Burn, private: true }, // private tab (users only see if they are the creators or own a copy)\n]\n\nexport const ObjktDisplay = () => {\n  const { id } = useParams()\n  const context = useContext(HicetnuncContext)\n\n  const [loading, setLoading] = useState(true)\n  const [tabIndex, setTabIndex] = useState(0)\n  const [nft, setNFT] = useState()\n  const [error, setError] = useState(false)\n\n  const address = context.acc?.address\n\n  useEffect(() => {\n    GetOBJKT({ id })\n      .then(async (objkt) => {\n        if (Array.isArray(objkt)) {\n          setError(\n            \"There's a problem loading this OBJKT. Please report it on Github.\"\n          )\n          setLoading(false)\n        } else {\n          await context.setAccount()\n          setNFT(objkt)\n\n          setLoading(false)\n        }\n      })\n      .catch((e) => {\n        if (e.response && e.response.data.error) {\n          setError(\n            `(http ${e.response.data.error.http_status}) ${e.response.data.error.message}`\n          )\n        } else if (e.response && e.response.data) {\n          setError(`(http ${e.response.status}) ${e.response.data}`)\n        } else if (e.request) {\n          setError(\n            `There's a problem loading this OBJKT. Please report it on Github. ${e.message}`\n          )\n        } else {\n          setError(\n            `There's a problem loading this OBJKT. Please report it on Github. ${e}`\n          )\n        }\n        setLoading(false)\n      })\n  }, [])\n\n  const Tab = TABS[tabIndex].component\n\n  return (\n    <Page title={nft?.token_info.name}>\n      {loading && (\n        <Container>\n          <Padding>\n            <Loading />\n          </Padding>\n        </Container>\n      )}\n\n      {error && (\n        <Container>\n          <Padding>\n            <p>{error}</p>\n          </Padding>\n          <Padding>\n            <Button href=\"https://github.com/hicetnunc2000/hicetnunc/issues\">\n              <Primary>\n                <strong>Report</strong>\n              </Primary>\n            </Button>\n          </Padding>\n        </Container>\n      )}\n\n      {!loading && !error && (\n        <>\n          <Container>\n            {nft.token_id &&\n              renderMediaType({\n                mimeType: nft.token_info.formats[0].mimeType,\n                uri: nft.token_info.formats[0].uri.split('//')[1],\n                interactive: true,\n                metadata: nft,\n              })}\n          </Container>\n\n          <Container>\n            <Padding>\n              <ItemInfo {...nft} isDetailView />\n            </Padding>\n          </Container>\n\n          <Container>\n            <Padding>\n              <Menu>\n                {TABS.map((tab, index) => {\n                  // if nft.owners exist and this is a private route, try to hide the tab.\n                  // if nft.owners fails, always show route!\n                  if (nft?.owners && tab.private) {\n                    console.log(\n                      Object.keys(nft.owners).includes(address),\n                      nft.token_info.creators.includes(address),\n                      'valid',\n                      Object.keys(nft.owners).includes(address) ||\n                        nft.token_info.creators.includes(address)\n                    )\n                    if (\n                      Object.keys(nft.owners).includes(address) === false &&\n                      nft.token_info.creators.includes(address) === false\n                    ) {\n                      // user is not the creator now owns a copy of the object. hide\n\n                      return null\n                    }\n                  }\n\n                  return (\n                    <Button key={tab.title} onClick={() => setTabIndex(index)}>\n                      <Primary selected={tabIndex === index}>\n                        {tab.title}\n                      </Primary>\n                    </Button>\n                  )\n                })}\n              </Menu>\n            </Padding>\n          </Container>\n\n          <Tab {...nft} address={address} />\n        </>\n      )}\n    </Page>\n  )\n}\n","import React from 'react'\nimport { Container, Padding } from '../../../components/layout'\nimport { Button, Primary } from '../../../components/button'\nimport { Tags } from '../../../components/tags'\n\nexport const Info = ({ token_info }) => {\n  const { name, description, tags, formats } = token_info\n\n  const CLOUDFLARE = 'https://cloudflare-ipfs.com/ipfs/'\n\n  return (\n    <>\n      <Container>\n        <Padding>TITLE</Padding>\n        <Padding>{name}</Padding>\n      </Container>\n\n      <Container>\n        <Padding>DESCRIPTION</Padding>\n        <Padding>{description}</Padding>\n      </Container>\n\n      <Container>\n        <Padding>\n          <Tags tags={tags} />\n        </Padding>\n      </Container>\n\n      <Container>\n        <Padding>MEDIA</Padding>\n        <Padding>mimetype: {formats[0].mimeType}</Padding>\n        <Padding>\n          <Button href={formats[0].uri.replace('ipfs://', CLOUDFLARE)}>\n            <Primary>ipfs</Primary>\n          </Button>\n        </Padding>\n      </Container>\n    </>\n  )\n}\n","import React, { useContext } from 'react'\nimport { Container, Padding } from '../../../components/layout'\nimport { OwnerList } from '../../../components/owner-list'\nimport { HicetnuncContext } from '../../../context/HicetnuncContext'\nimport { OwnerSwaps } from '../../../components/owner-swaps'\n\nexport const Collectors = ({ owners, swaps }) => {\n  const { syncTaquito, collect, acc, getAccount, cancel } =\n    useContext(HicetnuncContext)\n\n  // sort swaps in ascending price order\n  swaps = swaps.sort((a, b) =>\n    a.xtz_per_objkt.localeCompare(b.xtz_per_objkt, 'en', { numeric: true })\n  )\n\n  const filtered =\n    (owners &&\n      Object.keys(owners)\n        .filter((s) => s.startsWith('tz'))\n        .filter((s) => parseFloat(owners[s]) > 0) // removes negative owners\n        .filter((e) => e !== 'tz1burnburnburnburnburnburnburjAYjjX') // remove burn wallet\n        .map((s) => ({ amount: owners[s], wallet: s }))) ||\n    []\n\n  const handleCollect = (swap_id, xtz_per_objkt) => {\n    if (acc == null) {\n      syncTaquito()\n      getAccount()\n    } else {\n      collect(1, swap_id, xtz_per_objkt)\n    }\n  }\n  return (\n    <>\n      {swaps.length > 0 && (\n        <Container>\n          <Padding>\n            <OwnerSwaps\n              swaps={swaps}\n              handleCollect={handleCollect}\n              acc={acc}\n              cancel={cancel}\n            />\n          </Padding>\n        </Container>\n      )}\n\n      {filtered.length === 0 ? undefined : (\n        <Container>\n          <Padding>\n            <OwnerList owners={filtered} />\n          </Padding>\n        </Container>\n      )}\n    </>\n  )\n}\n","import React, { useState, useContext } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { HicetnuncContext } from '../../../context/HicetnuncContext'\nimport { Container, Padding } from '../../../components/layout'\nimport { Loading } from '../../../components/loading'\nimport { Input } from '../../../components/input'\nimport { Button, Curate } from '../../../components/button'\nimport { getTotalSales } from '../../../utils/sanitise'\n\nexport const Swap = ({ total_amount, owners, token_info, address }) => {\n  const { id } = useParams()\n  const { swap } = useContext(HicetnuncContext)\n  const [amount, setAmount] = useState()\n  const [price, setPrice] = useState()\n  const sales = getTotalSales({ owners, creators: token_info.creators })\n  const [progress, setProgress] = useState(false)\n  const [message, setMessage] = useState('')\n\n  const checkPrice = (value) => {\n    if (value <= 0.1) {\n      setPrice(value)\n      setMessage(\n        'please note that items intended to be giveaways can be collected in multiple editions and resold in large quantities. please ensure you are happy with the quantity and price chosen before swapping'\n      )\n    } else {\n      setPrice(value)\n      setMessage('')\n    }\n\n    if (value === '') {\n      setPrice(value)\n      setMessage('')\n    }\n  }\n\n  const handleSubmit = () => {\n    if (!amount || amount === '' || !price || price === '') {\n      // simple validation for now\n      alert('invalid input')\n    } else {\n      setProgress(true)\n      setMessage('preparing swap')\n      // swap is valid call API\n      swap(parseFloat(amount), id, parseFloat(price) * 1000000)\n        .then((e) => {\n          // when taquito returns a success/fail message\n          setProgress(false)\n          setMessage(e.description)\n\n          //history.push(`${PATH.ISSUER}/${address}`)\n        })\n        .catch((e) => {\n          setProgress(false)\n          setMessage('error')\n        })\n    }\n  }\n\n  return (\n    <>\n      <Container>\n        <Padding>\n          <Input\n            type=\"number\"\n            placeholder=\"OBJKT amount\"\n            min={1}\n            defaultValue={amount}\n            max={total_amount - sales}\n            onChange={(e) => setAmount(e.target.value)}\n            disabled={progress}\n          />\n          <Input\n            type=\"number\"\n            placeholder=\"price per OBJKT (in tez)\"\n            min={0}\n            max={10000}\n            onChange={(e) => checkPrice(e.target.value)}\n            disabled={progress}\n          />\n          <Button onClick={handleSubmit} fit disabled={progress}>\n            <Curate>swap</Curate>\n          </Button>\n          <div>\n            <p>{message}</p>\n            {progress && <Loading />}\n          </div>\n        </Padding>\n      </Container>\n\n      <Container>\n        <Padding>\n          <p>\n            swaps which carry values are charged with a 2.5% fee for platform\n            maintenance\n          </p>\n        </Padding>\n      </Container>\n    </>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { Button } from '../../components/button'\nimport { Page, Container, Padding } from '../../components/layout'\nimport { GetOBJKT } from '../../data/api'\nimport { renderMediaType } from '../../components/media-types'\nimport { PATH } from '../../constants'\nimport { ResponsiveMasonry } from '../../components/responsive-masonry'\nimport styles from './styles.module.scss'\n\nconst sortByThumbnailTokenId = (a, b) => {\n  const ia = parseInt(a.thumbnail)\n  const ib = parseInt(b.thumbnail)\n  return ia < ib ? 1 : -1\n}\nexport const Galleries = () => {\n  const [data, setData] = useState([])\n\n  useEffect(() => {\n    // loads gallery to check endpoint file\n    fetch('/galleries/galleries.json')\n      .then((e) => e.json())\n      .then(async (galleries) => {\n        const g = []\n        let c = 0\n        galleries.forEach(async (element) => {\n          await GetOBJKT({ id: element.thumbnail }).then((e) => {\n            const found = galleries.find((e) => e.uid === element.uid)\n            g.push(Object.assign({}, found, e))\n            c++\n\n            if (c === galleries.length) {\n              g.sort(sortByThumbnailTokenId)\n              setData(g)\n            }\n          })\n        })\n      })\n\n    return () => {\n      document.body.style = {}\n    }\n  }, [])\n  return (\n    <Page title=\"Galleries\">\n      <Container xlarge>\n        <Padding>\n          <ResponsiveMasonry>\n            {data.map((e) => {\n              const { token_info } = e\n              const { mimeType, uri } = token_info.formats[0]\n\n              return (\n                <Button key={e.uid} to={`${PATH.GALLERY}/${e.uid}`}>\n                  <div className={styles.item}>\n                    <div\n                      style={{ pointerEvents: 'none' }}\n                      className={styles.image}\n                    >\n                      {renderMediaType({\n                        uri: uri.split('//')[1],\n                        mimeType,\n                        metadata: e,\n                        interactive: false,\n                      })}\n                      <div className={styles.number}>{e.name}</div>\n                    </div>\n                  </div>\n                </Button>\n              )\n            })}\n          </ResponsiveMasonry>\n        </Padding>\n      </Container>\n    </Page>\n  )\n}\n","import { useEffect, useState, useRef } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { GetOBJKT } from '../../../data/api'\nimport { renderMediaType } from '../../../components/media-types'\nimport { Loading } from '../../../components/loading'\nimport styles from './styles.module.scss'\n\n/**\n * Get OBJKT detail page with retries\n */\nexport const GetOBJKTStubbornly = async ({ id, tries = 5 }) => {\n  let count = 0\n  while (count < tries) {\n    try {\n      return await GetOBJKT({ id })\n    } catch (err) {\n      if (++count === tries) {\n        throw new Error(err)\n      }\n      await new Promise((resolve) =>\n        setTimeout(() => {\n          resolve()\n        }, 1000)\n      )\n    }\n  }\n}\n\nexport const Item = ({ objkt, onClick, minimal }) => {\n  const [data, setData] = useState()\n  const { ref, inView } = useInView({\n    rootMargin: '0px 0px 50% 0px',\n  })\n  const shown = useRef(false)\n  const nfs = 'not for sale'\n\n  useEffect(() => {\n    GetOBJKTStubbornly({ id: objkt })\n      .then(async (e) => {\n        const { token_info } = e\n        const { mimeType, uri } = token_info.formats[0]\n\n        let price = ''\n        try {\n          const prices = e.swaps.map((s) => parseFloat(s.xtz_per_objkt))\n          prices.sort((a, b) => a - b)\n          price =\n            prices[0] !== undefined ? Number(prices[0]) / 1000000 + 'tez' : nfs\n        } catch (e) {\n          price = nfs\n        }\n\n        let edition = ''\n        try {\n          const reducer = (accumulator, currentValue) =>\n            parseInt(accumulator) + parseInt(currentValue)\n          let ed =\n            e.swaps.length !== 0\n              ? e.swaps.map((e) => e.objkt_amount).reduce(reducer)\n              : ''\n          edition = price === nfs ? false : `edition ${ed}/${e.total_amount}`\n        } catch {\n          edition = false\n        }\n        setData({\n          ...e,\n          mimeType,\n          uri: uri.split('//')[1],\n          metadata: e,\n          price,\n          edition,\n        })\n      })\n      .catch((e) => console.log('error loading', objkt))\n  }, [objkt])\n\n  if (inView && !shown.current) {\n    shown.current = true\n  }\n\n  return (\n    <div className={styles.container} ref={ref}>\n      <>\n        {data ? (\n          <div key={`item-${objkt}`} onClick={() => onClick(data)}>\n            {(inView || shown) && (\n              <>\n                <div className={styles.image} style={{ pointerEvents: 'none' }}>\n                  {renderMediaType({\n                    ...data,\n                    shown: shown.current,\n                    inView,\n                    interactive: false,\n                  })}\n                  <div className={styles.number}>OBJKT#{objkt}</div>\n                </div>\n                {minimal !== true && (\n                  <div className={styles.info}>\n                    {data.edition !== false && <p>{data.edition}</p>}\n                    <p\n                      style={{\n                        opacity: data.price === nfs ? 0.5 : 1,\n                      }}\n                    >\n                      {data.price}\n                    </p>\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        ) : (\n          <div>\n            <Loading />\n          </div>\n        )}\n      </>\n    </div>\n  )\n}\n","import { Button } from '../button'\nimport { VisuallyHidden } from '../visually-hidden'\nimport styles from './styles.module.scss'\n\nexport const ArtistSocials = ({\n  site,\n  telegram,\n  twitter,\n  instagram,\n  github,\n  reddit,\n}) => {\n  return (\n    <div className={styles.container}>\n      {site && (\n        <Button href={site}>\n          <VisuallyHidden>{site}</VisuallyHidden>\n\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 16 16\"\n            style={{\n              fill: 'var(--text-color)',\n              stroke: 'transparent',\n              marginRight: '10px',\n            }}\n          >\n            <path d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z\" />\n          </svg>\n        </Button>\n      )}\n      {telegram && (\n        <Button href={`https://t.me/${telegram}`}>\n          <VisuallyHidden>{`https://t.me/${telegram}`}</VisuallyHidden>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 16 16\"\n            style={{\n              fill: 'var(--text-color)',\n              stroke: 'transparent',\n              marginRight: '10px',\n            }}\n          >\n            <path d=\"M6,13.9l0.2-3.8L13.1,4c0.3-0.3-0.1-0.4-0.5-0.2L4.2,9.2L0.6,8c-0.8-0.2-0.8-0.8,0.2-1.2l14.2-5.5c0.6-0.3,1.3,0.2,1,1.2l-2.4,11.4c-0.2,0.8-0.7,1-1.3,0.6l-3.7-2.7l-1.8,1.7C6.6,13.7,6.4,13.9,6,13.9z\"></path>\n          </svg>\n        </Button>\n      )}\n      {twitter && (\n        <Button href={`https://twitter.com/${twitter}`}>\n          <VisuallyHidden>{`https://twitter.com/${twitter}`}</VisuallyHidden>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 16 16\"\n            style={{\n              fill: 'var(--text-color)',\n              stroke: 'transparent',\n              marginRight: '10px',\n            }}\n          >\n            <path d=\"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z\" />\n          </svg>\n        </Button>\n      )}\n      {instagram && (\n        <Button href={`https://instagram.com/${instagram}`}>\n          <VisuallyHidden>{`https://instagram.com/${instagram}`}</VisuallyHidden>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 16 16\"\n            style={{\n              fill: 'var(--text-color)',\n              stroke: 'transparent',\n              marginRight: '10px',\n            }}\n          >\n            <path d=\"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z\" />\n          </svg>\n        </Button>\n      )}\n      {github && (\n        <Button href={`https://github.com/${github}`}>\n          <VisuallyHidden>{`https://github.com/${github}`}</VisuallyHidden>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 16 16\"\n            style={{\n              fill: 'var(--text-color)',\n              stroke: 'transparent',\n              marginRight: '10px',\n            }}\n          >\n            <path d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z\" />\n          </svg>\n        </Button>\n      )}\n      {reddit && (\n        <Button href={`https://reddit.com/${reddit}`}>\n          <VisuallyHidden>{`https://reddit.com/${reddit}`}</VisuallyHidden>\n          <svg\n            height=\"16\"\n            viewBox=\"0 0 512 512\"\n            width=\"16\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            style={{\n              fill: 'var(--text-color)',\n              stroke: 'transparent',\n              marginRight: '10px',\n            }}\n          >\n            <path d=\"m309.605469 343.347656c-11.46875 11.46875-36.042969 15.5625-53.554688 15.5625-17.5625 0-42.085937-4.09375-53.554687-15.5625-2.714844-2.714844-7.066406-2.714844-9.777344 0-2.714844 2.714844-2.714844 7.066406 0 9.777344 18.175781 18.175781 53.09375 19.609375 63.332031 19.609375s45.105469-1.433594 63.335938-19.609375c2.660156-2.714844 2.660156-7.066406 0-9.777344-2.714844-2.714844-7.066407-2.714844-9.78125 0zm0 0\" />\n            <path d=\"m224 282.675781c0-14.695312-11.980469-26.675781-26.675781-26.675781-14.691407 0-26.675781 11.980469-26.675781 26.675781 0 14.691407 11.984374 26.675781 26.675781 26.675781 14.695312 0 26.675781-11.980468 26.675781-26.675781zm0 0\" />\n            <path d=\"m256 0c-141.363281 0-256 114.636719-256 256s114.636719 256 256 256 256-114.636719 256-256-114.636719-256-256-256zm148.53125 290.148438c.5625 3.6875.871094 7.425781.871094 11.214843 0 57.445313-66.867188 103.988281-149.351563 103.988281s-149.351562-46.542968-149.351562-103.988281c0-3.839843.308593-7.628906.871093-11.316406-13.003906-5.835937-22.066406-18.890625-22.066406-34.046875 0-20.582031 16.691406-37.324219 37.324219-37.324219 10.035156 0 19.097656 3.941407 25.804687 10.394531 25.90625-18.6875 61.75-30.621093 101.632813-31.644531 0-.511719 18.636719-89.292969 18.636719-89.292969.359375-1.738281 1.382812-3.226562 2.867187-4.195312 1.484375-.972656 3.277344-1.28125 5.019531-.921875l62.054688 13.207031c4.351562-8.804687 13.308594-14.898437 23.804688-14.898437 14.746093 0 26.675781 11.929687 26.675781 26.675781s-11.929688 26.675781-26.675781 26.675781c-14.285157 0-25.855469-11.265625-26.519532-25.394531l-55.554687-11.828125-16.996094 80.027344c39.167969 1.378906 74.34375 13.257812 99.839844 31.691406 6.707031-6.5 15.820312-10.496094 25.90625-10.496094 20.636719 0 37.324219 16.691407 37.324219 37.324219 0 15.257812-9.164063 28.3125-22.117188 34.148438zm0 0\" />\n            <path d=\"m314.675781 256c-14.695312 0-26.675781 11.980469-26.675781 26.675781 0 14.691407 11.980469 26.675781 26.675781 26.675781 14.691407 0 26.675781-11.984374 26.675781-26.675781 0-14.695312-11.980468-26.675781-26.675781-26.675781zm0 0\" />\n          </svg>\n        </Button>\n      )}\n    </div>\n  )\n}\n","import { Button } from '../../../components/button'\nimport { PATH } from '../../../constants'\nimport { ArtistSocials } from '../../../components/artist-socials'\nimport styles from './styles.module.scss'\n\nexport const ArtistLogo = ({\n  wallet,\n  name,\n  site,\n  telegram,\n  twitter,\n  instagram,\n  github,\n  reddit,\n}) => {\n  //<Button to={`${PATH.ISSUER}/${wallet}`}>\n  return (\n    <div className={styles.artist}>\n      {wallet && (\n        <Button to={`${PATH.ISSUER}/${wallet}`}>\n          <div className={styles.icon}>\n            <img\n              src={`https://services.tzkt.io/v1/avatars2/${wallet}`}\n              alt=\"profile\"\n            />\n          </div>\n        </Button>\n      )}\n      <div className={styles.text}>\n        {name && (\n          <Button to={`${PATH.ISSUER}/${wallet}`}>\n            <p>\n              <strong>{name}</strong>\n            </p>\n          </Button>\n        )}\n        <ArtistSocials\n          site={site}\n          telegram={telegram}\n          twitter={twitter}\n          instagram={instagram}\n          github={github}\n          reddit={reddit}\n        />\n      </div>\n    </div>\n  )\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from 'react'\n\nimport { renderMediaType } from '../../../components/media-types'\nimport { Button, Purchase } from '../../../components/button'\nimport { PATH } from '../../../constants'\nimport { GetUserMetadata } from '../../../data/api'\nimport { ArtistLogo } from '../artist-icon'\nimport styles from './styles.module.scss'\n\nexport const ItemModal = ({ info }) => {\n  const [data, setData] = useState(false)\n  const creator = info.token_info.creators[0]\n\n  let message = ''\n  try {\n    const prices = info.swaps.map((s) => parseFloat(s.xtz_per_objkt))\n    prices.sort((a, b) => a - b)\n    message =\n      prices[0] !== undefined\n        ? 'collect for ' + Number(prices[0]) / 1000000 + ' tez'\n        : 'not for sale'\n  } catch (e) {\n    message = 'not for sale'\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      await GetUserMetadata(creator).then((response) => {\n        setData(response.data)\n      })\n    }\n    fetchData()\n  }, [])\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.image}>\n        {renderMediaType({\n          ...info,\n          interactive: true,\n        })}\n      </div>\n      <div className={styles.info}>\n        <div>\n          <Button to={`${PATH.OBJKT}/${info.objectId}`}>\n            <div className={styles.number}>OBJKT#{info.objectId}</div>\n          </Button>\n          <div className={styles.title}>{info.token_info.name}</div>\n          <div className={styles.description}>\n            {info.token_info.description}\n          </div>\n\n          <div className={styles.links}>\n            <ArtistLogo\n              wallet={creator}\n              name={data.alias}\n              site={data.site}\n              telegram={data.telegram}\n              twitter={data.twitter}\n              github={data.github}\n              reddit={data.reddit}\n            />\n\n            <div className={styles.collect}>\n              <Button to={`${PATH.OBJKT}/${info.objectId}`}>\n                <Purchase>{message}</Purchase>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from 'react'\nimport { GetUserMetadata } from '../../../data/api'\nimport { ArtistLogo } from '../artist-icon'\nimport styles from './styles.module.scss'\n\nexport const Artist = ({ artist }) => {\n  const [data, setData] = useState(false)\n\n  useEffect(() => {\n    const getWalletInfo = async () => {\n      if (artist.wallet) {\n        await GetUserMetadata(artist.wallet).then((response) => {\n          setData(response.data)\n        })\n      }\n    }\n\n    getWalletInfo()\n  }, [])\n\n  return (\n    <>\n      {artist.artist && (\n        <div className={styles.container}>\n          <ArtistLogo\n            wallet={artist.wallet}\n            name={data.alias}\n            site={data.site}\n            telegram={data.telegram}\n            twitter={data.twitter}\n            github={data.github}\n            reddit={data.reddit}\n          />\n          {data?.description && (\n            <p className={styles.bio}>{data.description}</p>\n          )}\n        </div>\n      )}\n    </>\n  )\n}\n","import React, { Component } from 'react'\nimport { Page } from '../../components/layout'\nimport { HicetnuncContext } from '../../context/HicetnuncContext'\n// const axios = require('axios')\n\nexport class Search extends Component {\n  static contextType = HicetnuncContext\n\n  state = {}\n\n  render() {\n    return (\n      <Page>\n        <div>search:</div>\n      </Page>\n    )\n  }\n}\n","import Sync from './pages/sync'\nimport { About } from './pages/about'\nimport { FAQ } from './pages/faq'\nimport Display from './pages/display'\nimport { Latest, Hdao, Random, Featured } from './pages/feeds'\nimport { Mint } from './pages/mint'\nimport { ObjktDisplay } from './pages/objkt-display'\nimport { Galleries } from './pages/galleries'\nimport { GalleryDetail } from './pages/gallery-detail'\nimport { Config } from './pages/config'\nimport { Search } from './pages/search'\nimport { Tags } from './pages/tags'\n\nexport const routes = [\n  {\n    exact: true,\n    path: '/',\n    component: Featured,\n  },\n  {\n    exact: false,\n    path: '/hdao',\n    component: Hdao,\n  },\n  {\n    exact: false,\n    path: '/random',\n    component: Random,\n  },\n  {\n    exact: false,\n    path: '/latest',\n    component: Latest,\n  },\n  {\n    exact: false,\n    path: '/tz/:id/:collection?',\n    component: Display,\n  },\n  {\n    exact: false,\n    path: '/about',\n    component: About,\n  },\n  {\n    exact: false,\n    path: '/faq',\n    component: FAQ,\n  },\n  {\n    exact: false,\n    path: '/sync',\n    component: Sync,\n  },\n  {\n    exact: false,\n    path: '/mint',\n    component: Mint,\n  },\n  {\n    exact: false,\n    path: '/objkt/:id',\n    component: ObjktDisplay,\n  },\n  {\n    exact: false,\n    path: '/galleries',\n    component: Galleries,\n  },\n  {\n    exact: false,\n    path: '/gallery/:id',\n    component: GalleryDetail,\n  },\n\n  //\n  //add condition for verifying if user is synced\n  ///////////////\n  {\n    exact: false,\n    path: '/config',\n    component: Config,\n  },\n  {\n    exact: false,\n    path: '/search',\n    component: Search,\n  },\n  {\n    exact: false,\n    path: '/tags/:id',\n    component: Tags,\n  },\n  {\n    exact: false,\n    path: '/:id',\n    component: Display,\n  },\n]\n","import { Feeds } from './feeds'\n\nexport const Latest = () => {\n  return <Feeds type={0} />\n}\n\nexport const Hdao = () => {\n  return <Feeds type={1} />\n}\n\nexport const Random = () => {\n  return <Feeds type={2} />\n}\n\nexport const Featured = () => {\n  return <Feeds type={3} />\n}\n","import React, { useEffect, useState } from 'react'\nimport { AnimatePresence } from 'framer-motion'\nimport { useParams } from 'react-router'\nimport { Page, Container, Padding } from '../../components/layout'\nimport { Loading } from '../../components/loading'\nimport { Button, Primary } from '../../components/button'\nimport { Item } from './item'\nimport { ItemModal } from './item-modal'\nimport { Artist } from './artist'\nimport { ResponsiveMasonry } from '../../components/responsive-masonry'\nimport styles from './styles.module.scss'\n\nexport const GalleryDetail = () => {\n  const { id } = useParams()\n  const [loaded, setLoaded] = useState(false)\n  const [collection, setCollection] = useState([])\n  const [modal, setModal] = useState()\n\n  const showModal = (info) => {\n    setModal(info)\n    if (info) {\n      document.body.style.overflow = 'hidden'\n    } else {\n      document.body.style = {}\n    }\n  }\n\n  useEffect(() => {\n    // loads gallery to check endpoint file\n    fetch('/galleries/galleries.json')\n      .then((e) => e.json())\n      .then((galleries) => {\n        const found = galleries.find((e) => e.uid === id)\n\n        if (found) {\n          fetch(found.endpoint)\n            .then((e) => e.json())\n            .then((data) => {\n              setCollection(data)\n              setLoaded(true)\n            })\n        } else {\n          alert(`gallery ${id} not found`)\n        }\n      })\n\n    return () => {\n      document.body.style = {}\n    }\n  }, [id])\n\n  return (\n    <Page title={collection?.title}>\n      {!loaded ? (\n        <Container>\n          <Padding>\n            <Loading />\n          </Padding>\n        </Container>\n      ) : (\n        <div className={styles.container}>\n          {false && (\n            <Container>\n              <Padding>\n                <Button to=\"/galleries\">\n                  <Primary>back</Primary>\n                </Button>\n              </Padding>\n            </Container>\n          )}\n\n          <Container>\n            <Padding>\n              <strong>{collection.title}</strong>\n            </Padding>\n          </Container>\n\n          <Container>\n            <Padding>\n              <p>{collection.description}</p>\n            </Padding>\n          </Container>\n\n          <Container xlarge>\n            <Padding>\n              <div className={styles.content}>\n                {collection.data.map((artist, i) => {\n                  return (\n                    <div className={styles.block} key={`artist${i}`}>\n                      <Artist artist={artist} />\n                      <ResponsiveMasonry>\n                        {artist.objkt.map((objkt) => {\n                          return (\n                            <Item\n                              key={objkt}\n                              objkt={objkt}\n                              onClick={(info) => showModal(info)}\n                              minimal={collection.minimal}\n                            />\n                          )\n                        })}\n                      </ResponsiveMasonry>\n                    </div>\n                  )\n                })}\n              </div>\n            </Padding>\n          </Container>\n\n          <AnimatePresence>\n            {modal && (\n              <div className={styles.modal}>\n                <div\n                  className={styles.background}\n                  onClick={() => showModal(false)}\n                />\n                <ItemModal info={modal} />\n                <div className={styles.close} onClick={() => showModal(false)}>\n                  CLOSE X\n                </div>\n              </div>\n            )}\n          </AnimatePresence>\n        </div>\n      )}\n    </Page>\n  )\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport { useParams } from 'react-router'\nimport { Button } from '../../components/button'\nimport { GetTags } from '../../data/api'\nimport { ResponsiveMasonry } from '../../components/responsive-masonry'\nimport { Loading } from '../../components/loading'\nimport { renderMediaType } from '../../components/media-types'\nimport { Page, Container, Padding } from '../../components/layout'\nimport { PATH } from '../../constants'\nimport styles from './styles.module.scss'\n\nexport const Tags = () => {\n  const { id } = useParams()\n  const [error, setError] = useState(false)\n  const [items, setItems] = useState([])\n  const [count, setCount] = useState(0)\n  const [hasMore, setHasMore] = useState(true)\n\n  const loadMore = () => {\n    setCount(count + 1)\n  }\n\n  useEffect(() => {\n    if (error) {\n      console.log('returning on error')\n      return\n    }\n\n    GetTags({ tag: id, page: count })\n      .then((result) => {\n        const next = items.concat(result)\n        setItems(next)\n\n        // if original returns less than 10, then there's no more data coming from API\n        if (result.length < 10) {\n          setHasMore(false)\n        }\n      })\n      .catch((e) => {\n        setError(true)\n      })\n  }, [count, id])\n\n  return (\n    <Page title={`Tag ${id}`}>\n      <InfiniteScroll\n        dataLength={items.length}\n        next={loadMore}\n        hasMore={hasMore}\n        loader={\n          <Container xlarge>\n            <Padding>\n              <Loading />\n            </Padding>\n          </Container>\n        }\n        endMessage={\n          <Container xlarge>\n            {/*             <p>\n              mint mint mint{' '}\n              <span role=\"img\" aria-labelledby={'Sparkles emoji'}>\n                \n              </span>\n            </p> */}\n          </Container>\n        }\n      >\n        <div className={styles.container}>\n          <Container xlarge>\n            <ResponsiveMasonry>\n              {items.map((nft) => {\n                const { mimeType, uri } = nft.formats[0]\n\n                return (\n                  <Button\n                    key={nft.token_id}\n                    to={`${PATH.OBJKT}/${nft.token_id}`}\n                  >\n                    <div className={styles.container}>\n                      {renderMediaType({\n                        mimeType,\n                        uri: uri.split('//')[1],\n                        metadata: nft,\n                      })}\n                      <div className={styles.number}>OBJKT#{nft.token_id}</div>\n                    </div>\n                  </Button>\n                )\n              })}\n            </ResponsiveMasonry>\n          </Container>\n        </div>\n      </InfiniteScroll>\n    </Page>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport HicetnuncContextProvider from './context/HicetnuncContext'\nimport { getInitialData } from './data/api'\nimport { Header } from './components/header'\nimport { Loading as Preloading } from './components/loading'\nimport { FeedbackComponent } from './components/feedback'\nimport { routes } from './routes'\n\nconst App = () => {\n  const [loading, setLoading] = useState(true)\n\n  // 1st time loading the site\n  useEffect(() => {\n    getInitialData().then(() => {\n      setLoading(false)\n    })\n  }, [])\n\n  if (loading) {\n    return <Preloading />\n  }\n\n  return (\n    <HicetnuncContextProvider>\n      <div style={{background: \"blue\", color: \"white\"}}>\n        <p>DEMO SERVER FOR <a href=\"https://www.hicathon.xyz/\" style={{color: \"white\", fontStyle: \"italic\"}} >HICATHON</a> WG 1.1</p>\n      </div>\n      <Header />\n      <FeedbackComponent />\n      <Switch>\n        {routes.map(({ exact, path, component: Comp }) => (\n          <Route path={path} exact={exact} key={path} component={Comp} />\n        ))}\n      </Switch>\n    </HicetnuncContextProvider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport './styles/index.scss'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}